(self.webpackChunkalgo_anim=self.webpackChunkalgo_anim||[]).push([[179],{261:(ta,ts,Fr)=>{"use strict";function Ot(t){return"function"==typeof t}function Qr(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Yr=Qr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function yt(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const l of n)l.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ot(r))try{r()}catch(l){e=l instanceof Yr?l.errors:[l]}const{_teardowns:a}=this;if(a){this._teardowns=null;for(const l of a)try{na(l)}catch(h){e=null!=e?e:[],h instanceof Yr?e=[...e,...h.errors]:e.push(h)}}if(e)throw new Yr(e)}}add(e){var n;if(e&&e!==this)if(this.closed)na(e);else{if(e instanceof Dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yt(n,e)}remove(e){const{_teardowns:n}=this;n&&yt(n,e),e instanceof Dn&&e._removeParent(this)}}Dn.EMPTY=(()=>{const t=new Dn;return t.closed=!0,t})();const pi=Dn.EMPTY;function gi(t){return t instanceof Dn||t&&"closed"in t&&Ot(t.remove)&&Ot(t.add)&&Ot(t.unsubscribe)}function na(t){Ot(t)?t():t.unsubscribe()}const dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ki={setTimeout(...t){const{delegate:e}=ki;return((null==e?void 0:e.setTimeout)||setTimeout)(...t)},clearTimeout(t){const{delegate:e}=ki;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function uo(t){ki.setTimeout(()=>{const{onUnhandledError:e}=dn;if(!e)throw t;e(t)})}function ra(){}const jt=Zr("C",void 0,void 0);function Zr(t,e,n){return{kind:t,value:e,error:n}}let Yn=null;function De(t){if(dn.useDeprecatedSynchronousErrorHandling){const e=!Yn;if(e&&(Yn={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Yn;if(Yn=null,n)throw r}}else t()}class we extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gi(e)&&e.add(this)):this.destination=fn}static create(e,n,r){return new le(e,n,r)}next(e){this.isStopped?Le(function ns(t){return Zr("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Le(function ia(t){return Zr("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Le(jt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class le extends we{constructor(e,n,r){let a;if(super(),Ot(e))a=e;else if(e){let l;({next:a,error:n,complete:r}=e),this&&dn.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=()=>this.unsubscribe()):l=e,a=null==a?void 0:a.bind(l),n=null==n?void 0:n.bind(l),r=null==r?void 0:r.bind(l)}this.destination={next:a?He(a):ra,error:He(null!=n?n:$e),complete:r?He(r):ra}}}function He(t,e){return(...n)=>{try{t(...n)}catch(r){dn.useDeprecatedSynchronousErrorHandling?function Ne(t){dn.useDeprecatedSynchronousErrorHandling&&Yn&&(Yn.errorThrown=!0,Yn.error=t)}(r):uo(r)}}}function $e(t){throw t}function Le(t,e){const{onStoppedNotification:n}=dn;n&&ki.setTimeout(()=>n(t,e))}const fn={closed:!0,next:ra,error:$e,complete:ra},Ee="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xt(t){return t}let Vt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,a){const l=function rs(t){return t&&t instanceof we||function co(t){return t&&Ot(t.next)&&Ot(t.error)&&Ot(t.complete)}(t)&&gi(t)}(n)?n:new le(n,r,a);return De(()=>{const{operator:h,source:p}=this;l.add(h?h.call(l,p):p?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=aa(r))((a,l)=>{let h;h=this.subscribe(p=>{try{n(p)}catch(y){l(y),null==h||h.unsubscribe()}},l,a)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ee](){return this}pipe(...n){return function Lt(t){return 0===t.length?Xt:1===t.length?t[0]:function(n){return t.reduce((r,a)=>a(r),n)}}(n)(this)}toPromise(n){return new(n=aa(n))((r,a)=>{let l;this.subscribe(h=>l=h,h=>a(h),()=>r(l))})}}return t.create=e=>new t(e),t})();function aa(t){var e;return null!==(e=null!=t?t:dn.Promise)&&void 0!==e?e:Promise}const _c=Qr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let kn=(()=>{class t extends Vt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Gs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _c}next(n){De(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const a of r)a.next(n)}})}error(n){De(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){De(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:a,observers:l}=this;return r||a?pi:(l.push(n),new Dn(()=>yt(l,n)))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:a,isStopped:l}=this;r?n.error(a):l&&n.complete()}asObservable(){const n=new Vt;return n.source=this,n}}return t.create=(e,n)=>new Gs(e,n),t})();class Gs extends kn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pi}}function fo(t){return Ot(null==t?void 0:t.lift)}function En(t){return e=>{if(fo(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Cn extends we{constructor(e,n,r,a,l){super(e),this.onFinalize=l,this._next=n?function(h){try{n(h)}catch(p){e.error(p)}}:super._next,this._error=a?function(h){try{a(h)}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Pt(t,e){return En((n,r)=>{let a=0;n.subscribe(new Cn(r,l=>{r.next(t.call(e,l,a++))}))})}function po(t){return this instanceof po?(this.v=t,this):new po(t)}function nv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=n.apply(t,e||[]),l=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(k){r[k]&&(a[k]=function(H){return new Promise(function(W,Z){l.push([k,H,W,Z])>1||p(k,H)})})}function p(k,H){try{!function y(k){k.value instanceof po?Promise.resolve(k.value.v).then(D,T):M(l[0][2],k)}(r[k](H))}catch(W){M(l[0][3],W)}}function D(k){p("next",k)}function T(k){p("throw",k)}function M(k,H){k(H),l.shift(),l.length&&p(l[0][0],l[0][1])}}function rv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Sc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=t[l]&&function(h){return new Promise(function(p,y){!function a(l,h,p,y){Promise.resolve(y).then(function(D){l({value:D,done:p})},h)}(p,y,(h=t[l](h)).done,h.value)})}}}const Fi=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function go(t){return Ot(null==t?void 0:t.then)}function Mc(t){return Ot(t[Ee])}function is(t){return Symbol.asyncIterator&&Ot(null==t?void 0:t[Symbol.asyncIterator])}function Ac(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const as=function Ws(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wf(t){return Ot(null==t?void 0:t[as])}function sa(t){return nv(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:a}=yield po(n.read());if(a)return yield po(void 0);yield yield po(r)}}finally{n.releaseLock()}})}function Ks(t){return Ot(null==t?void 0:t.getReader)}function Oi(t){if(t instanceof Vt)return t;if(null!=t){if(Mc(t))return function vo(t){return new Vt(e=>{const n=t[Ee]();if(Ot(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Fi(t))return function Kf(t){return new Vt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(go(t))return function ov(t){return new Vt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,uo)})}(t);if(is(t))return Yf(t);if(Wf(t))return function Qf(t){return new Vt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Ks(t))return function sv(t){return Yf(sa(t))}(t)}throw Ac(t)}function Yf(t){return new Vt(e=>{(function xc(t,e){var n,r,a,l;return function ev(t,e,n,r){return new(n||(n=Promise))(function(l,h){function p(T){try{D(r.next(T))}catch(M){h(M)}}function y(T){try{D(r.throw(T))}catch(M){h(M)}}function D(T){T.done?l(T.value):function a(l){return l instanceof n?l:new n(function(h){h(l)})}(T.value).then(p,y)}D((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=rv(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&(yield l.call(n))}finally{if(a)throw a.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Li(t,e,n,r=0,a=!1){const l=e.schedule(function(){n(),a?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(l),!a)return l}function Hn(t,e,n=1/0){return Ot(e)?Hn((r,a)=>Pt((l,h)=>e(r,l,a,h))(Oi(t(r,a))),n):("number"==typeof e&&(n=e),En((r,a)=>function Zl(t,e,n,r,a,l,h,p){const y=[];let D=0,T=0,M=!1;const k=()=>{M&&!y.length&&!D&&e.complete()},H=Z=>D<r?W(Z):y.push(Z),W=Z=>{l&&e.next(Z),D++;let ie=!1;Oi(n(Z,T++)).subscribe(new Cn(e,ne=>{null==a||a(ne),l?H(ne):e.next(ne)},()=>{ie=!0},void 0,()=>{if(ie)try{for(D--;y.length&&D<r;){const ne=y.shift();h?Li(e,h,()=>W(ne)):W(ne)}k()}catch(ne){e.error(ne)}}))};return t.subscribe(new Cn(e,H,()=>{M=!0,k()})),()=>{null==p||p()}}(r,a,t,n)))}function Ma(t=1/0){return Hn(Xt,t)}const qt=new Vt(t=>t.complete());function Jr(t){return t[t.length-1]}function Zf(t){return Ot(Jr(t))?t.pop():void 0}function os(t){return function uv(t){return t&&Ot(t.schedule)}(Jr(t))?t.pop():void 0}function Ic(t,e=0){return En((n,r)=>{n.subscribe(new Cn(r,a=>Li(r,t,()=>r.next(a),e),()=>Li(r,t,()=>r.complete(),e),a=>Li(r,t,()=>r.error(a),e)))})}function zn(t,e=0){return En((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function la(t,e){if(!t)throw new Error("Iterable cannot be null");return new Vt(n=>{Li(n,e,()=>{const r=t[Symbol.asyncIterator]();Li(n,e,()=>{r.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function Fn(t,e){return e?function Vi(t,e){if(null!=t){if(Mc(t))return function Aa(t,e){return Oi(t).pipe(zn(e),Ic(e))}(t,e);if(Fi(t))return function dv(t,e){return new Vt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(go(t))return function Pc(t,e){return Oi(t).pipe(zn(e),Ic(e))}(t,e);if(is(t))return la(t,e);if(Wf(t))return function vi(t,e){return new Vt(n=>{let r;return Li(n,e,()=>{r=t[as](),Li(n,e,()=>{let a,l;try{({value:a,done:l}=r.next())}catch(h){return void n.error(h)}l?n.complete():n.next(a)},0,!0)}),()=>Ot(null==r?void 0:r.return)&&r.return()})}(t,e);if(Ks(t))return function fv(t,e){return la(sa(t),e)}(t,e)}throw Ac(t)}(t,e):Oi(t)}function Bi(t){return t<=0?()=>qt:En((e,n)=>{let r=0;e.subscribe(new Cn(n,a=>{++r<=t&&(n.next(a),t<=r&&n.complete())}))})}function Jl(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Bi(1)).subscribe(()=>t())}function Bt(t){for(let e in t)if(t[e]===Bt)return e;throw Error("Could not find renamed property on target object.")}function Rc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Nc(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const pv=Bt({__forward_ref__:Bt});function Jt(t){return t.__forward_ref__=Jt,t.toString=function(){return Qt(this())},t}function et(t){return kc(t)?t():t}function kc(t){return"function"==typeof t&&t.hasOwnProperty(pv)&&t.__forward_ref__===Jt}class Ie extends Error{constructor(e,n){super(function eu(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function Qs(t,e){throw new Ie(-201,!1)}function jn(t,e){null==t&&function zt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ei(t){return{providers:t.providers||[],imports:t.imports||[]}}function ls(t){return ru(t,iu)||ru(t,Lc)}function ru(t,e){return t.hasOwnProperty(e)?t[e]:null}function yo(t){return t&&(t.hasOwnProperty(au)||t.hasOwnProperty(wv))?t[au]:null}const iu=Bt({\u0275prov:Bt}),au=Bt({\u0275inj:Bt}),Lc=Bt({ngInjectableDef:Bt}),wv=Bt({ngInjectorDef:Bt});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Vc;function $i(t){const e=Vc;return Vc=t,e}function eh(t,e,n){const r=ls(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ye.Optional?null:void 0!==e?e:void Qs(Qt(t))}function lr(t){return{toString:t}.toString()}var mi=(()=>((mi=mi||{})[mi.OnPush=0]="OnPush",mi[mi.Default=1]="Default",mi))(),yi=(()=>{return(t=yi||(yi={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",yi;var t})();const St=(()=>"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self)(),Vr={},Dt=[],su=Bt({\u0275cmp:Bt}),us=Bt({\u0275dir:Bt}),Xn=Bt({\u0275pipe:Bt}),Bc=Bt({\u0275mod:Bt}),wi=Bt({\u0275fac:Bt}),ca=Bt({__NG_ELEMENT_ID__:Bt});let $c=0;function wo(t){return lr(()=>{const n=!0===t.standalone,r={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mi.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||yi.Emulated,id:"c",styles:t.styles||Dt,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.dependencies,h=t.features;return a.id+=$c++,a.inputs=Hc(t.inputs,r),a.outputs=Hc(t.outputs),h&&h.forEach(p=>p(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(lu).filter(nh):null,a.pipeDefs=l?()=>("function"==typeof l?l():l).map(gr).filter(nh):null,a})}function lu(t){return Gt(t)||pr(t)}function nh(t){return null!==t}const _v={};function ti(t){return lr(()=>{const e={type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(_v[t.id]=t.type),e})}function Hc(t,e){if(null==t)return Vr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let a=t[r],l=a;Array.isArray(a)&&(l=a[1],a=a[0]),n[a]=r,e&&(e[a]=l)}return n}const Ue=wo;function Gt(t){return t[su]||null}function pr(t){return t[us]||null}function gr(t){return t[Xn]||null}function Br(t,e){const n=t[Bc]||null;if(!n&&!0===e)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return n}function _r(t){return Array.isArray(t)&&"object"==typeof t[1]}function Di(t){return Array.isArray(t)&&!0===t[1]}function zc(t){return 0!=(8&t.flags)}function fu(t){return 2==(2&t.flags)}function Js(t){return 1==(1&t.flags)}function Ei(t){return null!==t.template}function Mv(t){return 0!=(256&t[2])}function Co(t,e){return t.hasOwnProperty(wi)?t[wi]:null}class sh{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hr(){return Wc}function Wc(t){return t.type.prototype.ngOnChanges&&(t.setInput=da),lh}function lh(){const t=Qc(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Vr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function da(t,e,n,r){const a=Qc(t)||function uh(t,e){return t[Kc]=e}(t,{previous:Vr,current:null}),l=a.current||(a.current={}),h=a.previous,p=this.declaredInputs[n],y=h[p];l[p]=new sh(y&&y.currentValue,e,h===Vr),t[r]=e}Hr.ngInherit=!0;const Kc="__ngSimpleChanges__";function Qc(t){return t[Kc]||null}let Rt;function Ze(t){return!!t.listen}const ke={createRenderer:(t,e)=>function ps(){return void 0!==Rt?Rt:"undefined"!=typeof document?document:void 0}()};function _n(t){for(;Array.isArray(t);)t=t[0];return t}function Ln(t,e){return _n(e[t.index])}function Jc(t,e){return t.data[e]}function zr(t,e){const n=e[t];return _r(n)?n:n[0]}function ed(t){return 64==(64&t[2])}function Pa(t,e){return null==e?null:t[e]}function fh(t){t[18]=0}function tl(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ot={lFrame:ad(null),bindingsEnabled:!0};function ha(){return ot.bindingsEnabled}function fe(){return ot.lFrame.lView}function vt(){return ot.lFrame.tView}function Sn(){let t=hh();for(;null!==t&&64===t.type;)t=t.parent;return t}function hh(){return ot.lFrame.currentTNode}function Ci(t,e){const n=ot.lFrame;n.currentTNode=t,n.isParent=e}function nd(){return ot.lFrame.isParent}function _i(){return ot.lFrame.bindingIndex++}function So(t,e){const n=ot.lFrame;n.bindingIndex=n.bindingRootIndex=t,ys(e)}function ys(t){ot.lFrame.currentDirectiveIndex=t}function gu(t){ot.lFrame.currentQueryIndex=t}function mh(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function rd(t,e,n){if(n&Ye.SkipSelf){let a=e,l=t;for(;!(a=a.parent,null!==a||n&Ye.Host||(a=mh(l),null===a||(l=l[15],10&a.type))););if(null===a)return!1;e=a,t=l}const r=ot.lFrame=id();return r.currentTNode=e,r.lView=t,!0}function ka(t){const e=id(),n=t[1];ot.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function id(){const t=ot.lFrame,e=null===t?null:t.child;return null===e?ad(t):e}function ad(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function yh(){const t=ot.lFrame;return ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ws=yh;function Fa(){const t=yh();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vr(){return ot.lFrame.selectedIndex}function Oa(t){ot.lFrame.selectedIndex=t}function pn(){const t=ot.lFrame;return Jc(t.tView,t.selectedIndex)}function vu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const l=t.data[n].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:y,ngAfterViewChecked:D,ngOnDestroy:T}=l;h&&(t.contentHooks||(t.contentHooks=[])).push(-n,h),p&&((t.contentHooks||(t.contentHooks=[])).push(n,p),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,p)),y&&(t.viewHooks||(t.viewHooks=[])).push(-n,y),D&&((t.viewHooks||(t.viewHooks=[])).push(n,D),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,D)),null!=T&&(t.destroyHooks||(t.destroyHooks=[])).push(n,T)}}function mu(t,e,n){bs(t,e,3,n)}function yu(t,e,n,r){(3&t[2])===n&&bs(t,e,n,r)}function wu(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function bs(t,e,n,r){const l=null!=r?r:-1,h=e.length-1;let p=0;for(let y=void 0!==r?65535&t[18]:0;y<h;y++)if("number"==typeof e[y+1]){if(p=e[y],null!=r&&p>=r)break}else e[y]<0&&(t[18]+=65536),(p<l||-1==l)&&(bu(t,n,e,y),t[18]=(4294901760&t[18])+y+2),y++}function bu(t,e,n,r){const a=n[r]<0,l=n[r+1],p=t[a?-n[r]:n[r]];if(a){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{l.call(p)}finally{}}}else try{l.call(p)}finally{}}class al{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Du(t,e,n){const r=Ze(t);let a=0;for(;a<n.length;){const l=n[a];if("number"==typeof l){if(0!==l)break;a++;const h=n[a++],p=n[a++],y=n[a++];r?t.setAttribute(e,p,y,h):e.setAttributeNS(h,p,y)}else{const h=l,p=n[++a];Eu(h)?r&&t.setProperty(e,h,p):r?t.setAttribute(e,h,p):e.setAttribute(h,p),a++}}return a}function sl(t){return 3===t||4===t||6===t}function Eu(t){return 64===t.charCodeAt(0)}function ll(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const a=e[r];"number"==typeof a?n=a:0===n||It(t,n,a,null,-1===n||2===n?e[++r]:null)}}return t}function It(t,e,n,r,a){let l=0,h=t.length;if(-1===e)h=-1;else for(;l<t.length;){const p=t[l++];if("number"==typeof p){if(p===e){h=-1;break}if(p>e){h=l-1;break}}}for(;l<t.length;){const p=t[l];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==a&&(t[l+1]=a));if(r===t[l+1])return void(t[l+2]=a)}l++,null!==r&&l++,null!==a&&l++}-1!==h&&(t.splice(h,0,e),l=h+1),t.splice(l++,0,n),null!==r&&t.splice(l++,0,r),null!==a&&t.splice(l++,0,a)}function _h(t){return-1!==t}function To(t){return 32767&t}function Es(t,e){let n=function Cu(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let od=!0;function Mo(t){const e=od;return od=t,e}let tr=0;const ai={};function qi(t,e){const n=ud(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ld(r.data,t),ld(e,null),ld(r.blueprint,null));const a=_u(t,e),l=t.injectorIndex;if(_h(a)){const h=To(a),p=Es(a,e),y=p[1].data;for(let D=0;D<8;D++)e[l+D]=p[h+D]|y[h+D]}return e[l+8]=a,l}function ld(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ud(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function _u(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,a=e;for(;null!==a;){if(r=fl(a),null===r)return-1;if(n++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Su(t,e,n){!function sd(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ca)&&(r=n[ca]),null==r&&(r=n[ca]=tr++);const a=255&r;e.data[t+(a>>5)]|=1<<a}(t,e,n)}function cd(t,e,n){if(n&Ye.Optional)return t;Qs()}function Ao(t,e,n,r){if(n&Ye.Optional&&void 0===r&&(r=null),0==(n&(Ye.Self|Ye.Host))){const a=t[9],l=$i(void 0);try{return a?a.get(e,r,n&Ye.Optional):eh(e,r,n&Ye.Optional)}finally{$i(l)}}return cd(r,0,n)}function nr(t,e,n,r=Ye.Default,a){if(null!==t){if(1024&e[2]){const h=function en(t,e,n,r,a){let l=t,h=e;for(;null!==l&&null!==h&&1024&h[2]&&!(256&h[2]);){const p=dd(l,h,n,r|Ye.Self,ai);if(p!==ai)return p;let y=l.parent;if(!y){const D=h[21];if(D){const T=D.get(n,ai,r);if(T!==ai)return T}y=fl(h),h=h[15]}l=y}return a}(t,e,n,r,ai);if(h!==ai)return h}const l=dd(t,e,n,r,ai);if(l!==ai)return l}return Ao(e,n,r,a)}function dd(t,e,n,r,a){const l=function Th(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ca)?t[ca]:void 0;return"number"==typeof e?e>=0?255&e:Kv:e}(n);if("function"==typeof l){if(!rd(e,t,r))return r&Ye.Host?cd(a,0,r):Ao(e,n,r,a);try{const h=l(r);if(null!=h||r&Ye.Optional)return h;Qs()}finally{ws()}}else if("number"==typeof l){let h=null,p=ud(t,e),y=-1,D=r&Ye.Host?e[16][6]:null;for((-1===p||r&Ye.SkipSelf)&&(y=-1===p?_u(t,e):e[p+8],-1!==y&&qn(r,!1)?(h=e[1],p=To(y),e=Es(y,e)):p=-1);-1!==p;){const T=e[1];if(fd(l,p,T.data)){const M=Sh(p,e,n,h,r,D);if(M!==ai)return M}y=e[p+8],-1!==y&&qn(r,e[1].data[p+8]===D)&&fd(l,p,e)?(h=T,p=To(y),e=Es(y,e)):p=-1}}return a}function Sh(t,e,n,r,a,l){const h=e[1],p=h.data[t+8],T=function dl(t,e,n,r,a){const l=t.providerIndexes,h=e.data,p=1048575&l,y=t.directiveStart,T=l>>20,k=a?p+T:t.directiveEnd;for(let H=r?p:p+T;H<k;H++){const W=h[H];if(H<y&&n===W||H>=y&&W.type===n)return H}if(a){const H=h[y];if(H&&Ei(H)&&H.type===n)return y}return null}(p,h,n,null==r?fu(p)&&od:r!=h&&0!=(3&p.type),a&Ye.Host&&l===p);return null!==T?Cs(e,h,T,p):ai}function Cs(t,e,n,r){let a=t[n];const l=e.data;if(function Dh(t){return t instanceof al}(a)){const h=a;h.resolving&&function gv(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${t}${n}`)}(function xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}(l[n]));const p=Mo(h.canSeeViewProviders);h.resolving=!0;const y=h.injectImpl?$i(h.injectImpl):null;rd(t,r,Ye.Default);try{a=t[n]=h.factory(void 0,l,t,r),e.firstCreatePass&&n>=r.directiveStart&&function bh(t,e,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:l}=e.type.prototype;if(r){const h=Wc(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,h),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,h)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,a),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,l))}(n,l[n],e)}finally{null!==y&&$i(y),Mo(p),h.resolving=!1,ws()}}return a}function fd(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function qn(t,e){return!(t&Ye.Self||t&Ye.Host&&e)}class $t{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nr(this._tNode,this._lView,e,r,n)}}function Kv(){return new $t(Sn(),fe())}function fr(t){return lr(()=>{const e=t.prototype.constructor,n=e[wi]||hd(e),r=Object.prototype;let a=Object.getPrototypeOf(t.prototype).constructor;for(;a&&a!==r;){const l=a[wi]||hd(a);if(l&&l!==n)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function hd(t){return kc(t)?()=>{const e=hd(et(t));return e&&e()}:Co(t)}function fl(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function _s(t){return function Va(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const l=n[a];if(sl(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(l===e)return n[a+1];a+=2}}}return null}(Sn(),t)}const Si="__parameters__";function Io(t,e,n){return lr(()=>{const r=function pd(t){return function(...n){if(t){const r=t(...n);for(const a in r)this[a]=r[a]}}}(e);function a(...l){if(this instanceof a)return r.apply(this,l),this;const h=new a(...l);return p.annotation=h,p;function p(y,D,T){const M=y.hasOwnProperty(Si)?y[Si]:Object.defineProperty(y,Si,{value:[]})[Si];for(;M.length<=T;)M.push(null);return(M[T]=M[T]||[]).push(h),y}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a})}class tt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=at({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mh=new tt("AnalyzeForEntryComponents");function oi(t,e){t.forEach(n=>Array.isArray(n)?oi(n,e):e(n))}function rr(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gn(t,e,n){let r=Ro(t,e);return r>=0?t[1|r]=n:(r=~r,function gl(t,e,n,r){let a=t.length;if(a==e)t.push(n,r);else if(1===a)t.push(r,t[0]),t[0]=n;else{for(a--,t.push(t[a-1],t[a]);a>e;)t[a]=t[a-2],a--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Au(t,e){const n=Ro(t,e);if(n>=0)return t[1|n]}function Ro(t,e){return function bd(t,e,n){let r=0,a=t.length>>n;for(;a!==r;){const l=r+(a-r>>1),h=t[l<<n];if(e===h)return l<<n;h>e?a=l:r=l+1}return~(a<<n)}(t,e,1)}const vl={},Pu="__NG_DI_FLAG__",Ru="ngTempTokenPath",em=/\n/gm,kh="__source";let ml;function No(t){const e=ml;return ml=t,e}function tm(t,e=Ye.Default){if(void 0===ml)throw new Ie(-203,"");return null===ml?eh(t,void 0,e):ml.get(t,e&Ye.Optional?null:void 0,e)}function Ve(t,e=Ye.Default){return(function bv(){return Vc}()||tm)(et(t),e)}function Cd(t){const e=[];for(let n=0;n<t.length;n++){const r=et(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,"");let a,l=Ye.Default;for(let h=0;h<r.length;h++){const p=r[h],y=Oh(p);"number"==typeof y?-1===y?a=p.token:l|=y:a=p}e.push(Ve(a,l))}else e.push(Ve(r))}return e}function yl(t,e){return t[Pu]=e,t.prototype[Pu]=e,t}function Oh(t){return t[Pu]}const Nu=yl(Io("Inject",t=>({token:t})),-1),Ti=yl(Io("Optional"),8),Ms=yl(Io("SkipSelf"),4);const ja=new Map;let tp=0;const qa="__ngContext__";function An(t,e){_r(e)?(t[qa]=e[20],function wm(t){ja.set(t[20],t)}(e)):t[qa]=e}function xl(t){const e=t[qa];return"number"==typeof e?function ma(t){return ja.get(t)||null}(e):e||null}function Il(t){const e=xl(t);return e?_r(e)?e:e.lView:null}function zd(t){return t.ngOriginalError}function Ud(t,...e){t.error(...e)}class ko{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function Em(t){return t&&t.ngErrorLogger||Ud}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zd(e);for(;n&&zd(n);)n=zd(n);return n||null}}const g=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(St))();function E(t){return t instanceof Function?t():t}var I=(()=>((I=I||{})[I.Important=1]="Important",I[I.DashCase=2]="DashCase",I))();function N(t,e){return undefined(t,e)}function R(t){const e=t[3];return Di(e)?e[3]:e}function j(t){return L(t[13])}function U(t){return L(t[4])}function L(t){for(;null!==t&&!Di(t);)t=t[4];return t}function V(t,e,n,r,a){if(null!=r){let l,h=!1;Di(r)?l=r:_r(r)&&(h=!0,r=r[0]);const p=_n(r);0===t&&null!==n?null==a?xe(e,n,p):Ge(e,n,p,a||null,!0):1===t&&null!==n?Ge(e,n,p,a||null,!0):2===t?function ut(t,e,n){const r=Fe(t,e);r&&function Qe(t,e,n,r){Ze(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,p,h):3===t&&e.destroyNode(p),null!=l&&function gt(t,e,n,r,a){const l=n[7];l!==_n(n)&&V(e,t,r,l,a);for(let p=10;p<n.length;p++){const y=n[p];Oe(y[1],y,t,e,r,l)}}(e,t,l,n,a)}}function X(t,e,n){if(Ze(t))return t.createElement(e,n);{const r=null!==n?function kv(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function pe(t,e){const n=t[9],r=n.indexOf(e),a=e[3];512&e[2]&&(e[2]&=-513,tl(a,-1)),n.splice(r,1)}function ue(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const a=r[17];null!==a&&a!==t&&pe(a,r),e>0&&(t[n-1][4]=r[4]);const l=Vn(t,10+e);!function J(t,e){Oe(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const h=l[19];null!==h&&h.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Q(t,e){if(!(128&e[2])){const n=e[11];Ze(n)&&n.destroyNode&&Oe(t,e,n,3,null,null),function re(t){let e=t[13];if(!e)return se(t[1],t);for(;e;){let n=null;if(_r(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)_r(e)&&se(e[1],e),e=e[3];null===e&&(e=t),_r(e)&&se(e[1],e),n=e&&e[4]}e=n}}(e)}}function se(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function Ce(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const a=e[n[r]];if(!(a instanceof al)){const l=n[r+1];if(Array.isArray(l))for(let h=0;h<l.length;h+=2){const p=a[l[h]],y=l[h+1];try{y.call(p)}finally{}}else try{l.call(a)}finally{}}}}(t,e),function ge(t,e){const n=t.cleanup,r=e[7];let a=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const h=n[l+1],p="function"==typeof h?h(e):_n(e[h]),y=r[a=n[l+2]],D=n[l+3];"boolean"==typeof D?p.removeEventListener(n[l],y,D):D>=0?r[a=D]():r[a=-D].unsubscribe(),l+=2}else{const h=r[a=n[l+1]];n[l].call(h)}if(null!==r){for(let l=a+1;l<r.length;l++)r[l]();e[7]=null}}(t,e),1===e[1].type&&Ze(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Di(e[3])){n!==e[3]&&pe(n,e);const r=e[19];null!==r&&r.detachView(t)}!function np(t){ja.delete(t[20])}(e)}}function Ae(t,e,n){return function st(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const a=t.data[r.directiveStart].encapsulation;if(a===yi.None||a===yi.Emulated)return null}return Ln(r,n)}(t,e.parent,n)}function Ge(t,e,n,r,a){Ze(t)?t.insertBefore(e,n,r,a):(ze(e)?e.content:e).insertBefore(n,r,a)}function xe(t,e,n){Ze(t)?t.appendChild(e,n):(ze(e)?e.content:e).appendChild(n)}function Te(t,e,n,r,a){null!==r?Ge(t,e,n,r,a):xe(t,e,n)}function ze(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}function Fe(t,e){return Ze(t)?t.parentNode(e):e.parentNode}let ht=function bt(t,e,n){return 40&t.type?Ln(t,n):null};function te(t,e,n,r){const a=Ae(t,r,e),l=e[11],p=function Tt(t,e,n){return ht(t,e,n)}(r.parent||e[6],r,e);if(null!=a)if(Array.isArray(n))for(let y=0;y<n.length;y++)Te(l,a,n[y],p,!1);else Te(l,a,n,p,!1)}function me(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return de(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return me(t,r);{const a=t[e.index];return Di(a)?de(-1,a):_n(a)}}if(32&n)return N(e,t)()||_n(t[e.index]);{const r=ce(t,e);return null!==r?Array.isArray(r)?r[0]:me(R(t[16]),r):me(t,e.next)}}return null}function ce(t,e){return null!==e?t[16][6].projection[e.projection]:null}function de(t,e){const n=10+t+1;if(n<e.length){const r=e[n],a=r[1].firstChild;if(null!==a)return me(r,a)}return e[7]}function ye(t,e,n,r,a,l,h){for(;null!=n;){const p=r[n.index],y=n.type;if(h&&0===e&&(p&&An(_n(p),r),n.flags|=4),64!=(64&n.flags))if(8&y)ye(t,e,n.child,r,a,l,!1),V(e,t,a,p,l);else if(32&y){const D=N(n,r);let T;for(;T=D();)V(e,t,a,T,l);V(e,t,a,p,l)}else 16&y?Ut(t,e,r,n,a,l):V(e,t,a,p,l);n=h?n.projectionNext:n.next}}function Oe(t,e,n,r,a,l){ye(n,r,t.firstChild,e,a,l,!1)}function Ut(t,e,n,r,a,l){const h=n[16],y=h[6].projection[r.projection];if(Array.isArray(y))for(let D=0;D<y.length;D++)V(e,t,a,y[D],l);else ye(t,e,y,h[3],a,l,!0)}function ct(t,e,n){Ze(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ft(t,e,n){Ze(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function rn(t,e,n){let r=t.length;for(;;){const a=t.indexOf(e,n);if(-1===a)return a;if(0===a||t.charCodeAt(a-1)<=32){const l=e.length;if(a+l===r||t.charCodeAt(a+l)<=32)return a}n=a+1}}const li="ng-template";function Mi(t,e,n){let r=0;for(;r<t.length;){let a=t[r++];if(n&&"class"===a){if(a=t[r],-1!==rn(a.toLowerCase(),e,0))return!0}else if(1===a){for(;r<t.length&&"string"==typeof(a=t[r++]);)if(a.toLowerCase()===e)return!0;return!1}}return!1}function Wn(t){return 4===t.type&&t.value!==li}function ui(t,e,n){return e===(4!==t.type||n?t.value:li)}function yr(t,e,n){let r=4;const a=t.attrs||[],l=function Ps(t){for(let e=0;e<t.length;e++)if(sl(t[e]))return e;return t.length}(a);let h=!1;for(let p=0;p<e.length;p++){const y=e[p];if("number"!=typeof y){if(!h)if(4&r){if(r=2|1&r,""!==y&&!ui(t,y,n)||""===y&&1===e.length){if(Bn(r))return!1;h=!0}}else{const D=8&r?y:e[++p];if(8&r&&null!==t.attrs){if(!Mi(t.attrs,D,n)){if(Bn(r))return!1;h=!0}continue}const M=Ga(8&r?"class":y,a,Wn(t),n);if(-1===M){if(Bn(r))return!1;h=!0;continue}if(""!==D){let k;k=M>l?"":a[M+1].toLowerCase();const H=8&r?k:null;if(H&&-1!==rn(H,D,0)||2&r&&D!==k){if(Bn(r))return!1;h=!0}}}}else{if(!h&&!Bn(r)&&!Bn(y))return!1;if(h&&Bn(y))continue;h=!1,r=y|1&r}}return Bn(r)||h}function Bn(t){return 0==(1&t)}function Ga(t,e,n,r){if(null===e)return-1;let a=0;if(r||!n){let l=!1;for(;a<e.length;){const h=e[a];if(h===t)return a;if(3===h||6===h)l=!0;else{if(1===h||2===h){let p=e[++a];for(;"string"==typeof p;)p=e[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=l?1:2}return-1}return function zu(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Lo(t,e,n=!1){for(let r=0;r<e.length;r++)if(yr(t,e[r],n))return!0;return!1}function wr(t,e){return t?":not("+e.trim()+")":e}function jr(t){let e=t[0],n=1,r=2,a="",l=!1;for(;n<t.length;){let h=t[n];if("string"==typeof h)if(2&r){const p=t[++n];a+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?a+="."+h:4&r&&(a+=" "+h);else""!==a&&!Bn(h)&&(e+=wr(l,a),a=""),r=h,l=l||!Bn(r);n++}return""!==a&&(e+=wr(l,a)),e}const We={};function Uu(t,e,n,r){if(!r)if(3==(3&e[2])){const l=t.preOrderCheckHooks;null!==l&&mu(e,l,n)}else{const l=t.preOrderHooks;null!==l&&yu(e,l,0,n)}Oa(n)}const Gd=new tt("ENVIRONMENT_INITIALIZER"),Wd=new tt("INJECTOR_DEF_TYPES");function Mm(...t){return{\u0275providers:ci(0,t)}}function ci(t,...e){const n=[],r=new Set;let a;return oi(e,l=>{const h=l;qu(h,n,[],r)&&(a||(a=[]),a.push(h))}),void 0!==a&&ju(a,n),n}function ju(t,e){for(let n=0;n<t.length;n++){const{providers:a}=t[n];oi(a,l=>{e.push(l)})}}function qu(t,e,n,r){if(!(t=et(t)))return!1;let a=null,l=yo(t);const h=!l&&Gt(t);if(l||h){if(h&&!h.standalone)return!1;a=t}else{const y=t.ngModule;if(l=yo(y),!l)return!1;a=y}const p=r.has(a);if(h){if(p)return!1;if(r.add(a),h.dependencies){const y="function"==typeof h.dependencies?h.dependencies():h.dependencies;for(const D of y)qu(D,e,n,r)}}else{if(!l)return!1;{if(null!=l.imports&&!p){let D;r.add(a);try{oi(l.imports,T=>{qu(T,e,n,r)&&(D||(D=[]),D.push(T))})}finally{}void 0!==D&&ju(D,e)}if(!p){const D=Co(a)||(()=>new a);e.push({provide:a,useFactory:D,deps:Dt},{provide:Wd,useValue:a,multi:!0},{provide:Gd,useValue:()=>Ve(a),multi:!0})}const y=l.providers;null==y||p||oi(y,T=>{e.push(T)})}}return a!==t&&void 0!==t.providers}const Ai=Bt({provide:String,useValue:Bt});function Kd(t){return null!==t&&"object"==typeof t&&Ai in t}function Rl(t){return"function"==typeof t}const Am=new tt("INJECTOR",-1);class $b{get(e,n=vl){if(n===vl){const r=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw r.name="NullInjectorError",r}return n}}const xm=new tt("Set Injector scope."),hp={},LM={};let Im;function Pm(){return void 0===Im&&(Im=new $b),Im}class Nl{}class Hb extends Nl{constructor(e,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nm(e,h=>this.processProvider(h)),this.records.set(Am,Wu(void 0,this)),a.has("environment")&&this.records.set(Nl,Wu(void 0,this));const l=this.records.get(xm);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Wd.multi,Dt,Ye.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,n=vl,r=Ye.Default){this.assertNotDestroyed();const a=No(this),l=$i(void 0);try{if(!(r&Ye.SkipSelf)){let p=this.records.get(e);if(void 0===p){const y=function zM(t){return"function"==typeof t||"object"==typeof t&&t instanceof tt}(e)&&ls(e);p=y&&this.injectableDefInScope(y)?Wu(Rm(e),hp):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(r&Ye.Self?Pm():this.parent).get(e,n=r&Ye.Optional&&n===vl?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[Ru]=h[Ru]||[]).unshift(Qt(e)),a)throw h;return function rm(t,e,n,r){const a=t[Ru];throw e[kh]&&a.unshift(e[kh]),t.message=function Lh(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let a=Qt(e);if(Array.isArray(e))a=e.map(Qt).join(" -> ");else if("object"==typeof e){let l=[];for(let h in e)if(e.hasOwnProperty(h)){let p=e[h];l.push(h+":"+("string"==typeof p?JSON.stringify(p):Qt(p)))}a=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${t.replace(em,"\n  ")}`}("\n"+t.message,a,n,r),t.ngTokenPath=a,t[Ru]=null,t}(h,e,"R3InjectorError",this.source)}throw h}finally{$i(l),No(a)}}resolveInjectorInitializers(){const e=No(this),n=$i(void 0);try{const r=this.get(Gd.multi,Dt,Ye.Self);for(const a of r)a()}finally{No(e),$i(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(e){let n=Rl(e=et(e))?e:et(e&&e.provide);const r=function BM(t){return Kd(t)?Wu(void 0,t.useValue):Wu(zb(t),hp)}(e);if(Rl(e)||!0!==e.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Wu(void 0,hp,!0),a.factory=()=>Cd(a.multi),this.records.set(n,a)),n=e,a.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===hp&&(n.value=LM,n.value=n.factory()),"object"==typeof n.value&&n.value&&function HM(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=et(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Rm(t){const e=ls(t),n=null!==e?e.factory:Co(t);if(null!==n)return n;if(t instanceof tt)throw new Ie(204,!1);if(t instanceof Function)return function VM(t){const e=t.length;if(e>0)throw function pl(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new Ie(204,!1);const n=function Jf(t){const e=t&&(t[iu]||t[Lc]);if(e){const n=function Oc(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Ie(204,!1)}function zb(t,e,n){let r;if(Rl(t)){const a=et(t);return Co(a)||Rm(a)}if(Kd(t))r=()=>et(t.useValue);else if(function Bb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Cd(t.deps||[]));else if(function Vb(t){return!(!t||!t.useExisting)}(t))r=()=>Ve(et(t.useExisting));else{const a=et(t&&(t.useClass||t.provide));if(!function $M(t){return!!t.deps}(t))return Co(a)||Rm(a);r=()=>new a(...Cd(t.deps))}return r}function Wu(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UM(t){return!!t.\u0275providers}function Nm(t,e){for(const n of t)Array.isArray(n)?Nm(n,e):UM(n)?Nm(n.\u0275providers,e):e(n)}function Ub(t,e=null,n=null,r){const a=jb(t,e,n,r);return a.resolveInjectorInitializers(),a}function jb(t,e=null,n=null,r,a=new Set){const l=[n||Dt,Mm(t)];return r=r||("object"==typeof t?void 0:Qt(t)),new Hb(l,e||Pm(),r||null,a)}let di=(()=>{class t{static create(n,r){var a;if(Array.isArray(n))return Ub({name:""},r,n,"");{const l=null!==(a=n.name)&&void 0!==a?a:"";return Ub({name:l},n.parent,n.providers,l)}}}return t.THROW_IF_NOT_FOUND=vl,t.NULL=new $b,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>Ve(Am)}),t.__NG_ELEMENT_ID__=-1,t})();function be(t,e=Ye.Default){const n=fe();return null===n?Ve(t,e):nr(Sn(),n,et(t),e)}function Vm(){throw new Error("invalid")}function gp(t,e){return t<<17|e<<2}function ya(t){return t>>17&32767}function Bm(t){return 2|t}function Ho(t){return(131068&t)>>2}function $m(t,e){return-131069&t|e<<2}function Hm(t){return 1|t}function sD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r],l=n[r+1];if(-1!==l){const h=t.data[l];gu(a),h.contentQueries(2,e[l],l)}}}function Qd(t,e,n,r,a,l,h,p,y,D,T){const M=e.blueprint.slice();return M[0]=a,M[2]=76|r,(null!==T||t&&1024&t[2])&&(M[2]|=1024),fh(M),M[3]=M[15]=t,M[8]=n,M[10]=h||t&&t[10],M[11]=p||t&&t[11],M[12]=y||t&&t[12]||null,M[9]=D||t&&t[9]||null,M[6]=l,M[20]=function Ur(){return tp++}(),M[21]=T,M[16]=2==e.type?t[16]:M,M}function Qu(t,e,n,r,a){let l=t.data[e];if(null===l)l=function Zm(t,e,n,r,a){const l=hh(),h=nd(),y=t.data[e]=function yA(t,e,n,r,a,l){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?l:l&&l.parent,n,e,r,a);return null===t.firstChild&&(t.firstChild=y),null!==l&&(h?null==l.child&&null!==y.parent&&(l.child=y):null===l.next&&(l.next=y)),y}(t,e,n,r,a),function ri(){return ot.lFrame.inI18n}()&&(l.flags|=64);else if(64&l.type){l.type=n,l.value=r,l.attrs=a;const h=function pa(){const t=ot.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();l.injectorIndex=null===h?-1:h.injectorIndex}return Ci(l,!0),l}function Yu(t,e,n,r){if(0===n)return-1;const a=e.length;for(let l=0;l<n;l++)e.push(r),t.blueprint.push(r),t.data.push(null);return a}function Yd(t,e,n){ka(e);try{const r=t.viewQuery;null!==r&&oy(1,r,n);const a=t.template;null!==a&&dD(t,e,a,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&sD(t,e),t.staticViewQueries&&oy(2,t.viewQuery,n);const l=t.components;null!==l&&function gA(t,e){for(let n=0;n<e.length;n++)LA(t,e[n])}(e,l)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Fa()}}function Zu(t,e,n,r){const a=e[2];if(128!=(128&a)){ka(e);try{fh(e),function gh(t){return ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&dD(t,e,n,2,r);const h=3==(3&a);if(h){const D=t.preOrderCheckHooks;null!==D&&mu(e,D,null)}else{const D=t.preOrderHooks;null!==D&&yu(e,D,0,null),wu(e,0)}if(function FA(t){for(let e=j(t);null!==e;e=U(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const a=n[r],l=a[3];0==(512&a[2])&&tl(l,1),a[2]|=512}}}(e),function kA(t){for(let e=j(t);null!==e;e=U(e))for(let n=10;n<e.length;n++){const r=e[n],a=r[1];ed(r)&&Zu(a,r,a.template,r[8])}}(e),null!==t.contentQueries&&sD(t,e),h){const D=t.contentCheckHooks;null!==D&&mu(e,D)}else{const D=t.contentHooks;null!==D&&yu(e,D,1),wu(e,1)}!function hA(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)Oa(~a);else{const l=a,h=n[++r],p=n[++r];So(h,l),p(2,e[l])}}}finally{Oa(-1)}}(t,e);const p=t.components;null!==p&&function pA(t,e){for(let n=0;n<e.length;n++)OA(t,e[n])}(e,p);const y=t.viewQuery;if(null!==y&&oy(2,y,r),h){const D=t.viewCheckHooks;null!==D&&mu(e,D)}else{const D=t.viewHooks;null!==D&&yu(e,D,2),wu(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,tl(e[3],-1))}finally{Fa()}}}function vA(t,e,n,r){const a=e[10],h=function ch(t){return 4==(4&t[2])}(e);try{!h&&a.begin&&a.begin(),h&&Yd(t,e,r),Zu(t,e,n,r)}finally{!h&&a.end&&a.end()}}function dD(t,e,n,r,a){const l=vr(),h=2&r;try{Oa(-1),h&&e.length>22&&Uu(t,e,22,!1),n(r,a)}finally{Oa(l)}}function Xm(t,e,n){!ha()||(function TA(t,e,n,r){const a=n.directiveStart,l=n.directiveEnd;t.firstCreatePass||qi(n,e),An(r,e);const h=n.initialInputs;for(let p=a;p<l;p++){const y=t.data[p],D=Ei(y);D&&PA(e,n,y);const T=Cs(e,t,p,n);An(T,e),null!==h&&RA(0,p-a,T,y,0,h),D&&(zr(n.index,e)[8]=T)}}(t,e,n,Ln(n,e)),128==(128&n.flags)&&function MA(t,e,n){const r=n.directiveStart,a=n.directiveEnd,l=n.index,h=function rl(){return ot.lFrame.currentDirectiveIndex}();try{Oa(l);for(let p=r;p<a;p++){const y=t.data[p],D=e[p];ys(p),(null!==y.hostBindings||0!==y.hostVars||null!==y.hostAttrs)&&bD(y,D)}}finally{Oa(-1),ys(h)}}(t,e,n))}function Jm(t,e,n=Ln){const r=e.localNames;if(null!==r){let a=e.index+1;for(let l=0;l<r.length;l+=2){const h=r[l+1],p=-1===h?n(e,t):t[h];t[a++]=p}}}function hD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=yp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function yp(t,e,n,r,a,l,h,p,y,D){const T=22+r,M=T+a,k=function mA(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:We);return n}(T,M),H="function"==typeof D?D():D;return k[1]={type:t,blueprint:k,template:n,queries:null,viewQuery:p,declTNode:e,data:k.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:y,consts:H,incompleteFirstPass:!1}}function mD(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const a=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,a):n[r]=[e,a]}return n}function ey(t,e,n,r){let a=!1;if(ha()){const l=function AA(t,e,n){const r=t.directiveRegistry;let a=null;if(r)for(let l=0;l<r.length;l++){const h=r[l];Lo(n,h.selectors,!1)&&(a||(a=[]),Su(qi(n,e),t,h.type),Ei(h)?(DD(t,n),a.unshift(h)):a.push(h))}return a}(t,e,n),h=null===r?null:{"":-1};if(null!==l){a=!0,ED(n,t.data.length,l.length);for(let T=0;T<l.length;T++){const M=l[T];M.providersResolver&&M.providersResolver(M)}let p=!1,y=!1,D=Yu(t,e,l.length,null);for(let T=0;T<l.length;T++){const M=l[T];n.mergedAttrs=ll(n.mergedAttrs,M.hostAttrs),CD(t,n,e,D,M),IA(D,M,h),null!==M.contentQueries&&(n.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(n.flags|=128);const k=M.type.prototype;!p&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),p=!0),!y&&(k.ngOnChanges||k.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),y=!0),D++}!function wA(t,e){const r=e.directiveEnd,a=t.data,l=e.attrs,h=[];let p=null,y=null;for(let D=e.directiveStart;D<r;D++){const T=a[D],M=T.inputs,k=null===l||Wn(e)?null:NA(M,l);h.push(k),p=mD(M,D,p),y=mD(T.outputs,D,y)}null!==p&&(p.hasOwnProperty("class")&&(e.flags|=16),p.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=h,e.inputs=p,e.outputs=y}(t,n)}h&&function xA(t,e,n){if(e){const r=t.localNames=[];for(let a=0;a<e.length;a+=2){const l=n[e[a+1]];if(null==l)throw new Ie(-301,!1);r.push(e[a],l)}}}(n,r,h)}return n.mergedAttrs=ll(n.mergedAttrs,n.attrs),a}function wD(t,e,n,r,a,l){const h=l.hostBindings;if(h){let p=t.hostBindingOpCodes;null===p&&(p=t.hostBindingOpCodes=[]);const y=~e.index;(function SA(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(p)!=y&&p.push(y),p.push(r,a,h)}}function bD(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function DD(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function IA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ei(e)&&(n[""]=t)}}function ED(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CD(t,e,n,r,a){t.data[r]=a;const l=a.factory||(a.factory=Co(a.type)),h=new al(l,Ei(a),be);t.blueprint[r]=h,n[r]=h,wD(t,e,0,r,Yu(t,n,a.hostVars,We),a)}function PA(t,e,n){const r=Ln(e,t),a=hD(n),l=t[10],h=wp(t,Qd(t,a,null,n.onPush?32:16,r,e,l,l.createRenderer(r,n),null,null,null));t[e.index]=h}function Qa(t,e,n,r,a,l){const h=Ln(t,e);!function ty(t,e,n,r,a,l,h){if(null==l)Ze(t)?t.removeAttribute(e,a,n):e.removeAttribute(a);else{const p=null==h?lt(l):h(l,r||"",a);Ze(t)?t.setAttribute(e,a,p,n):n?e.setAttributeNS(n,a,p):e.setAttribute(a,p)}}(e[11],h,l,t.value,n,r,a)}function RA(t,e,n,r,a,l){const h=l[e];if(null!==h){const p=r.setInput;for(let y=0;y<h.length;){const D=h[y++],T=h[y++],M=h[y++];null!==p?r.setInput(n,M,D,T):n[T]=M}}}function NA(t,e){let n=null,r=0;for(;r<e.length;){const a=e[r];if(0!==a)if(5!==a){if("number"==typeof a)break;t.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,t[a],e[r+1])),r+=2}else r+=2;else r+=4}return n}function _D(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function OA(t,e){const n=zr(e,t);if(ed(n)){const r=n[1];48&n[2]?Zu(r,n,r.template,n[8]):n[5]>0&&ny(n)}}function ny(t){for(let r=j(t);null!==r;r=U(r))for(let a=10;a<r.length;a++){const l=r[a];if(512&l[2]){const h=l[1];Zu(h,l,h.template,l[8])}else l[5]>0&&ny(l)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const a=zr(n[r],t);ed(a)&&a[5]>0&&ny(a)}}function LA(t,e){const n=zr(e,t),r=n[1];(function VA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Yd(r,n,n[8])}function wp(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ry(t){for(;t;){t[2]|=32;const e=R(t);if(Mv(t)&&!e)return t;t=e}return null}function SD(t){!function iy(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Il(n);if(null!==r){const a=r[1];vA(a,r,a.template,n)}}}(t[8])}function oy(t,e,n){gu(0),e(t,n)}const $A=(()=>Promise.resolve(null))();function TD(t){return t[7]||(t[7]=[])}function MD(t){return t.cleanup||(t.cleanup=[])}function xD(t,e){const n=t[9],r=n?n.get(ko,null):null;r&&r.handleError(e)}function ID(t,e,n,r,a){for(let l=0;l<n.length;){const h=n[l++],p=n[l++],y=e[h],D=t.data[h];null!==D.setInput?D.setInput(y,a,r,p):y[p]=a}}function bp(t,e,n){let r=n?t.styles:null,a=n?t.classes:null,l=0;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?l=p:1==l?a=Nc(a,p):2==l&&(r=Nc(r,p+": "+e[++h]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=a:t.classesWithoutHost=a}function ZA(t,e){vu(Il(t)[1],Sn())}function Zt(t){let e=function zD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let a;if(Ei(t))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ie(903,"");a=e.\u0275dir}if(a){if(n){r.push(a);const h=t;h.inputs=ly(t.inputs),h.declaredInputs=ly(t.declaredInputs),h.outputs=ly(t.outputs);const p=a.hostBindings;p&&tx(t,p);const y=a.viewQuery,D=a.contentQueries;if(y&&JA(t,y),D&&ex(t,D),Rc(t.inputs,a.inputs),Rc(t.declaredInputs,a.declaredInputs),Rc(t.outputs,a.outputs),Ei(a)&&a.data.animation){const T=t.data;T.animation=(T.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let h=0;h<l.length;h++){const p=l[h];p&&p.ngInherit&&p(t),p===Zt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function XA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const a=t[r];a.hostVars=e+=a.hostVars,a.hostAttrs=ll(a.hostAttrs,n=ll(n,a.hostAttrs))}}(r)}function ly(t){return t===Vr?{}:t===Dt?[]:t}function JA(t,e){const n=t.viewQuery;t.viewQuery=n?(r,a)=>{e(r,a),n(r,a)}:e}function ex(t,e){const n=t.contentQueries;t.contentQueries=n?(r,a,l)=>{e(r,a,l),n(r,a,l)}:e}function tx(t,e){const n=t.hostBindings;t.hostBindings=n?(r,a)=>{e(r,a),n(r,a)}:e}let Dp=null;function kl(){if(!Dp){const t=St.Symbol;if(t&&t.iterator)Dp=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Dp=r)}}}return Dp}function Zd(t){return!!function uy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&kl()in t)}function xr(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Za(t,e,n,r){const a=fe();return xr(a,_i(),e)&&(vt(),Qa(pn(),a,t,e,n,r)),Za}function sc(t,e,n){const r=fe();return xr(r,_i(),e)&&function xi(t,e,n,r,a,l,h,p){const y=Ln(e,n);let T,D=e.inputs;!p&&null!=D&&(T=D[r])?(ID(t,n,T,r,a),fu(e)&&function DA(t,e){const n=zr(e,t);16&n[2]||(n[2]|=32)}(n,e.index)):3&e.type&&(r=function bA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),a=null!=h?h(a,e.value||"",r):a,Ze(l)?l.setProperty(y,r,a):Eu(r)||(y.setProperty?y.setProperty(r,a):y[r]=a))}(vt(),pn(),r,t,e,r[11],n,!1),sc}function cy(t,e,n,r,a){const h=a?"class":"style";ID(t,n,e.inputs[h],h,r)}function an(t,e,n,r){const a=fe(),l=vt(),h=22+t,p=a[11],y=a[h]=X(p,e,function qv(){return ot.lFrame.currentNamespace}()),D=l.firstCreatePass?function cx(t,e,n,r,a,l,h){const p=e.consts,D=Qu(e,t,2,a,Pa(p,l));return ey(e,n,D,Pa(p,h)),null!==D.attrs&&bp(D,D.attrs,!1),null!==D.mergedAttrs&&bp(D,D.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,D),D}(h,l,a,0,e,n,r):l.data[h];Ci(D,!0);const T=D.mergedAttrs;null!==T&&Du(p,y,T);const M=D.classes;null!==M&&ft(p,y,M);const k=D.styles;return null!==k&&ct(p,y,k),64!=(64&D.flags)&&te(l,a,y,D),0===function Lv(){return ot.lFrame.elementDepthCount}()&&An(y,a),function Vv(){ot.lFrame.elementDepthCount++}(),Js(D)&&(Xm(l,a,D),function fD(t,e,n){if(zc(e)){const a=e.directiveEnd;for(let l=e.directiveStart;l<a;l++){const h=t.data[l];h.contentQueries&&h.contentQueries(1,n[l],l)}}}(l,D,a)),null!==r&&Jm(a,D),an}function on(){let t=Sn();nd()?function vs(){ot.lFrame.isParent=!1}():(t=t.parent,Ci(t,!1));const e=t;!function Bv(){ot.lFrame.elementDepthCount--}();const n=vt();return n.firstCreatePass&&(vu(n,t),zc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function La(t){return 0!=(16&t.flags)}(e)&&cy(n,e,fe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Ch(t){return 0!=(32&t.flags)}(e)&&cy(n,e,fe(),e.stylesWithoutHost,!1),on}function Xa(t,e,n,r){return an(t,e,n,r),on(),Xa}function Jd(t){return!!t&&"function"==typeof t.then}const py=function nE(t){return!!t&&"function"==typeof t.subscribe};function br(t,e,n,r){const a=fe(),l=vt(),h=Sn();return function iE(t,e,n,r,a,l,h,p){const y=Js(r),T=t.firstCreatePass&&MD(t),M=e[8],k=TD(e);let H=!0;if(3&r.type||p){const ie=Ln(r,e),ne=p?p(ie):ie,Se=k.length,ae=p?Me=>p(_n(Me[r.index])):r.index;if(Ze(n)){let Me=null;if(!p&&y&&(Me=function fx(t,e,n,r){const a=t.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const h=a[l];if(h===n&&a[l+1]===r){const p=e[7],y=a[l+2];return p.length>y?p[y]:null}"string"==typeof h&&(l+=2)}return null}(t,e,a,r.index)),null!==Me)(Me.__ngLastListenerFn__||Me).__ngNextListenerFn__=l,Me.__ngLastListenerFn__=l,H=!1;else{l=gy(r,e,M,l,!1);const it=n.listen(ne,a,l);k.push(l,it),T&&T.push(a,ae,Se,Se+1)}}else l=gy(r,e,M,l,!0),ne.addEventListener(a,l,h),k.push(l),T&&T.push(a,ae,Se,h)}else l=gy(r,e,M,l,!1);const W=r.outputs;let Z;if(H&&null!==W&&(Z=W[a])){const ie=Z.length;if(ie)for(let ne=0;ne<ie;ne+=2){const Ft=e[Z[ne]][Z[ne+1]].subscribe(l),Rn=k.length;k.push(l,Ft),T&&T.push(a,r.index,Rn,-(Rn+1))}}}(l,a,a[11],h,t,e,!!n,r),br}function aE(t,e,n,r){try{return!1!==n(r)}catch(a){return xD(t,a),!1}}function gy(t,e,n,r,a){return function l(h){if(h===Function)return r;ry(2&t.flags?zr(t.index,e):e);let y=aE(e,0,r,h),D=l.__ngNextListenerFn__;for(;D;)y=aE(e,0,D,h)&&y,D=D.__ngNextListenerFn__;return a&&!1===y&&(h.preventDefault(),h.returnValue=!1),y}}function oE(t=1){return function wh(t){return(ot.lFrame.contextLView=function $v(t,e){for(;t>0;)e=e[15],t--;return e}(t,ot.lFrame.contextLView))[8]}(t)}function vE(t,e,n,r,a){const l=t[n+1],h=null===e;let p=r?ya(l):Ho(l),y=!1;for(;0!==p&&(!1===y||h);){const T=t[p+1];yx(t[p],e)&&(y=!0,t[p+1]=r?Hm(T):Bm(T)),p=r?ya(T):Ho(T)}y&&(t[n+1]=r?Bm(l):Hm(l))}function yx(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Ro(t,e)>=0}function Cp(t,e){return function ba(t,e,n,r){const a=fe(),l=vt(),h=function dr(t){const e=ot.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);l.firstUpdatePass&&function SE(t,e,n,r){const a=t.data;if(null===a[n+1]){const l=a[vr()],h=function _E(t,e){return e>=t.expandoStartIndex}(t,n);(function xE(t,e){return 0!=(t.flags&(e?16:32))})(l,r)&&null===e&&!h&&(e=!1),e=function Mx(t,e,n,r){const a=function il(t){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let l=r?e.residualClasses:e.residualStyles;if(null===a)0===(r?e.classBindings:e.styleBindings)&&(n=ef(n=my(null,t,e,n,r),e.attrs,r),l=null);else{const h=e.directiveStylingLast;if(-1===h||t[h]!==a)if(n=my(a,t,e,n,r),null===l){let y=function Ax(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ho(r))return t[ya(r)]}(t,e,r);void 0!==y&&Array.isArray(y)&&(y=my(null,t,e,y[1],r),y=ef(y,e.attrs,r),function xx(t,e,n,r){t[ya(n?e.classBindings:e.styleBindings)]=r}(t,e,r,y))}else l=function Ix(t,e,n){let r;const a=e.directiveEnd;for(let l=1+e.directiveStylingLast;l<a;l++)r=ef(r,t[l].hostAttrs,n);return ef(r,e.attrs,n)}(t,e,r)}return void 0!==l&&(r?e.residualClasses=l:e.residualStyles=l),n}(a,l,e,r),function vx(t,e,n,r,a,l){let h=l?e.classBindings:e.styleBindings,p=ya(h),y=Ho(h);t[r]=n;let T,D=!1;if(Array.isArray(n)){const M=n;T=M[1],(null===T||Ro(M,T)>0)&&(D=!0)}else T=n;if(a)if(0!==y){const k=ya(t[p+1]);t[r+1]=gp(k,p),0!==k&&(t[k+1]=$m(t[k+1],r)),t[p+1]=function rA(t,e){return 131071&t|e<<17}(t[p+1],r)}else t[r+1]=gp(p,0),0!==p&&(t[p+1]=$m(t[p+1],r)),p=r;else t[r+1]=gp(y,0),0===p?p=r:t[y+1]=$m(t[y+1],r),y=r;D&&(t[r+1]=Bm(t[r+1])),vE(t,T,r,!0),vE(t,T,r,!1),function mx(t,e,n,r,a){const l=a?t.residualClasses:t.residualStyles;null!=l&&"string"==typeof e&&Ro(l,e)>=0&&(n[r+1]=Hm(n[r+1]))}(e,T,t,r,l),h=gp(p,y),l?e.classBindings=h:e.styleBindings=h}(a,l,e,n,h,r)}}(l,t,h,r),e!==We&&xr(a,h,e)&&function ME(t,e,n,r,a,l,h,p){if(!(3&e.type))return;const y=t.data,D=y[p+1];_p(function Jb(t){return 1==(1&t)}(D)?AE(y,e,n,a,Ho(D),h):void 0)||(_p(l)||function Xb(t){return 2==(2&t)}(D)&&(l=AE(y,null,n,a,p,h)),function Ht(t,e,n,r,a){const l=Ze(t);if(e)a?l?t.addClass(n,r):n.classList.add(r):l?t.removeClass(n,r):n.classList.remove(r);else{let h=-1===r.indexOf("-")?void 0:I.DashCase;if(null==a)l?t.removeStyle(n,r,h):n.style.removeProperty(r);else{const p="string"==typeof a&&a.endsWith("!important");p&&(a=a.slice(0,-10),h|=I.Important),l?t.setStyle(n,r,a,h):n.style.setProperty(r,a,p?"important":"")}}}(r,h,function fa(t,e){return _n(e[t])}(vr(),n),a,l))}(l,l.data[vr()],a,a[11],t,a[h+1]=function Nx(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Qt(function za(t){return t instanceof class Rd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,h)}(t,e,null,!0),Cp}function my(t,e,n,r,a){let l=null;const h=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<h&&(l=e[p],r=ef(r,l.hostAttrs,a),l!==t);)p++;return null!==t&&(n.directiveStylingLast=p),r}function ef(t,e,n){const r=n?1:2;let a=-1;if(null!==e)for(let l=0;l<e.length;l++){const h=e[l];"number"==typeof h?a=h:a===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gn(t,h,!!n||e[++l]))}return void 0===t?null:t}function AE(t,e,n,r,a,l){const h=null===e;let p;for(;a>0;){const y=t[a],D=Array.isArray(y),T=D?y[1]:y,M=null===T;let k=n[a+1];k===We&&(k=M?Dt:void 0);let H=M?Au(k,r):T===r?k:void 0;if(D&&!_p(H)&&(H=Au(y,r)),_p(H)&&(p=H,h))return p;const W=t[a+1];a=h?ya(W):Ho(W)}if(null!==e){let y=l?e.residualClasses:e.residualStyles;null!=y&&(p=Au(y,r))}return p}function _p(t){return void 0!==t}function Dr(t,e=""){const n=fe(),r=vt(),a=t+22,l=r.firstCreatePass?Qu(r,a,1,e,null):r.data[a],h=n[a]=function Y(t,e){return Ze(t)?t.createText(e):t.createTextNode(e)}(n[11],e);te(r,n,h,l),Ci(l,!1)}const cc="en-US";let XE=cc;function Dy(t,e,n,r,a){if(t=et(t),Array.isArray(t))for(let l=0;l<t.length;l++)Dy(t[l],e,n,r,a);else{const l=vt(),h=fe();let p=Rl(t)?t:et(t.provide),y=zb(t);const D=Sn(),T=1048575&D.providerIndexes,M=D.directiveStart,k=D.providerIndexes>>20;if(Rl(t)||!t.multi){const H=new al(y,a,be),W=Cy(p,e,a?T:T+k,M);-1===W?(Su(qi(D,h),l,p),Ey(l,t,e.length),e.push(p),D.directiveStart++,D.directiveEnd++,a&&(D.providerIndexes+=1048576),n.push(H),h.push(H)):(n[W]=H,h[W]=H)}else{const H=Cy(p,e,T+k,M),W=Cy(p,e,T,T+k),Z=H>=0&&n[H],ie=W>=0&&n[W];if(a&&!ie||!a&&!Z){Su(qi(D,h),l,p);const ne=function ZI(t,e,n,r,a){const l=new al(t,n,be);return l.multi=[],l.index=e,l.componentProviders=0,CC(l,a,r&&!n),l}(a?YI:QI,n.length,a,r,y);!a&&ie&&(n[W].providerFactory=ne),Ey(l,t,e.length,0),e.push(p),D.directiveStart++,D.directiveEnd++,a&&(D.providerIndexes+=1048576),n.push(ne),h.push(ne)}else Ey(l,t,H>-1?H:W,CC(n[a?W:H],y,!a&&r));!a&&r&&ie&&n[W].componentProviders++}}}function Ey(t,e,n,r){const a=Rl(e),l=function OM(t){return!!t.useClass}(e);if(a||l){const y=(l?et(e.useClass):e).prototype.ngOnDestroy;if(y){const D=t.destroyHooks||(t.destroyHooks=[]);if(!a&&e.multi){const T=D.indexOf(n);-1===T?D.push(n,[r,y]):D[T+1].push(r,y)}else D.push(n,y)}}}function CC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Cy(t,e,n,r){for(let a=n;a<r;a++)if(e[a]===t)return a;return-1}function QI(t,e,n,r){return _y(this.multi,[])}function YI(t,e,n,r){const a=this.multi;let l;if(this.providerFactory){const h=this.providerFactory.componentProviders,p=Cs(n,n[1],this.providerFactory.index,r);l=p.slice(0,h),_y(a,l);for(let y=h;y<p.length;y++)l.push(p[y])}else l=[],_y(a,l);return l}function _y(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function vn(t,e=[]){return n=>{n.providersResolver=(r,a)=>function KI(t,e,n){const r=vt();if(r.firstCreatePass){const a=Ei(t);Dy(n,r.data,r.blueprint,a,!0),Dy(e,r.data,r.blueprint,a,!1)}}(r,a?a(t):t,e)}}class JI{resolveComponentFactory(e){throw function XI(t){const e=Error(`No component factory found for ${Qt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let of=(()=>{class t{}return t.NULL=new JI,t})();class ks{}class SC{}class TC{}function tP(){return fc(Sn(),fe())}function fc(t,e){return new Ii(Ln(t,e))}let Ii=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=tP,t})();class sf{}let Uo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function iP(){const t=fe(),n=zr(Sn().index,t);return function rP(t){return t[11]}(_r(n)?n:t)}(),t})(),aP=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class lf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const oP=new lf("14.0.0"),Sy={};function xp(t,e,n,r,a=!1){for(;null!==n;){const l=e[n.index];if(null!==l&&r.push(_n(l)),Di(l))for(let p=10;p<l.length;p++){const y=l[p],D=y[1].firstChild;null!==D&&xp(y[1],y,D,r)}const h=n.type;if(8&h)xp(t,e,n.child,r);else if(32&h){const p=N(n,e);let y;for(;y=p();)r.push(y)}else if(16&h){const p=ce(e,n);if(Array.isArray(p))r.push(...p);else{const y=R(e[16]);xp(y[1],y,p,r,!0)}}n=a?n.projectionNext:n.next}return r}class uf{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return xp(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Di(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(ue(e,r),Vn(n,r))}this._attachedToViewContainer=!1}Q(this._lView[1],this._lView)}onDestroy(e){!function vD(t,e,n,r){const a=TD(e);null===n?a.push(r):(a.push(n),t.firstCreatePass&&MD(t).push(r,a.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){ry(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function ay(t,e,n){const r=e[10];r.begin&&r.begin();try{Zu(t,e,t.template,n)}catch(a){throw xD(e,a),a}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ee(t,e){Oe(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ie(902,"");this._appRef=e}}class sP extends uf{constructor(e){super(e),this._view=e}detectChanges(){SD(this._view)}checkNoChanges(){}get context(){return null}}class Ty extends of{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Gt(e);return new My(n,this.ngModule)}}function MC(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class uP{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const a=this.injector.get(e,Sy,r);return a!==Sy||n===Sy?a:this.parentInjector.get(e,n,r)}}class My extends TC{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function Ar(t){return t.map(jr).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return MC(this.componentDef.inputs)}get outputs(){return MC(this.componentDef.outputs)}create(e,n,r,a){let l=(a=a||this.ngModule)instanceof Nl?a:null==a?void 0:a.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const h=l?new uP(e,l):e,p=h.get(sf,ke),y=h.get(aP,null),D=p.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",M=r?function gD(t,e,n){if(Ze(t))return t.selectRootElement(e,n===yi.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(D,r,this.componentDef.encapsulation):X(p.createRenderer(null,this.componentDef),T,function lP(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(T)),k=this.componentDef.onPush?288:272,H=function HD(t,e){return{components:[],scheduler:t||g,clean:$A,playerHandler:e||null,flags:0}}(),W=yp(0,null,null,1,0,null,null,null,null,null),Z=Qd(null,W,H,k,null,null,p,D,y,h,null);let ie,ne;ka(Z);try{const Se=function BD(t,e,n,r,a,l){const h=n[1];n[22]=t;const y=Qu(h,22,2,"#host",null),D=y.mergedAttrs=e.hostAttrs;null!==D&&(bp(y,D,!0),null!==t&&(Du(a,t,D),null!==y.classes&&ft(a,t,y.classes),null!==y.styles&&ct(a,t,y.styles)));const T=r.createRenderer(t,e),M=Qd(n,hD(e),null,e.onPush?32:16,n[22],y,r,T,l||null,null,null);return h.firstCreatePass&&(Su(qi(y,n),h,e.type),DD(h,y),ED(y,n.length,1)),wp(n,M),n[22]=M}(M,this.componentDef,Z,p,D);if(M)if(r)Du(D,M,["ng-version",oP.full]);else{const{attrs:ae,classes:Me}=function Wa(t){const e=[],n=[];let r=1,a=2;for(;r<t.length;){let l=t[r];if("string"==typeof l)2===a?""!==l&&e.push(l,t[++r]):8===a&&n.push(l);else{if(!Bn(a))break;a=l}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);ae&&Du(D,M,ae),Me&&Me.length>0&&ft(D,M,Me.join(" "))}if(ne=Jc(W,22),void 0!==n){const ae=ne.projection=[];for(let Me=0;Me<this.ngContentSelectors.length;Me++){const it=n[Me];ae.push(null!=it?Array.from(it):null)}}ie=function $D(t,e,n,r,a){const l=n[1],h=function _A(t,e,n){const r=Sn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),CD(t,r,e,Yu(t,e,1,null),n));const a=Cs(e,t,r.directiveStart,r);An(a,e);const l=Ln(r,e);return l&&An(l,e),a}(l,n,e);if(r.components.push(h),t[8]=h,a&&a.forEach(y=>y(h,e)),e.contentQueries){const y=Sn();e.contentQueries(1,h,y.directiveStart)}const p=Sn();return!l.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oa(p.index),wD(n[1],p,0,p.directiveStart,p.directiveEnd,e),bD(e,h)),h}(Se,this.componentDef,Z,H,[ZA]),Yd(W,Z,null)}finally{Fa()}return new dP(this.componentType,ie,fc(ne,Z),Z,ne)}}class dP extends class eP{}{constructor(e,n,r,a,l){super(),this.location=r,this._rootLView=a,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new sP(a),this.componentType=e}get injector(){return new $t(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class AC extends ks{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ty(this);const r=Br(e);this._bootstrapComponents=E(r.bootstrap),this._r3Injector=jb(e,n,[{provide:ks,useValue:this},{provide:of,useValue:this.componentFactoryResolver}],Qt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,n=di.THROW_IF_NOT_FOUND,r=Ye.Default){return e===di||e===ks||e===Am?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ay extends SC{constructor(e){super(),this.moduleType=e}create(e){return new AC(this.moduleType,e)}}class hP extends ks{constructor(e,n,r){super(),this.componentFactoryResolver=new Ty(this),this.instance=null;const a=new Hb([...e,{provide:ks,useValue:this},{provide:of,useValue:this.componentFactoryResolver}],n||Pm(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ip(t,e=null,n=null){return new hP(t,e,n).injector}function xy(t){return e=>{setTimeout(t,void 0,e)}}const In=class kP extends kn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var a,l,h;let p=e,y=n||(()=>null),D=r;if(e&&"object"==typeof e){const M=e;p=null===(a=M.next)||void 0===a?void 0:a.bind(M),y=null===(l=M.error)||void 0===l?void 0:l.bind(M),D=null===(h=M.complete)||void 0===h?void 0:h.bind(M)}this.__isAsync&&(y=xy(y),p&&(p=xy(p)),D&&(D=xy(D)));const T=super.subscribe({next:p,error:y,complete:D});return e instanceof Dn&&e.add(T),T}};let jo=(()=>{class t{}return t.__NG_ELEMENT_ID__=VP,t})();const OP=jo,LP=class extends OP{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,a=Qd(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(r)),Yd(r,a,e),new uf(a)}};function VP(){return function Pp(t,e){return 4&t.type?new LP(e,t,fc(t,e)):null}(Sn(),fe())}let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=BP,t})();function BP(){return function OC(t,e){let n;const r=e[t.index];if(Di(r))n=r;else{let a;if(8&t.type)a=_n(r);else{const l=e[11];a=l.createComment("");const h=Ln(t,e);Ge(l,Fe(l,h),a,function je(t,e){return Ze(t)?t.nextSibling(e):e.nextSibling}(l,h),!1)}e[t.index]=n=_D(r,e,a,t),wp(e,n)}return new kC(n,t,e)}(Sn(),fe())}const $P=Ea,kC=class extends $P{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fc(this._hostTNode,this._hostLView)}get injector(){return new $t(this._hostTNode,this._hostLView)}get parentInjector(){const e=_u(this._hostTNode,this._hostLView);if(_h(e)){const n=Es(e,this._hostLView),r=To(e);return new $t(n[1].data[r+8],n)}return new $t(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=FC(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let a,l;"number"==typeof r?a=r:null!=r&&(a=r.index,l=r.injector);const h=e.createEmbeddedView(n||{},l);return this.insert(h,a),h}createComponent(e,n,r,a,l){const h=e&&!function Sr(t){return"function"==typeof t}(e);let p;if(h)p=n;else{const M=n||{};p=M.index,r=M.injector,a=M.projectableNodes,l=M.environmentInjector||M.ngModuleRef}const y=h?e:new My(Gt(e)),D=r||this.parentInjector;if(!l&&null==y.ngModule){const k=(h?D:this.parentInjector).get(Nl,null);k&&(l=k)}const T=y.create(D,a,void 0,l);return this.insert(T.hostView,p),T}insert(e,n){const r=e._lView,a=r[1];if(function dh(t){return Di(t[3])}(r)){const T=this.indexOf(e);if(-1!==T)this.detach(T);else{const M=r[3],k=new kC(M,M[6],M[3]);k.detach(k.indexOf(e))}}const l=this._adjustIndex(n),h=this._lContainer;!function he(t,e,n,r){const a=10+r,l=n.length;r>0&&(n[a-1][4]=e),r<l-10?(e[4]=n[a],rr(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const h=e[17];null!==h&&n!==h&&function ve(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(h,e);const p=e[19];null!==p&&p.insertView(t),e[2]|=64}(a,r,h,l);const p=de(l,h),y=r[11],D=Fe(y,h[7]);return null!==D&&function oe(t,e,n,r,a,l){r[0]=a,r[6]=e,Oe(t,r,n,1,a,l)}(a,h[6],y,r,D,p),e.attachToViewContainerRef(),rr(Py(h),l,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=FC(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=ue(this._lContainer,n);r&&(Vn(Py(this._lContainer),n),Q(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=ue(this._lContainer,n);return r&&null!=Vn(Py(this._lContainer),n)?new uf(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function FC(t){return t[8]}function Py(t){return t[8]||(t[8]=[])}function Np(...t){}const jy=new tt("Application Initializer");let kp=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Np,this.reject=Np,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const l=this.appInits[a]();if(Jd(l))n.push(l);else if(py(l)){const h=new Promise((p,y)=>{l.subscribe({complete:p,error:y})});n.push(h)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Ve(jy,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hf=new tt("AppId",{providedIn:"root",factory:function o_(){return`${qy()}${qy()}${qy()}`}});function qy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const s_=new tt("Platform Initializer"),l_=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u_=new tt("appBootstrapListener"),c_=new tt("AnimationModuleType");let vR=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const qo=new tt("LocaleId",{providedIn:"root",factory:()=>function nm(t,e=Ye.Default){return Ve(t,e)}(qo,Ye.Optional|Ye.SkipSelf)||function mR(){return"undefined"!=typeof $localize&&$localize.locale||cc}()});class wR{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Gy=(()=>{class t{compileModuleSync(n){return new Ay(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),l=E(Br(n).declarations).reduce((h,p)=>{const y=Gt(p);return y&&h.push(new My(y)),h},[]);return new wR(r,l)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const DR=(()=>Promise.resolve(0))();function Wy(t){"undefined"==typeof Zone?DR.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Pn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new In(!1),this.onMicrotaskEmpty=new In(!1),this.onStable=new In(!1),this.onError=new In(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function ER(){let t=St.requestAnimationFrame,e=St.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function SR(t){const e=()=>{!function _R(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(St,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qy(t),t.isCheckStableRunning=!0,Ky(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,l,h,p)=>{try{return d_(t),n.invokeTask(a,l,h,p)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||t.shouldCoalesceRunChangeDetection)&&e(),f_(t)}},onInvoke:(n,r,a,l,h,p,y)=>{try{return d_(t),n.invoke(a,l,h,p,y)}finally{t.shouldCoalesceRunChangeDetection&&e(),f_(t)}},onHasTask:(n,r,a,l)=>{n.hasTask(a,l),r===a&&("microTask"==l.change?(t._hasPendingMicrotasks=l.microTask,Qy(t),Ky(t)):"macroTask"==l.change&&(t.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,a,l)=>(n.handleError(a,l),t.runOutsideAngular(()=>t.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,a){const l=this._inner,h=l.scheduleEventTask("NgZoneEvent: "+a,e,CR,Np,Np);try{return l.runTask(h,n,r)}finally{l.cancelTask(h)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const CR={};function Ky(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function d_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function f_(t){t._nesting--,Ky(t)}class TR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new In,this.onMicrotaskEmpty=new In,this.onStable=new In,this.onError=new In}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,a){return e.apply(n,r)}}const h_=new tt(""),Fp=new tt("");let pf,Yy=(()=>{class t{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,pf||(function MR(t){pf=t}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),Wy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return t.\u0275fac=function(n){return new(n||t)(Ve(Pn),Ve(Zy),Ve(Fp))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Zy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){var a;return null!==(a=null==pf?void 0:pf.findTestabilityInTree(this,n,r))&&void 0!==a?a:null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),to=null;const p_=new tt("AllowMultipleToken"),g_=new tt("PlatformOnDestroy");class v_{constructor(e,n){this.name=e,this.token=n}}function y_(t,e,n=[]){const r=`Platform: ${e}`,a=new tt(r);return(l=[])=>{let h=Xy();if(!h||h.injector.get(p_,!1)){const p=[...n,...l,{provide:a,useValue:!0}];t?t(p):function IR(t){if(to&&!to.get(p_,!1))throw new Ie(400,"");to=t;const e=t.get(b_);(function m_(t){const e=t.get(s_,null);e&&e.forEach(n=>n())})(t)}(function w_(t=[],e){return di.create({name:e,providers:[{provide:xm,useValue:"platform"},{provide:g_,useValue:()=>to=null},...t]})}(p,r))}return function RR(t){const e=Xy();if(!e)throw new Ie(401,"");return e}()}}function Xy(){var t;return null!==(t=null==to?void 0:to.get(b_))&&void 0!==t?t:null}let b_=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function NR(t,e){let n;return n="noop"===t?new TR:("zone.js"===t?void 0:t)||new Pn(e),n}(null==r?void 0:r.ngZone,function D_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),l=[{provide:Pn,useValue:a}];return a.run(()=>{const h=di.create({providers:l,parent:this.injector,name:n.moduleType.name}),p=n.create(h),y=p.injector.get(ko,null);if(!y)throw new Ie(402,"");return a.runOutsideAngular(()=>{const D=a.onError.subscribe({next:T=>{y.handleError(T)}});p.onDestroy(()=>{Lp(this._modules,p),D.unsubscribe()})}),function E_(t,e,n){try{const r=n();return Jd(r)?r.catch(a=>{throw e.runOutsideAngular(()=>t.handleError(a)),a}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(y,a,()=>{const D=p.injector.get(kp);return D.runInitializers(),D.donePromise.then(()=>(function JE(t){jn(t,"Expected localeId to be defined"),"string"==typeof t&&(XE=t.toLowerCase().replace(/_/g,"-"))}(p.injector.get(qo,cc)||cc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(n,r=[]){const a=C_({},r);return function AR(t,e,n){const r=new Ay(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(n){const r=n.injector.get(Op);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Ie(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(g_,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Ve(di))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function C_(t,e){return Array.isArray(e)?e.reduce(C_,t):Object.assign(Object.assign({},t),e)}let Op=(()=>{class t{constructor(n,r,a,l){this._zone=n,this._injector=r,this._exceptionHandler=a,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new Vt(y=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{y.next(this._stable),y.complete()})}),p=new Vt(y=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),Wy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,y.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{y.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=function hv(...t){const e=os(t),n=function cv(t,e){return"number"==typeof Jr(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Oi(r[0]):Ma(n)(Fn(r,e)):qt}(h,p.pipe(function Xl(t={}){const{connector:e=(()=>new kn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=t;return l=>{let h=null,p=null,y=null,D=0,T=!1,M=!1;const k=()=>{null==p||p.unsubscribe(),p=null},H=()=>{k(),h=y=null,T=M=!1},W=()=>{const Z=h;H(),null==Z||Z.unsubscribe()};return En((Z,ie)=>{D++,!M&&!T&&k();const ne=y=null!=y?y:e();ie.add(()=>{D--,0===D&&!M&&!T&&(p=Jl(W,a))}),ne.subscribe(ie),h||(h=new le({next:Se=>ne.next(Se),error:Se=>{M=!0,k(),p=Jl(H,n,Se),ne.error(Se)},complete:()=>{T=!0,k(),p=Jl(H,r),ne.complete()}}),Fn(Z).subscribe(h))})(l)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const a=n instanceof TC;if(!this._initStatus.done)throw!a&&function pc(t){const e=Gt(t)||pr(t)||gr(t);return null!==e&&e.standalone}(n),new Ie(405,false);let l;l=a?n:this._injector.get(of).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const h=function xR(t){return t.isBoundToModule}(l)?void 0:this._injector.get(ks),y=l.create(di.NULL,[],r||l.selector,h),D=y.location.nativeElement,T=y.injector.get(h_,null);return null==T||T.registerApplication(D),y.onDestroy(()=>{this.detachView(y.hostView),Lp(this.components,y),null==T||T.unregisterApplication(D)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Ie(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Lp(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(u_,[]).concat(this._bootstrapListeners).forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lp(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ie(406,false);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(Ve(Pn),Ve(di),Ve(ko),Ve(kp))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let S_=!0,Vp=(()=>{class t{}return t.__NG_ELEMENT_ID__=OR,t})();function OR(t){return function LR(t,e,n){if(fu(t)&&!n){const r=zr(t.index,e);return new uf(r,r)}return 47&t.type?new uf(e[16],e):null}(Sn(),fe(),16==(16&t))}class I_{constructor(){}supports(e){return Zd(e)}create(e){return new UR(e)}}const zR=(t,e)=>e;class UR{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zR}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,a=0,l=null;for(;n||r;){const h=!r||n&&n.currentIndex<R_(r,a,l)?n:r,p=R_(h,a,l),y=h.currentIndex;if(h===r)a--,r=r._nextRemoved;else if(n=n._next,null==h.previousIndex)a++;else{l||(l=[]);const D=p-a,T=y-a;if(D!=T){for(let k=0;k<D;k++){const H=k<l.length?l[k]:l[k]=0,W=H+k;T<=W&&W<D&&(l[k]=H+1)}l[h.previousIndex]=T-D}}p!==y&&e(h,p,y)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Zd(e))throw new Ie(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let a,l,h,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)l=e[p],h=this._trackByFn(p,l),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,l,h,p)),Object.is(n.item,l)||this._addIdentityChange(n,l)):(n=this._mismatch(n,l,h,p),r=!0),n=n._next}else a=0,function ox(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[kl()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,p=>{h=this._trackByFn(a,p),null!==n&&Object.is(n.trackById,h)?(r&&(n=this._verifyReinsertion(n,p,h,a)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,h,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,a){let l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,l,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,l,a)):e=this._addAfter(new jR(n,r),l,a),e}_verifyReinsertion(e,n,r,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?e=this._reinsertAfter(l,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const a=e._prevRemoved,l=e._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const a=null===n?this._itHead:n._next;return e._next=a,e._prev=n,null===a?this._itTail=e:a._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new P_),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class jR{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qR{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class P_{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new qR,this.map.set(n,r)),r.add(e)}get(e,n){const a=this.map.get(e);return a?a.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function R_(t,e,n){const r=t.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+e+a}function k_(){return new Hp([new I_])}let Hp=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||k_()),deps:[[t,new Ms,new Ti]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new Ie(901,"")}}return t.\u0275prov=at({token:t,providedIn:"root",factory:k_}),t})();const YR=y_(null,"core",[]);let ZR=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Ve(Op))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();function Go(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let zp=null;function ro(){return zp}const Ir=new tt("DocumentToken");let vf=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:function(){return function tN(){return Ve(O_)}()},providedIn:"platform"}),t})();const nN=new tt("Location Initialized");let O_=(()=>{class t extends vf{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ro().getBaseHref(this._doc)}onPopState(n){const r=ro().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ro().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,a){L_()?this._history.pushState(n,r,a):this.location.hash=a}replaceState(n,r,a){L_()?this._history.replaceState(n,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir))},t.\u0275prov=at({token:t,factory:function(){return function rN(){return new O_(Ve(Ir))}()},providedIn:"platform"}),t})();function L_(){return!!window.history.pushState}function r0(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function V_(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Wo(t){return t&&"?"!==t[0]?"?"+t:t}let vc=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:function(){return function iN(){const t=Ve(Ir).location;return new B_(Ve(vf),t&&t.origin||"")}()},providedIn:"root"}),t})();const a0=new tt("appBaseHref");let B_=(()=>{class t extends vc{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return r0(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wo(this._platformLocation.search),a=this._platformLocation.hash;return a&&n?`${r}${a}`:r}pushState(n,r,a,l){const h=this.prepareExternalUrl(a+Wo(l));this._platformLocation.pushState(n,r,h)}replaceState(n,r,a,l){const h=this.prepareExternalUrl(a+Wo(l));this._platformLocation.replaceState(n,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Ve(vf),Ve(a0,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),aN=(()=>{class t extends vc{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=r0(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,a,l){let h=this.prepareExternalUrl(a+Wo(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(n,r,h)}replaceState(n,r,a,l){let h=this.prepareExternalUrl(a+Wo(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(Ve(vf),Ve(a0,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),o0=(()=>{class t{constructor(n){this._subject=new In,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=V_($_(r)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){var n;null===(n=this._urlChangeSubscription)||void 0===n||n.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wo(r))}normalize(n){return t.stripTrailingSlash(function sN(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,$_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",a=null){this._locationStrategy.pushState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wo(r)),a)}replaceState(n,r="",a=null){this._locationStrategy.replaceState(a,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wo(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){var r,a;null===(a=(r=this._locationStrategy).historyGo)||void 0===a||a.call(r,n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{var r;const a=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(a,1),0===this._urlChangeListeners.length&&(null===(r=this._urlChangeSubscription)||void 0===r||r.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(a=>a(n,r))}subscribe(n,r,a){return this._subject.subscribe({next:n,error:r,complete:a})}}return t.normalizeQueryParams=Wo,t.joinWithSlash=r0,t.stripTrailingSlash=V_,t.\u0275fac=function(n){return new(n||t)(Ve(vc))},t.\u0275prov=at({token:t,factory:function(){return function oN(){return new o0(Ve(vc))}()},providedIn:"root"}),t})();function $_(t){return t.replace(/\/index.html$/,"")}class WN{constructor(e,n,r,a){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Y_=(()=>{class t{constructor(n,r,a){this._viewContainer=n,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((a,l,h)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new WN(a.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,h),Z_(p,a)}});for(let a=0,l=r.length;a<l;a++){const p=r.get(a).context;p.index=a,p.count=l,p.ngForOf=this._ngForOf}n.forEachIdentityChange(a=>{Z_(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(be(Ea),be(jo),be(Hp))},t.\u0275dir=Ue({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Z_(t,e){t.context.$implicit=e.item}let Ek=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();let Tk=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new Mk(Ve(Ir),window)}),t})();class Mk{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Ak(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=nS(this.window.history)||nS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function nS(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class b0 extends class Ik extends class eN{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function JR(t){zp||(zp=t)}(new b0)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Pk(){return wf=wf||document.querySelector("base"),wf?wf.getAttribute("href"):null}();return null==n?null:function Rk(t){Xp=Xp||document.createElement("a"),Xp.setAttribute("href",t);const e=Xp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){wf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function jN(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[a,l]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Xp,wf=null;const rS=new tt("TRANSITION_ID"),kk=[{provide:jy,useFactory:function Nk(t,e,n){return()=>{n.get(kp).donePromise.then(()=>{const r=ro(),a=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[rS,Ir,di],multi:!0}];let Ok=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Jp=new tt("EventManagerPlugins");let eg=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(a=>a.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,a){return this._findPluginFor(r).addEventListener(n,r,a)}addGlobalEventListener(n,r,a){return this._findPluginFor(r).addGlobalEventListener(n,r,a)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(n))return this._eventNameToPlugin.set(n,h),h}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Ve(Jp),Ve(Pn))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class iS{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const a=ro().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${n}`);return this.addEventListener(a,n,r)}}let aS=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),bf=(()=>{class t extends aS{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,a){n.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(oS),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(n,a,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(oS))}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function oS(t){ro().remove(t)}const D0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},E0=/%COMP%/g;function tg(t,e,n){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?tg(t,a,n):(a=a.replace(E0,t),n.push(a))}return n}function uS(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ng=(()=>{class t{constructor(n,r,a){this.eventManager=n,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new C0(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case yi.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new zk(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(n),a}case 1:case yi.ShadowDom:return new Uk(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const a=tg(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Ve(eg),Ve(bf),Ve(hf))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class C0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(D0[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(dS(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(dS(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,a){if(a){n=a+":"+n;const l=D0[a];l?e.setAttributeNS(l,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const a=D0[r];a?e.removeAttributeNS(a,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,a){a&(I.DashCase|I.Important)?e.style.setProperty(n,r,a&I.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&I.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,uS(r)):this.eventManager.addEventListener(e,n,uS(r))}}function dS(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class zk extends C0{constructor(e,n,r,a){super(e),this.component=r;const l=tg(a+"-"+r.id,r.styles,[]);n.addStyles(l),this.contentAttr=function Bk(t){return"_ngcontent-%COMP%".replace(E0,t)}(a+"-"+r.id),this.hostAttr=function $k(t){return"_nghost-%COMP%".replace(E0,t)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Uk extends C0{constructor(e,n,r,a){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=tg(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const p=document.createElement("style");p.textContent=l[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let jk=(()=>{class t extends iS{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,a){return n.addEventListener(r,a,!1),()=>this.removeEventListener(n,r,a)}removeEventListener(n,r,a){return n.removeEventListener(r,a)}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const fS=["alt","control","meta","shift"],Gk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hS={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Kk=(()=>{class t extends iS{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,a){const l=t.parseEventName(r),h=t.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ro().onAndCancel(n,l.domEventName,h))}static parseEventName(n){const r=n.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=t._normalizeKey(r.pop());let h="";if(fS.forEach(y=>{const D=r.indexOf(y);D>-1&&(r.splice(D,1),h+=y+".")}),h+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=a,p.fullKey=h,p}static getEventFullKey(n){let r="",a=function Qk(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&hS.hasOwnProperty(e)&&(e=hS[e]))}return Gk[e]||e}(n);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),fS.forEach(l=>{l!=a&&Wk[l](n)&&(r+=l+".")}),r+=a,r}static eventCallback(n,r,a){return l=>{t.getEventFullKey(l)===n&&a.runGuarded(()=>r(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Jk=y_(YR,"browser",[{provide:l_,useValue:"browser"},{provide:s_,useValue:function Yk(){b0.makeCurrent()},multi:!0},{provide:Ir,useFactory:function Xk(){return function Fv(t){Rt=t}(document),document},deps:[]}]),gS=new tt(""),vS=[{provide:Fp,useClass:class Fk{addToWindow(e){St.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},St.getAllAngularTestabilities=()=>e.getAllTestabilities(),St.getAllAngularRootElements=()=>e.getAllRootElements(),St.frameworkStabilizers||(St.frameworkStabilizers=[]),St.frameworkStabilizers.push(r=>{const a=St.getAllAngularTestabilities();let l=a.length,h=!1;const p=function(y){h=h||y,l--,0==l&&r(h)};a.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const a=e.getTestability(n);return null!=a?a:r?ro().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:h_,useClass:Yy,deps:[Pn,Zy,Fp]},{provide:Yy,useClass:Yy,deps:[Pn,Zy,Fp]}],mS=[{provide:xm,useValue:"root"},{provide:ko,useFactory:function Zk(){return new ko},deps:[]},{provide:Jp,useClass:jk,multi:!0,deps:[Ir,Pn,l_]},{provide:Jp,useClass:Kk,multi:!0,deps:[Ir]},{provide:ng,useClass:ng,deps:[eg,bf,hf]},{provide:sf,useExisting:ng},{provide:aS,useExisting:bf},{provide:bf,useClass:bf,deps:[Ir]},{provide:eg,useClass:eg,deps:[Jp,Pn]},{provide:class xk{},useClass:Ok,deps:[]},[]];let yS=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:hf,useValue:n.appId},{provide:rS,useExisting:hf},kk]}}}return t.\u0275fac=function(n){return new(n||t)(Ve(gS,12))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:[...mS,...vS],imports:[Ek,ZR]}),t})(),wS=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir))},t.\u0275prov=at({token:t,factory:function(n){let r=null;return r=n?new n:function tF(){return new wS(Ve(Ir))}(),r},providedIn:"root"}),t})();"undefined"!=typeof window&&window;const{isArray:cF}=Array,{getPrototypeOf:dF,prototype:fF,keys:hF}=Object;function ES(t){if(1===t.length){const e=t[0];if(cF(e))return{args:e,keys:null};if(function pF(t){return t&&"object"==typeof t&&dF(t)===fF}(e)){const n=hF(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:gF}=Array;function CS(t){return Pt(e=>function vF(t,e){return gF(e)?t(...e):t(e)}(t,e))}function _S(t,e){return t.reduce((n,r,a)=>(n[r]=e[a],n),{})}let SS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(be(Uo),be(Ii))},t.\u0275dir=Ue({type:t}),t})(),Vl=(()=>{class t extends SS{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,features:[Zt]}),t})();const io=new tt("NgValueAccessor"),wF={provide:io,useExisting:Jt(()=>rg),multi:!0},DF=new tt("CompositionEventMode");let rg=(()=>{class t extends SS{constructor(n,r,a){super(n,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bF(){const t=ro()?ro().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(be(Uo),be(Ii),be(DF,8))},t.\u0275dir=Ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&br("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[vn([wF]),Zt]}),t})();function Os(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}const Pr=new tt("NgValidators"),Ls=new tt("NgAsyncValidators");function ig(t){return null}function OS(t){return null!=t}function LS(t){const e=Jd(t)?Fn(t):t;return py(e),e}function VS(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function BS(t,e){return e.map(n=>n(t))}function $S(t){return t.map(e=>function CF(t){return!t.validate}(e)?e:n=>e.validate(n))}function T0(t){return null!=t?function HS(t){if(!t)return null;const e=t.filter(OS);return 0==e.length?null:function(n){return VS(BS(n,e))}}($S(t)):null}function M0(t){return null!=t?function zS(t){if(!t)return null;const e=t.filter(OS);return 0==e.length?null:function(n){return function mF(...t){const e=Zf(t),{args:n,keys:r}=ES(t),a=new Vt(l=>{const{length:h}=n;if(!h)return void l.complete();const p=new Array(h);let y=h,D=h;for(let T=0;T<h;T++){let M=!1;Oi(n[T]).subscribe(new Cn(l,k=>{M||(M=!0,D--),p[T]=k},()=>y--,void 0,()=>{(!y||!M)&&(D||l.next(r?_S(r,p):p),l.complete())}))}});return e?a.pipe(CS(e)):a}(BS(n,e).map(LS)).pipe(Pt(VS))}}($S(t)):null}function US(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function jS(t){return t._rawValidators}function qS(t){return t._rawAsyncValidators}function A0(t){return t?Array.isArray(t)?t:[t]:[]}function ag(t,e){return Array.isArray(t)?t.includes(e):t===e}function GS(t,e){const n=A0(e);return A0(t).forEach(a=>{ag(n,a)||n.push(a)}),n}function WS(t,e){return A0(e).filter(n=>!ag(t,n))}class KS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=T0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=M0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Vs extends KS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Wr extends KS{get formDirective(){return null}get path(){return null}}class QS{constructor(e){this._cd=e}get isTouched(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.touched)}get isUntouched(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.untouched)}get isPristine(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.pristine)}get isDirty(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.dirty)}get isValid(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.valid)}get isInvalid(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.invalid)}get isPending(){var e,n;return!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n||!n.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let YS=(()=>{class t extends QS{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(be(Vs,2))},t.\u0275dir=Ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Cp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Zt]}),t})(),ZS=(()=>{class t extends QS{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(be(Wr,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Cp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Zt]}),t})();const Df="VALID",sg="INVALID",mc="PENDING",Ef="DISABLED";function R0(t){return(lg(t)?t.validators:t)||null}function JS(t){return Array.isArray(t)?T0(t):t||null}function N0(t,e){return(lg(e)?e.asyncValidators:t)||null}function e1(t){return Array.isArray(t)?M0(t):t||null}function lg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function t1(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new Ie(1e3,"");if(!r[n])throw new Ie(1001,"")}function n1(t,e,n){t._forEachChild((r,a)=>{if(void 0===n[a])throw new Ie(1002,"")})}class ug{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=JS(this._rawValidators),this._composedAsyncValidatorFn=e1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Df}get invalid(){return this.status===sg}get pending(){return this.status==mc}get disabled(){return this.status===Ef}get enabled(){return this.status!==Ef}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=JS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=e1(e)}addValidators(e){this.setValidators(GS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WS(e,this._rawAsyncValidators))}hasValidator(e){return ag(this._rawValidators,e)}hasAsyncValidator(e){return ag(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ef,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Df,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Df||this.status===mc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ef:Df}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mc,this._hasOwnPendingAsyncValidator=!0;const n=LS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,a)=>r&&r._find(a),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new In,this.statusChanges=new In}_calculateStatus(){return this._allControlsDisabled()?Ef:this.errors?sg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mc)?mc:this._anyControlsHaveStatus(sg)?sg:Df}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class cg extends ug{constructor(e,n,r){super(R0(n),N0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){n1(this,0,e),Object.keys(e).forEach(r=>{t1(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const a=this.controls[r];a&&a.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((a,l)=>{r=n(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function dg(t,e){return[...e.path,t]}function Cf(t,e){var n,r;k0(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&(null===(r=(n=e.valueAccessor).setDisabledState)||void 0===r||r.call(n,!0)),function RF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&r1(t,e)})}(t,e),function kF(t,e){const n=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function NF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&r1(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function PF(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function fg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),pg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function k0(t,e){const n=jS(t);null!==e.validator?t.setValidators(US(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=qS(t);null!==e.asyncValidator?t.setAsyncValidators(US(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const a=()=>t.updateValueAndValidity();hg(e._rawValidators,a),hg(e._rawAsyncValidators,a)}function pg(t,e){let n=!1;if(null!==t){if(null!==e.validator){const a=jS(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(n=!0,t.setValidators(l))}}if(null!==e.asyncValidator){const a=qS(t);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(n=!0,t.setAsyncValidators(l))}}}const r=()=>{};return hg(e._rawValidators,r),hg(e._rawAsyncValidators,r),n}function r1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function s1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function l1(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Sf=class extends ug{constructor(e=null,n,r){super(R0(n),N0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=l1(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){s1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){s1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){l1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let u1=(()=>{class t extends Wr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,features:[Zt]}),t})(),h1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const UF={provide:io,useExisting:Jt(()=>V0),multi:!0};let V0=(()=>{class t extends Vl{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&br("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[vn([UF]),Zt]}),t})(),p1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();const B0=new tt("NgModelWithFormControlWarning"),KF={provide:Wr,useExisting:Jt(()=>gg)};let gg=(()=>{class t extends Wr{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new In,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(pg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Cf(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){fg(n.control||null,n,!1),function VF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function o1(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,a=this.form.get(n.path);r!==a&&(fg(r||null,n),(t=>t instanceof Sf)(a)&&(Cf(a,n),n.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function i1(t,e){k0(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function FF(t,e){return pg(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){k0(this.form,this),this._oldForm&&pg(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(be(Pr,10),be(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&br("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vn([KF]),Zt,Hr]}),t})();const QF={provide:Wr,useExisting:Jt(()=>vg)};let vg=(()=>{class t extends u1{constructor(n,r,a){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(a)}_checkParentType(){y1(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(be(Wr,13),be(Pr,10),be(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[vn([QF]),Zt]}),t})();const YF={provide:Wr,useExisting:Jt(()=>mg)};let mg=(()=>{class t extends Wr{constructor(n,r,a){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){y1(this._parent)}}return t.\u0275fac=function(n){return new(n||t)(be(Wr,13),be(Pr,10),be(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[vn([YF]),Zt]}),t})();function y1(t){return!(t instanceof vg||t instanceof gg||t instanceof mg)}const ZF={provide:Vs,useExisting:Jt(()=>$0)};let $0=(()=>{class t extends Vs{constructor(n,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new In,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function O0(t,e){if(!e)return null;let n,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===rg?n=l:function LF(t){return Object.getPrototypeOf(t.constructor)===Vl}(l)?r=l:a=l}),a||r||n||null}(0,l)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function F0(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return dg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(be(Wr,13),be(Pr,10),be(Ls,10),be(io,10),be(B0,8))},t.\u0275dir=Ue({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[vn([ZF]),Zt,Hr]}),t})();const XF={provide:io,useExisting:Jt(()=>yg),multi:!0};function w1(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let yg=(()=>{class t extends Vl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const a=w1(this._getOptionId(n),n);this.setProperty("value",a)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function JF(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&br("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([XF]),Zt]}),t})(),b1=(()=>{class t{constructor(n,r,a){this._element=n,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(w1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(be(Ii),be(Uo),be(yg,9))},t.\u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const eO={provide:io,useExisting:Jt(()=>H0),multi:!0};function D1(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let H0=(()=>{class t extends Vl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const a=n.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const a=[],l=r.selectedOptions;if(void 0!==l){const h=l;for(let p=0;p<h.length;p++){const D=this._getOptionValue(h[p].value);a.push(D)}}else{const h=r.options;for(let p=0;p<h.length;p++){const y=h[p];if(y.selected){const D=this._getOptionValue(y.value);a.push(D)}}}this.value=a,n(a)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function tO(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&br("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[vn([eO]),Zt]}),t})(),E1=(()=>{class t{constructor(n,r,a){this._element=n,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(D1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(D1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(be(Ii),be(Uo),be(H0,9))},t.\u0275dir=Ue({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();let Bl=(()=>{class t{constructor(){this._validator=ig}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ig,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ue({type:t,features:[Hr]}),t})();const rO={provide:Pr,useExisting:Jt(()=>z0),multi:!0};let z0=(()=>{class t extends Bl{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>function _1(t){return"number"==typeof t?t:parseFloat(t)}(n),this.createValidator=n=>function AS(t){return e=>{if(Os(e.value)||Os(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=fr(t)))(r||t)}}(),t.\u0275dir=Ue({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&Za("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[vn([rO]),Zt]}),t})(),cO=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[p1]}),t})(),P1=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:B0,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[cO]}),t})();class R1 extends ug{constructor(e,n,r){super(R0(n),N0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let a=this._adjustIndex(e);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),n&&(this.controls.splice(a,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){n1(this,0,e),e.forEach((r,a)=>{t1(this,!1,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var n;return null!==(n=this.at(e))&&void 0!==n?n:null}}function j0(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let dO=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const a=this._reduceControls(n);let p,l=null,h=null;return null!==r&&(j0(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new cg(a,{asyncValidators:h,updateOn:p,validators:l})}control(n,r,a){let l={};return this.useNonNullable?(j0(r)?l=r:(l.validators=r,l.asyncValidators=a),new Sf(n,Object.assign(Object.assign({},l),{nonNullable:!0}))):new Sf(n,r,a)}array(n,r,a){const l=n.map(h=>this._createControl(h));return new R1(l,r,a)}_reduceControls(n){const r={};return Object.keys(n).forEach(a=>{r[a]=this._createControl(n[a])}),r}_createControl(n){return n instanceof Sf||n instanceof ug?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:P1}),t})();class N1{}const Qo="*";function k1(t,e=null){return{type:4,styles:e,timings:t}}function pO(t,e=null){return{type:3,steps:t,options:e}}function F1(t,e=null){return{type:2,steps:t,options:e}}function $l(t){return{type:6,styles:t,offset:null}}function O1(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function q0(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function L1(t){Promise.resolve(null).then(t)}class Tf{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){L1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class V1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,a=0;const l=this.players.length;0==l?L1(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++n==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const Mt=!1;function B1(t){return new Ie(3e3,Mt)}function QO(){return"undefined"!=typeof window&&void 0!==window.document}function W0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bs(t){switch(t.length){case 0:return new Tf;case 1:return t[0];default:return new V1(t)}}function $1(t,e,n,r,a=new Map,l=new Map){const h=[],p=[];let y=-1,D=null;if(r.forEach(T=>{const M=T.get("offset"),k=M==y,H=k&&D||new Map;T.forEach((W,Z)=>{let ie=Z,ne=W;if("offset"!==Z)switch(ie=e.normalizePropertyName(ie,h),ne){case"!":ne=a.get(Z);break;case Qo:ne=l.get(Z);break;default:ne=e.normalizeStyleValue(Z,ie,ne,h)}H.set(ie,ne)}),k||p.push(H),D=H,y=M}),h.length)throw function LO(t){return new Ie(3502,Mt)}();return p}function K0(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Q0(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Q0(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Q0(n,"destroy",t)))}}function Q0(t,e,n){const r=n.totalTime,l=Y0(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),h=t._data;return null!=h&&(l._data=h),l}function Y0(t,e,n,r,a="",l=0,h){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function Pi(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function H1(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}let Z0=(t,e)=>!1,z1=(t,e,n)=>[],U1=null;function X0(t){const e=t.parentNode||t.host;return e===U1?null:e}(W0()||"undefined"!=typeof Element)&&(QO()?(U1=(()=>document.documentElement)(),Z0=(t,e)=>{for(;e;){if(e===t)return!0;e=X0(e)}return!1}):Z0=(t,e)=>t.contains(e),z1=(t,e,n)=>{if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]});let Hl=null,j1=!1;const q1=Z0,G1=z1;let W1=(()=>{class t{validateStyleProperty(n){return function ZO(t){Hl||(Hl=function XO(){return"undefined"!=typeof document?document.body:null}()||{},j1=!!Hl.style&&"WebkitAppearance"in Hl.style);let e=!0;return Hl.style&&!function YO(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Hl.style,!e&&j1&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Hl.style)),e}(n)}matchesElement(n,r){return!1}containsElement(n,r){return q1(n,r)}getParentElement(n){return X0(n)}query(n,r,a){return G1(n,r,a)}computeStyle(n,r,a){return a||""}animate(n,r,a,l,h,p=[],y){return new Tf(a,l)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),J0=(()=>{class t{}return t.NOOP=new W1,t})();const ew="ng-enter",bg="ng-leave",Dg="ng-trigger",Eg=".ng-trigger",Q1="ng-animating",tw=".ng-animating";function $s(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nw(parseFloat(e[1]),e[2])}function nw(t,e){return"s"===e?1e3*t:t}function Cg(t,e,n){return t.hasOwnProperty("duration")?t:function tL(t,e,n){let a,l=0,h="";if("string"==typeof t){const p=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(B1()),{duration:0,delay:0,easing:""};a=nw(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(l=nw(parseFloat(y),p[4]));const D=p[5];D&&(h=D)}else a=t;if(!n){let p=!1,y=e.length;a<0&&(e.push(function gO(){return new Ie(3100,Mt)}()),p=!0),l<0&&(e.push(function vO(){return new Ie(3101,Mt)}()),p=!0),p&&e.splice(y,0,B1())}return{duration:a,delay:l,easing:h}}(t,e,n)}function Mf(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Y1(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Hs(t,e=new Map,n){if(n)for(let[r,a]of n)e.set(r,a);for(let[r,a]of t)e.set(r,a);return e}function X1(t,e,n){return n?e+":"+n+";":""}function J1(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=X1(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=X1(0,aL(n),t.style[n]));t.setAttribute("style",e)}function ao(t,e,n){t.style&&(e.forEach((r,a)=>{const l=iw(a);n&&!n.has(a)&&n.set(a,t.style[l]),t.style[l]=r}),W0()&&J1(t))}function zl(t,e){t.style&&(e.forEach((n,r)=>{const a=iw(r);t.style[a]=""}),W0()&&J1(t))}function Af(t){return Array.isArray(t)?1==t.length?t[0]:F1(t):t}const rw=new RegExp("{{\\s*(.+?)\\s*}}","g");function eT(t){let e=[];if("string"==typeof t){let n;for(;n=rw.exec(t);)e.push(n[1]);rw.lastIndex=0}return e}function _g(t,e,n){const r=t.toString(),a=r.replace(rw,(l,h)=>{let p=e[h];return null==p&&(n.push(function yO(t){return new Ie(3003,Mt)}()),p=""),p.toString()});return a==r?t:a}function Sg(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const iL=/-+([a-z0-9])/g;function iw(t){return t.replace(iL,(...e)=>e[1].toUpperCase())}function aL(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ri(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function wO(t){return new Ie(3004,Mt)}()}}function tT(t,e){return window.getComputedStyle(t)[e]}function dL(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function fL(t,e,n){if(":"==t[0]){const y=function hL(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function NO(t){return new Ie(3016,Mt)}()),"* => *"}}(t,n);if("function"==typeof y)return void e.push(y);t=y}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function RO(t){return new Ie(3015,Mt)}()),e;const a=r[1],l=r[2],h=r[3];e.push(nT(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(nT(h,a))}(r,n,e)):n.push(t),n}const xg=new Set(["true","1"]),Ig=new Set(["false","0"]);function nT(t,e){const n=xg.has(t)||Ig.has(t),r=xg.has(e)||Ig.has(e);return(a,l)=>{let h="*"==t||t==a,p="*"==e||e==l;return!h&&n&&"boolean"==typeof a&&(h=a?xg.has(t):Ig.has(t)),!p&&r&&"boolean"==typeof l&&(p=l?xg.has(e):Ig.has(e)),h&&p}}const pL=new RegExp("s*:selfs*,?","g");function aw(t,e,n,r){return new gL(t).build(e,n,r)}class gL{constructor(e){this._driver=e}build(e,n,r){const a=new yL(n);return this._resetContextStyleTimingState(a),Ri(this,Af(e),a)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,a=n.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&n.errors.push(function DO(){return new Ie(3006,Mt)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(n),0==p.type){const y=p,D=y.name;D.toString().split(/\s*,\s*/).forEach(T=>{y.name=T,l.push(this.visitState(y,n))}),y.name=D}else if(1==p.type){const y=this.visitTransition(p,n);r+=y.queryCount,a+=y.depCount,h.push(y)}else n.errors.push(function EO(){return new Ie(3007,Mt)}())}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};r.styles.forEach(p=>{p instanceof Map&&p.forEach(y=>{eT(y).forEach(D=>{h.hasOwnProperty(D)||l.add(D)})})}),l.size&&(Sg(l.values()),n.errors.push(function CO(t,e){return new Ie(3008,Mt)}()))}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Ri(this,Af(e.animation),n);return{type:1,matchers:dL(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Ul(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Ri(this,r,n)),options:Ul(e.options)}}visitGroup(e,n){const r=n.currentTime;let a=0;const l=e.steps.map(h=>{n.currentTime=r;const p=Ri(this,h,n);return a=Math.max(a,n.currentTime),p});return n.currentTime=a,{type:3,steps:l,options:Ul(e.options)}}visitAnimate(e,n){const r=function bL(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return ow(Cg(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=ow(0,0,"");return l.dynamic=!0,l.strValue=n,l}const a=Cg(n,e);return ow(a.duration,a.delay,a.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let a,l=e.styles?e.styles:$l({});if(5==l.type)a=this.visitKeyframes(l,n);else{let h=e.styles,p=!1;if(!h){p=!0;const D={};r.easing&&(D.easing=r.easing),h=$l(D)}n.currentTime+=r.duration+r.delay;const y=this.visitStyle(h,n);y.isEmptyStep=p,a=y}return n.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],a=Array.isArray(e.styles)?e.styles:[e.styles];for(let p of a)"string"==typeof p?p===Qo?r.push(p):n.errors.push(new Ie(3002,Mt)):r.push(Y1(p));let l=!1,h=null;return r.forEach(p=>{if(p instanceof Map&&(p.has("easing")&&(h=p.get("easing"),p.delete("easing")),!l))for(let y of p.values())if(y.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:r,easing:h,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let a=n.currentTime,l=n.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&h.forEach((p,y)=>{const D=n.collectedStyles.get(n.currentQuerySelector),T=D.get(y);let M=!0;T&&(l!=a&&l>=T.startTime&&a<=T.endTime&&(n.errors.push(function SO(t,e,n,r,a){return new Ie(3010,Mt)}()),M=!1),l=T.startTime),M&&D.set(y,{startTime:l,endTime:a}),n.options&&function rL(t,e,n){const r=e.params||{},a=eT(t);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||n.push(function mO(t){return new Ie(3001,Mt)}())})}(p,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function TO(){return new Ie(3011,Mt)}()),r;let l=0;const h=[];let p=!1,y=!1,D=0;const T=e.steps.map(ne=>{const Se=this._makeStyleAst(ne,n);let ae=null!=Se.offset?Se.offset:function wL(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(Se.styles),Me=0;return null!=ae&&(l++,Me=Se.offset=ae),y=y||Me<0||Me>1,p=p||Me<D,D=Me,h.push(Me),Se});y&&n.errors.push(function MO(){return new Ie(3012,Mt)}()),p&&n.errors.push(function AO(){return new Ie(3200,Mt)}());const M=e.steps.length;let k=0;l>0&&l<M?n.errors.push(function xO(){return new Ie(3202,Mt)}()):0==l&&(k=1/(M-1));const H=M-1,W=n.currentTime,Z=n.currentAnimateTimings,ie=Z.duration;return T.forEach((ne,Se)=>{const ae=k>0?Se==H?1:k*Se:h[Se],Me=ae*ie;n.currentTime=W+Z.delay+Me,Z.duration=Me,this._validateStyleAst(ne,n),ne.offset=ae,r.styles.push(ne)}),r}visitReference(e,n){return{type:8,animation:Ri(this,Af(e.animation),n),options:Ul(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:Ul(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:Ul(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,a=e.options||{};n.queryCount++,n.currentQuery=e;const[l,h]=function vL(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(pL,"")),t=t.replace(/@\*/g,Eg).replace(/@\w+/g,n=>Eg+"-"+n.slice(1)).replace(/:animating/g,tw),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+l:l,Pi(n.collectedStyles,n.currentQuerySelector,new Map);const p=Ri(this,Af(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:Ul(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function IO(){return new Ie(3013,Mt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Cg(e.timings,n.errors,!0);return{type:12,animation:Ri(this,Af(e.animation),n),timings:r,options:null}}}class yL{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Ul(t){return t?(t=Mf(t)).params&&(t.params=function mL(t){return t?Mf(t):null}(t.params)):t={},t}function ow(t,e,n){return{duration:t,delay:e,easing:n}}function sw(t,e,n,r,a,l,h=null,p=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:p}}class Pg{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const CL=new RegExp(":enter","g"),SL=new RegExp(":leave","g");function lw(t,e,n,r,a,l=new Map,h=new Map,p,y,D=[]){return(new TL).buildKeyframes(t,e,n,r,a,l,h,p,y,D)}class TL{buildKeyframes(e,n,r,a,l,h,p,y,D,T=[]){D=D||new Pg;const M=new uw(e,n,D,a,l,T,[]);M.options=y;const k=y.delay?$s(y.delay):0;M.currentTimeline.delayNextStep(k),M.currentTimeline.setStyles([h],null,M.errors,y),Ri(this,r,M);const H=M.timelines.filter(W=>W.containsAnimation());if(H.length&&p.size){let W;for(let Z=H.length-1;Z>=0;Z--){const ie=H[Z];if(ie.element===n){W=ie;break}}W&&!W.allowOnlyTimelineStyles()&&W.setStyles([p],null,M.errors,y)}return H.length?H.map(W=>W.buildKeyframes()):[sw(n,[],[],[],0,k,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const a=n.createSubContext(e.options),l=n.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&n.transformIntoNewTimeline(h)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_visitSubInstructions(e,n,r){let l=n.currentTimeline.currentTime;const h=null!=r.duration?$s(r.duration):null,p=null!=r.delay?$s(r.delay):null;return 0!==h&&e.forEach(y=>{const D=n.appendInstructionToTimeline(y,h,p);l=Math.max(l,D.duration+D.delay)}),l}visitReference(e,n){n.updateOptions(e.options,!0),Ri(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let a=n;const l=e.options;if(l&&(l.params||l.delay)&&(a=n.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Rg);const h=$s(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>Ri(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let a=n.currentTimeline.currentTime;const l=e.options&&e.options.delay?$s(e.options.delay):0;e.steps.forEach(h=>{const p=n.createSubContext(e.options);l&&p.delayNextStep(l),Ri(this,h,p),a=Math.max(a,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(h=>n.currentTimeline.mergeTimelineCollectedStyles(h)),n.transformIntoNewTimeline(a),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return Cg(n.params?_g(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),a=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,n):(n.incrementTime(r.duration),this.visitStyle(l,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,a=n.currentAnimateTimings;!a&&r.hasCurrentStyleProperties()&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,a=n.currentTimeline.duration,l=r.duration,p=n.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*l),p.setStyles(y.styles,y.easing,n.errors,n.options),p.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(p),n.transformIntoNewTimeline(a+l),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,a=e.options||{},l=a.delay?$s(a.delay):0;l&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Rg);let h=r;const p=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=p.length;let y=null;p.forEach((D,T)=>{n.currentQueryIndex=T;const M=n.createSubContext(e.options,D);l&&M.delayNextStep(l),D===n.element&&(y=M.currentTimeline),Ri(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,M.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(h),y&&(n.currentTimeline.mergeTimelineCollectedStyles(y),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,a=n.currentTimeline,l=e.timings,h=Math.abs(l.duration),p=h*(n.currentQueryTotal-1);let y=h*n.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const T=n.currentTimeline;y&&T.delayNextStep(y);const M=T.currentTime;Ri(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=a.currentTime-M+(a.startTime-r.currentTimeline.startTime)}}const Rg={};class uw{constructor(e,n,r,a,l,h,p,y){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new Ng(this._driver,n,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=$s(r.duration)),null!=r.delay&&(a.delay=$s(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(p=>{(!n||!h.hasOwnProperty(p))&&(h[p]=_g(l[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(a=>{r[a]=n[a]})}}return e}createSubContext(e=null,n,r){const a=n||this.element,l=new uw(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Rg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const a={duration:null!=n?n:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new ML(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,a,l,h){let p=[];if(a&&p.push(this.element),e.length>0){e=(e=e.replace(CL,"."+this._enterClassName)).replace(SL,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),p.push(...D)}return!l&&0==p.length&&h.push(function PO(t){return new Ie(3014,Mt)}()),p}}class Ng{constructor(e,n,r,a){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new Ng(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Qo),this._currentKeyframe.set(n,Qo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,a){n&&this._previousKeyframe.set("easing",n);const l=a&&a.params||{},h=function AL(t,e){const n=new Map;let r;return t.forEach(a=>{if("*"===a){r=r||e.keys();for(let l of r)n.set(l,Qo)}else Hs(a,n)}),n}(e,this._globalTimelineStyles);for(let[p,y]of h){const D=_g(y,l,r);this._pendingStyles.set(p,D),this._localTimelineStyles.has(p)||this._backFill.set(p,this._globalTimelineStyles.get(p)||Qo),this._updateStyle(p,D)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const a=this._styleSummary.get(r);(!a||n.time>a.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((p,y)=>{const D=Hs(p,new Map,this._backFill);D.forEach((T,M)=>{"!"===T?e.add(M):T===Qo&&n.add(M)}),r||D.set("offset",y/this.duration),a.push(D)});const l=e.size?Sg(e.values()):[],h=n.size?Sg(n.values()):[];if(r){const p=a[0],y=new Map(p);p.set("offset",0),y.set("offset",1),a=[p,y]}return sw(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class ML extends Ng{constructor(e,n,r,a,l,h,p=!1){super(e,n,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){const l=[],h=r+n,p=n/h,y=Hs(e[0]);y.set("offset",0),l.push(y);const D=Hs(e[0]);D.set("offset",aT(p)),l.push(D);const T=e.length-1;for(let M=1;M<=T;M++){let k=Hs(e[M]);const H=k.get("offset");k.set("offset",aT((n+H*r)/h)),l.push(k)}r=h,n=0,a="",e=l}return sw(this.element,e,this.preStyleProps,this.postStyleProps,r,n,a,!0)}}function aT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class cw{}const xL=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class IL extends cw{normalizePropertyName(e,n){return iw(e)}normalizeStyleValue(e,n,r,a){let l="";const h=r.toString().trim();if(xL.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&a.push(function bO(t,e){return new Ie(3005,Mt)}())}return h+l}}function oT(t,e,n,r,a,l,h,p,y,D,T,M,k){return{type:0,element:t,triggerName:e,isRemovalTransition:a,fromState:n,fromStyles:l,toState:r,toStyles:h,timelines:p,queriedElements:y,preStyleProps:D,postStyleProps:T,totalTime:M,errors:k}}const dw={};class sT{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,a){return function PL(t,e,n,r,a){return t.some(l=>l(e,n,r,a))}(this.ast.matchers,e,n,r,a)}buildStyles(e,n,r){let a=this._stateStyles.get("*");return void 0!==e&&(a=this._stateStyles.get(null==e?void 0:e.toString())||a),a?a.buildStyles(n,r):new Map}build(e,n,r,a,l,h,p,y,D,T){var M;const k=[],H=this.ast.options&&this.ast.options.params||dw,Z=this.buildStyles(r,p&&p.params||dw,k),ie=y&&y.params||dw,ne=this.buildStyles(a,ie,k),Se=new Set,ae=new Map,Me=new Map,it="void"===a,Ft={params:RL(ie,H),delay:null===(M=this.ast.options)||void 0===M?void 0:M.delay},Rn=T?[]:lw(e,n,this.ast.animation,l,h,Z,ne,Ft,D,k);let Nr=0;if(Rn.forEach(Kr=>{Nr=Math.max(Kr.duration+Kr.delay,Nr)}),k.length)return oT(n,this._triggerName,r,a,it,Z,ne,[],[],ae,Me,Nr,k);Rn.forEach(Kr=>{const Xo=Kr.element,Jo=Pi(ae,Xo,new Set);Kr.preStyleProps.forEach(so=>Jo.add(so));const es=Pi(Me,Xo,new Set);Kr.postStyleProps.forEach(so=>es.add(so)),Xo!==n&&Se.add(Xo)});const js=Sg(Se.values());return oT(n,this._triggerName,r,a,it,Z,ne,Rn,js,ae,Me,Nr)}}function RL(t,e){const n=Mf(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class NL{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,a=Mf(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!==h&&(a[l]=h)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{h&&(h=_g(h,a,n));const y=this.normalizer.normalizePropertyName(p,n);h=this.normalizer.normalizeStyleValue(p,y,h,n),r.set(y,h)})}),r}}class FL{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(a=>{this.states.set(a.name,new NL(a.style,a.options&&a.options.params||{},r))}),lT(this.states,"true","1"),lT(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new sT(e,a,this.states))}),this.fallbackTransition=function OL(t,e,n){return new sT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,a){return this.transitionFactories.find(h=>h.match(e,n,r,a))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function lT(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const LL=new Pg;class VL{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],l=aw(this._driver,n,r,[]);if(r.length)throw function VO(t){return new Ie(3503,Mt)}();this._animations.set(e,l)}_buildPlayer(e,n,r){const a=e.element,l=$1(0,this._normalizer,0,e.keyframes,n,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const a=[],l=this._animations.get(e);let h;const p=new Map;if(l?(h=lw(this._driver,n,l,ew,bg,new Map,new Map,r,LL,a),h.forEach(T=>{const M=Pi(p,T.element,new Map);T.postStyleProps.forEach(k=>M.set(k,null))})):(a.push(function BO(){return new Ie(3300,Mt)}()),h=[]),a.length)throw function $O(t){return new Ie(3504,Mt)}();p.forEach((T,M)=>{T.forEach((k,H)=>{T.set(H,this._driver.computeStyle(M,H,Qo))})});const D=Bs(h.map(T=>{const M=p.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,D),D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function HO(t){return new Ie(3301,Mt)}();return n}listen(e,n,r,a){const l=Y0(n,"","","");return K0(this._getPlayer(e),r,l,a),()=>{}}command(e,n,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,n,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const uT="ng-animate-queued",fw="ng-animate-disabled",UL=[],cT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Zi="__ng_removed";class hw{constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function KL(t){return null!=t?t:null}(r?e.value:e),r){const l=Mf(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(a=>{null==r[a]&&(r[a]=n[a])})}}}const xf="void",pw=new hw(xf);class qL{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xi(n,this._hostClassName)}listen(e,n,r,a){if(!this._triggers.has(n))throw function zO(t,e){return new Ie(3302,Mt)}();if(null==r||0==r.length)throw function UO(t){return new Ie(3303,Mt)}();if(!function QL(t){return"start"==t||"done"==t}(r))throw function jO(t,e){return new Ie(3400,Mt)}();const l=Pi(this._elementListeners,e,[]),h={name:n,phase:r,callback:a};l.push(h);const p=Pi(this._engine.statesByElement,e,new Map);return p.has(n)||(Xi(e,Dg),Xi(e,Dg+"-"+n),p.set(n,pw)),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(h);y>=0&&l.splice(y,1),this._triggers.has(n)||p.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function qO(t){return new Ie(3401,Mt)}();return n}trigger(e,n,r,a=!0){const l=this._getTrigger(n),h=new gw(this.id,n,e);let p=this._engine.statesByElement.get(e);p||(Xi(e,Dg),Xi(e,Dg+"-"+n),this._engine.statesByElement.set(e,p=new Map));let y=p.get(n);const D=new hw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&D.absorbOptions(y.options),p.set(n,D),y||(y=pw),D.value!==xf&&y.value===D.value){if(!function XL(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let a=0;a<n.length;a++){const l=n[a];if(!e.hasOwnProperty(l)||t[l]!==e[l])return!1}return!0}(y.params,D.params)){const Z=[],ie=l.matchStyles(y.value,y.params,Z),ne=l.matchStyles(D.value,D.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{zl(e,ie),ao(e,ne)})}return}const k=Pi(this._engine.playersByElement,e,[]);k.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==n&&Z.queued&&Z.destroy()});let H=l.matchTransition(y.value,D.value,e,D.params),W=!1;if(!H){if(!a)return;H=l.fallbackTransition,W=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:H,fromState:y,toState:D,player:h,isFallbackTransition:W}),W||(Xi(e,uT),h.onStart(()=>{yc(e,uT)})),h.onDone(()=>{let Z=this.players.indexOf(h);Z>=0&&this.players.splice(Z,1);const ie=this._engine.playersByElement.get(e);if(ie){let ne=ie.indexOf(h);ne>=0&&ie.splice(ne,1)}}),this.players.push(h),k.push(h),h}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,Eg,!0);r.forEach(a=>{if(a[Zi])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,n,r,a){const l=this._engine.statesByElement.get(e),h=new Map;if(l){const p=[];if(l.forEach((y,D)=>{if(h.set(D,y.value),this._triggers.has(D)){const T=this.trigger(e,D,xf,a);T&&p.push(T)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,h),r&&Bs(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const a=new Set;n.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const y=this._triggers.get(h).fallbackTransition,D=r.get(h)||pw,T=new hw(xf),M=new gw(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:y,fromState:D,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,n);else{const l=e[Zi];(!l||l===cT)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Xi(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(p=>{if(p.name==r.triggerName){const y=Y0(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,K0(r.player,p.phase,y,p.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(r)}),this._queue=[],n.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let n=!1;return this._elementListeners.has(e)&&(n=!0),n=!!this._queue.find(r=>r.element===e)||n,n}}class GL{constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new qL(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,a=this.namespacesByHostElement;if(r.length-1>=0){let h=!1,p=this.driver.getParentElement(n);for(;p;){const y=a.get(p);if(y){const D=r.indexOf(y);r.splice(D+1,0,e),h=!0;break}p=this.driver.getParentElement(p)}h||r.unshift(e)}else r.push(e);return a.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let a=this._namespaceLookup[e];a&&a.register(n,r)&&this.totalAnimations++}destroy(e,n){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(n))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let a of r.values())if(a.namespaceId){const l=this._fetchNamespace(a.namespaceId);l&&n.add(l)}return n}trigger(e,n,r,a){if(kg(n)){const l=this._fetchNamespace(e);if(l)return l.trigger(n,r,a),!0}return!1}insertNode(e,n,r,a){if(!kg(n))return;const l=n[Zi];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(n);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(n,r)}a&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xi(e,fw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),yc(e,fw))}removeNode(e,n,r,a){if(kg(n)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(n,a):this.markElementAsRemoved(e,n,!1,a),r){const h=this.namespacesByHostElement.get(n);h&&h.id!==e&&h.removeNode(n,a)}}else this._onRemovalComplete(n,a)}markElementAsRemoved(e,n,r,a,l){this.collectedLeaveElements.push(n),n[Zi]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,n,r,a,l){return kg(n)?this._fetchNamespace(e).listen(n,r,a,l):()=>{}}_buildInstruction(e,n,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,n,l)}destroyInnerAnimations(e){let n=this.driver.query(e,Eg,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,tw,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Bs(this.players).onDone(()=>e());e()})}processLeaveNode(e){var n;const r=e[Zi];if(r&&r.setForRemoval){if(e[Zi]=cT,r.namespaceId){this.destroyInnerAnimations(e);const a=this._fetchNamespace(r.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}!(null===(n=e.classList)||void 0===n)&&n.contains(fw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Bs(n).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw function GO(t){return new Ie(3402,Mt)}()}_flushAnimations(e,n){const r=new Pg,a=[],l=new Map,h=[],p=new Map,y=new Map,D=new Map,T=new Set;this.disabledNodes.forEach(Be=>{T.add(Be);const qe=this.driver.query(Be,".ng-animate-queued",!0);for(let Je=0;Je<qe.length;Je++)T.add(qe[Je])});const M=this.bodyNode,k=Array.from(this.statesByElement.keys()),H=hT(k,this.collectedEnterElements),W=new Map;let Z=0;H.forEach((Be,qe)=>{const Je=ew+Z++;W.set(qe,Je),Be.forEach(_t=>Xi(_t,Je))});const ie=[],ne=new Set,Se=new Set;for(let Be=0;Be<this.collectedLeaveElements.length;Be++){const qe=this.collectedLeaveElements[Be],Je=qe[Zi];Je&&Je.setForRemoval&&(ie.push(qe),ne.add(qe),Je.hasAnimation?this.driver.query(qe,".ng-star-inserted",!0).forEach(_t=>ne.add(_t)):Se.add(qe))}const ae=new Map,Me=hT(k,Array.from(ne));Me.forEach((Be,qe)=>{const Je=bg+Z++;ae.set(qe,Je),Be.forEach(_t=>Xi(_t,Je))}),e.push(()=>{H.forEach((Be,qe)=>{const Je=W.get(qe);Be.forEach(_t=>yc(_t,Je))}),Me.forEach((Be,qe)=>{const Je=ae.get(qe);Be.forEach(_t=>yc(_t,Je))}),ie.forEach(Be=>{this.processLeaveNode(Be)})});const it=[],Ft=[];for(let Be=this._namespaceList.length-1;Be>=0;Be--)this._namespaceList[Be].drainQueuedTransitions(n).forEach(Je=>{const _t=Je.player,Nn=Je.element;if(it.push(_t),this.collectedEnterElements.length){const kr=Nn[Zi];if(kr&&kr.setForMove){if(kr.previousTriggersValues&&kr.previousTriggersValues.has(Je.triggerName)){const Yl=kr.previousTriggersValues.get(Je.triggerName),ea=this.statesByElement.get(Je.element);if(ea&&ea.has(Je.triggerName)){const Jg=ea.get(Je.triggerName);Jg.value=Yl,ea.set(Je.triggerName,Jg)}}return void _t.destroy()}}const lo=!M||!this.driver.containsElement(M,Nn),Ni=ae.get(Nn),qs=W.get(Nn),bn=this._buildInstruction(Je,r,qs,Ni,lo);if(bn.errors&&bn.errors.length)return void Ft.push(bn);if(lo)return _t.onStart(()=>zl(Nn,bn.fromStyles)),_t.onDestroy(()=>ao(Nn,bn.toStyles)),void a.push(_t);if(Je.isFallbackTransition)return _t.onStart(()=>zl(Nn,bn.fromStyles)),_t.onDestroy(()=>ao(Nn,bn.toStyles)),void a.push(_t);const FM=[];bn.timelines.forEach(kr=>{kr.stretchStartingKeyframe=!0,this.disabledNodes.has(kr.element)||FM.push(kr)}),bn.timelines=FM,r.append(Nn,bn.timelines),h.push({instruction:bn,player:_t,element:Nn}),bn.queriedElements.forEach(kr=>Pi(p,kr,[]).push(_t)),bn.preStyleProps.forEach((kr,Yl)=>{if(kr.size){let ea=y.get(Yl);ea||y.set(Yl,ea=new Set),kr.forEach((Jg,Uw)=>ea.add(Uw))}}),bn.postStyleProps.forEach((kr,Yl)=>{let ea=D.get(Yl);ea||D.set(Yl,ea=new Set),kr.forEach((Jg,Uw)=>ea.add(Uw))})});if(Ft.length){const Be=[];Ft.forEach(qe=>{Be.push(function WO(t,e){return new Ie(3505,Mt)}())}),it.forEach(qe=>qe.destroy()),this.reportError(Be)}const Rn=new Map,Nr=new Map;h.forEach(Be=>{const qe=Be.element;r.has(qe)&&(Nr.set(qe,qe),this._beforeAnimationBuild(Be.player.namespaceId,Be.instruction,Rn))}),a.forEach(Be=>{const qe=Be.element;this._getPreviousPlayers(qe,!1,Be.namespaceId,Be.triggerName,null).forEach(_t=>{Pi(Rn,qe,[]).push(_t),_t.destroy()})});const js=ie.filter(Be=>gT(Be,y,D)),Kr=new Map;fT(Kr,this.driver,Se,D,Qo).forEach(Be=>{gT(Be,y,D)&&js.push(Be)});const Jo=new Map;H.forEach((Be,qe)=>{fT(Jo,this.driver,new Set(Be),y,"!")}),js.forEach(Be=>{var qe,Je;const _t=Kr.get(Be),Nn=Jo.get(Be);Kr.set(Be,new Map([...Array.from(null!==(qe=null==_t?void 0:_t.entries())&&void 0!==qe?qe:[]),...Array.from(null!==(Je=null==Nn?void 0:Nn.entries())&&void 0!==Je?Je:[])]))});const es=[],so=[],Cc={};h.forEach(Be=>{const{element:qe,player:Je,instruction:_t}=Be;if(r.has(qe)){if(T.has(qe))return Je.onDestroy(()=>ao(qe,_t.toStyles)),Je.disabled=!0,Je.overrideTotalTime(_t.totalTime),void a.push(Je);let Nn=Cc;if(Nr.size>1){let Ni=qe;const qs=[];for(;Ni=Ni.parentNode;){const bn=Nr.get(Ni);if(bn){Nn=bn;break}qs.push(Ni)}qs.forEach(bn=>Nr.set(bn,Nn))}const lo=this._buildAnimation(Je.namespaceId,_t,Rn,l,Jo,Kr);if(Je.setRealPlayer(lo),Nn===Cc)es.push(Je);else{const Ni=this.playersByElement.get(Nn);Ni&&Ni.length&&(Je.parentPlayer=Bs(Ni)),a.push(Je)}}else zl(qe,_t.fromStyles),Je.onDestroy(()=>ao(qe,_t.toStyles)),so.push(Je),T.has(qe)&&a.push(Je)}),so.forEach(Be=>{const qe=l.get(Be.element);if(qe&&qe.length){const Je=Bs(qe);Be.setRealPlayer(Je)}}),a.forEach(Be=>{Be.parentPlayer?Be.syncPlayerEvents(Be.parentPlayer):Be.destroy()});for(let Be=0;Be<ie.length;Be++){const qe=ie[Be],Je=qe[Zi];if(yc(qe,bg),Je&&Je.hasAnimation)continue;let _t=[];if(p.size){let lo=p.get(qe);lo&&lo.length&&_t.push(...lo);let Ni=this.driver.query(qe,tw,!0);for(let qs=0;qs<Ni.length;qs++){let bn=p.get(Ni[qs]);bn&&bn.length&&_t.push(...bn)}}const Nn=_t.filter(lo=>!lo.destroyed);Nn.length?YL(this,qe,Nn):this.processLeaveNode(qe)}return ie.length=0,es.forEach(Be=>{this.players.push(Be),Be.onDone(()=>{Be.destroy();const qe=this.players.indexOf(Be);this.players.splice(qe,1)}),Be.play()}),es}elementContainsData(e,n){let r=!1;const a=n[Zi];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(n)&&(r=!0),this.playersByQueriedElement.has(n)&&(r=!0),this.statesByElement.has(n)&&(r=!0),this._fetchNamespace(e).elementContainsData(n)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,a,l){let h=[];if(n){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const y=!l||l==xf;p.forEach(D=>{D.queued||!y&&D.triggerName!=a||h.push(D)})}}return(r||a)&&(h=h.filter(p=>!(r&&r!=p.namespaceId||a&&a!=p.triggerName))),h}_beforeAnimationBuild(e,n,r){const l=n.element,h=n.isRemovalTransition?void 0:e,p=n.isRemovalTransition?void 0:n.triggerName;for(const y of n.timelines){const D=y.element,T=D!==l,M=Pi(r,D,[]);this._getPreviousPlayers(D,T,h,p,n.toState).forEach(H=>{const W=H.getRealPlayer();W.beforeDestroy&&W.beforeDestroy(),H.destroy(),M.push(H)})}zl(l,n.fromStyles)}_buildAnimation(e,n,r,a,l,h){const p=n.triggerName,y=n.element,D=[],T=new Set,M=new Set,k=n.timelines.map(W=>{const Z=W.element;T.add(Z);const ie=Z[Zi];if(ie&&ie.removedBeforeQueried)return new Tf(W.duration,W.delay);const ne=Z!==y,Se=function ZL(t){const e=[];return pT(t,e),e}((r.get(Z)||UL).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Z),ae=l.get(Z),Me=h.get(Z),it=$1(0,this._normalizer,0,W.keyframes,ae,Me),Ft=this._buildPlayer(W,it,Se);if(W.subTimeline&&a&&M.add(Z),ne){const Rn=new gw(e,p,Z);Rn.setRealPlayer(Ft),D.push(Rn)}return Ft});D.forEach(W=>{Pi(this.playersByQueriedElement,W.element,[]).push(W),W.onDone(()=>function WL(t,e,n){let r=t.get(e);if(r){if(r.length){const a=r.indexOf(n);r.splice(a,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,W.element,W))}),T.forEach(W=>Xi(W,Q1));const H=Bs(k);return H.onDestroy(()=>{T.forEach(W=>yc(W,Q1)),ao(y,n.toStyles)}),M.forEach(W=>{Pi(a,W,[]).push(H)}),H}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Tf(e.duration,e.delay)}}class gw{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Tf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(a=>K0(e,r,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Pi(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function kg(t){return t&&1===t.nodeType}function dT(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function fT(t,e,n,r,a){const l=[];n.forEach(y=>l.push(dT(y)));const h=[];r.forEach((y,D)=>{const T=new Map;y.forEach(M=>{const k=e.computeStyle(D,M,a);T.set(M,k),(!k||0==k.length)&&(D[Zi]=jL,h.push(D))}),t.set(D,T)});let p=0;return n.forEach(y=>dT(y,l[p++])),h}function hT(t,e){const n=new Map;if(t.forEach(p=>n.set(p,[])),0==e.length)return n;const a=new Set(e),l=new Map;function h(p){if(!p)return 1;let y=l.get(p);if(y)return y;const D=p.parentNode;return y=n.has(D)?D:a.has(D)?1:h(D),l.set(p,y),y}return e.forEach(p=>{const y=h(p);1!==y&&n.get(y).push(p)}),n}function Xi(t,e){var n;null===(n=t.classList)||void 0===n||n.add(e)}function yc(t,e){var n;null===(n=t.classList)||void 0===n||n.remove(e)}function YL(t,e,n){Bs(n).onDone(()=>t.processLeaveNode(e))}function pT(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof V1?pT(r.players,e):e.push(r)}}function gT(t,e,n){const r=n.get(t);if(!r)return!1;let a=e.get(t);return a?r.forEach(l=>a.add(l)):e.set(t,r),n.delete(t),!0}class Fg{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new GL(e,n,r),this._timelineEngine=new VL(e,n,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,n,r,a,l){const h=e+"-"+a;let p=this._triggerCache[h];if(!p){const y=[],T=aw(this._driver,l,y,[]);if(y.length)throw function OO(t,e){return new Ie(3404,Mt)}();p=function kL(t,e,n){return new FL(t,e,n)}(a,T,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(n,a,p)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,a){this._transitionEngine.insertNode(e,n,r,a)}onRemove(e,n,r,a){this._transitionEngine.removeNode(e,n,a||!1,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,a){if("@"==r.charAt(0)){const[l,h]=H1(r);this._timelineEngine.command(l,n,h,a)}else this._transitionEngine.trigger(e,n,r,a)}listen(e,n,r,a,l){if("@"==r.charAt(0)){const[h,p]=H1(r);return this._timelineEngine.listen(h,n,p,l)}return this._transitionEngine.listen(e,n,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let e2=(()=>{class t{constructor(n,r,a){this._element=n,this._startStyles=r,this._endStyles=a,this._state=0;let l=t.initialStylesByElement.get(n);l||t.initialStylesByElement.set(n,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ao(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ao(this._element,this._initialStyles),this._endStyles&&(ao(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zl(this._element,this._endStyles),this._endStyles=null),ao(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function vw(t){let e=null;return t.forEach((n,r)=>{(function t2(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class vT{constructor(e,n,r,a){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,a)=>{"offset"!==a&&e.set(a,this._finished?r:tT(this.element,a))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class n2{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return q1(e,n)}getParentElement(e){return X0(e)}query(e,n,r){return G1(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,a,l,h=[]){const y={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(y.easing=l);const D=new Map,T=h.filter(H=>H instanceof vT);(function oL(t,e){return 0===t||0===e})(r,a)&&T.forEach(H=>{H.currentSnapshot.forEach((W,Z)=>D.set(Z,W))});let M=function nL(t){return t.length?t[0]instanceof Map?t:t.map(e=>Y1(e)):[]}(n).map(H=>Hs(H));M=function sL(t,e,n){if(n.size&&e.length){let r=e[0],a=[];if(n.forEach((l,h)=>{r.has(h)||a.push(h),r.set(h,l)}),a.length)for(let l=1;l<e.length;l++){let h=e[l];a.forEach(p=>h.set(p,tT(t,p)))}}return e}(e,M,D);const k=function JL(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=vw(e[0]),e.length>1&&(r=vw(e[e.length-1]))):e instanceof Map&&(n=vw(e)),n||r?new e2(t,n,r):null}(e,M);return new vT(e,M,y,k)}}let r2=(()=>{class t extends N1{constructor(n,r){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(r.body,{id:"0",encapsulation:yi.None,styles:[],data:{animation:[]}})}build(n){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(n)?F1(n):n;return mT(this._renderer,null,r,"register",[a]),new i2(r,this._renderer)}}return t.\u0275fac=function(n){return new(n||t)(Ve(sf),Ve(Ir))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class i2 extends class fO{}{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new a2(this._id,e,n||{},this._renderer)}}class a2{constructor(e,n,r,a){this.id=e,this.element=n,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return mT(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,n;return null!==(n=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==n?n:0}}function mT(t,e,n,r,a){return t.setProperty(e,`@@${n}:${r}`,a)}const yT="@.disabled";let o2=(()=>{class t{constructor(n,r,a){this.delegate=n,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const p=null==h?void 0:h.parentNode(l);p&&h.removeChild(p,l)}}createRenderer(n,r){const l=this.delegate.createRenderer(n,r);if(!(n&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new wT("",l,this.engine),this._rendererCache.set(l,T)),T}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,n);const y=T=>{Array.isArray(T)?T.forEach(y):this.engine.registerTrigger(h,p,n,T.name,T)};return r.data.animation.forEach(y),new s2(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,r,a){n>=0&&n<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(n){return new(n||t)(Ve(sf),Ve(Fg),Ve(Pn))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class wT{constructor(e,n,r){this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>n.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,a=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,a)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate,r)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,a){this.delegate.setAttribute(e,n,r,a)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,a){this.delegate.setStyle(e,n,r,a)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==yT?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class s2 extends wT{constructor(e,n,r,a){super(n,r,a),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==yT?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const a=function l2(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let l=n.slice(1),h="";return"@"!=l.charAt(0)&&([l,h]=function u2(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,n,r)}}const bT=[{provide:N1,useClass:r2},{provide:cw,useFactory:function d2(){return new IL}},{provide:Fg,useClass:(()=>{class t extends Fg{constructor(n,r,a){super(n.body,r,a)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(n){return new(n||t)(Ve(Ir),Ve(J0),Ve(cw))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})()},{provide:sf,useFactory:function f2(t,e,n){return new o2(t,e,n)},deps:[ng,Fg,Pn]}],DT=[{provide:J0,useFactory:()=>new n2},{provide:c_,useValue:"BrowserAnimations"},...bT],h2=[{provide:J0,useClass:W1},{provide:c_,useValue:"NoopAnimations"},...bT];let p2=(()=>{class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?h2:DT}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({providers:DT,imports:[yS]}),t})();function pt(...t){return Fn(t,os(t))}class Sa extends kn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ET(...t){const e=os(t),n=Zf(t),{args:r,keys:a}=ES(t);if(0===r.length)return Fn([],e);const l=new Vt(function g2(t,e,n=Xt){return r=>{CT(e,()=>{const{length:a}=t,l=new Array(a);let h=a,p=a;for(let y=0;y<a;y++)CT(e,()=>{const D=Fn(t[y],e);let T=!1;D.subscribe(new Cn(r,M=>{l[y]=M,T||(T=!0,p--),p||r.next(n(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,a?h=>_S(a,h):Xt));return n?l.pipe(CS(n)):l}function CT(t,e,n){t?Li(n,t,e):e()}function If(t,e){const n=Ot(t)?t:()=>t,r=a=>a.error(n());return new Vt(e?a=>e.schedule(r,0,a):r)}const Pf=Qr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function mw(...t){return function v2(){return Ma(1)}()(Fn(t,os(t)))}function _T(t){return new Vt(e=>{Oi(t()).subscribe(e)})}function yw(){return En((t,e)=>{let n=null;t._refCount++;const r=new Cn(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const a=t._connection,l=n;n=null,a&&(!l||a===l)&&a.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class ST extends Vt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;const n=this.getSubject();e.add(this.source.subscribe(new Cn(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return yw()(this)}}function jl(t,e){return En((n,r)=>{let a=null,l=0,h=!1;const p=()=>h&&!a&&r.complete();n.subscribe(new Cn(r,y=>{null==a||a.unsubscribe();let D=0;const T=l++;Oi(t(y,T)).subscribe(a=new Cn(r,M=>r.next(e?e(y,M,T,D++):M),()=>{a=null,p()}))},()=>{h=!0,p()}))})}function y2(t,e,n,r,a){return(l,h)=>{let p=n,y=e,D=0;l.subscribe(new Cn(h,T=>{const M=D++;y=p?t(y,T,M):(p=!0,T),r&&h.next(y)},a&&(()=>{p&&h.next(y),h.complete()})))}}function TT(t,e){return En(y2(t,e,arguments.length>=2,!0))}function wc(t,e){return En((n,r)=>{let a=0;n.subscribe(new Cn(r,l=>t.call(e,l,a++)&&r.next(l)))})}function zs(t){return En((e,n)=>{let l,r=null,a=!1;r=e.subscribe(new Cn(n,void 0,void 0,h=>{l=Oi(t(h,zs(t)(e))),r?(r.unsubscribe(),r=null,l.subscribe(n)):a=!0})),a&&(r.unsubscribe(),r=null,l.subscribe(n))})}function Rf(t,e){return Ot(e)?Hn(t,e,1):Hn(t,1)}function ww(t){return t<=0?()=>qt:En((e,n)=>{let r=[];e.subscribe(new Cn(n,a=>{r.push(a),t<r.length&&r.shift()},()=>{for(const a of r)n.next(a);n.complete()},void 0,()=>{r=null}))})}function MT(t=w2){return En((e,n)=>{let r=!1;e.subscribe(new Cn(n,a=>{r=!0,n.next(a)},()=>r?n.complete():n.error(t())))})}function w2(){return new Pf}function bw(t){return En((e,n)=>{let r=!1;e.subscribe(new Cn(n,a=>{r=!0,n.next(a)},()=>{r||n.next(t),n.complete()}))})}function ql(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wc((a,l)=>t(a,l,r)):Xt,Bi(1),n?bw(e):MT(()=>new Pf))}function Rr(t,e,n){const r=Ot(t)||e||n?{next:t,error:e,complete:n}:t;return r?En((a,l)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let p=!0;a.subscribe(new Cn(l,y=>{var D;null===(D=r.next)||void 0===D||D.call(r,y),l.next(y)},()=>{var y;p=!1,null===(y=r.complete)||void 0===y||y.call(r),l.complete()},y=>{var D;p=!1,null===(D=r.error)||void 0===D||D.call(r,y),l.error(y)},()=>{var y,D;p&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):Xt}function Dw(t){return En((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class Yo{constructor(e,n){this.id=e,this.url=n}}class Ew extends Yo{constructor(e,n,r="imperative",a=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nf extends Yo{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class AT extends Yo{constructor(e,n,r){super(e,n),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E2 extends Yo{constructor(e,n,r){super(e,n),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class C2 extends Yo{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _2 extends Yo{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S2 extends Yo{constructor(e,n,r,a,l){super(e,n),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class T2 extends Yo{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M2 extends Yo{constructor(e,n,r,a){super(e,n),this.urlAfterRedirects=r,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A2{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x2{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class I2{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class P2{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R2{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N2{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xT{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const wt="primary";class k2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bc(t){return new k2(t)}const IT="ngNavigationCancelingError";function Cw(t){const e=Error("NavigationCancelingError: "+t);return e[IT]=!0,e}function O2(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],p=t[l];if(h.startsWith(":"))a[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:t.slice(0,r.length),posParams:a}}function oo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let a;for(let l=0;l<n.length;l++)if(a=n[l],!PT(t[a],e[a]))return!1;return!0}function PT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((a,l)=>r[l]===a)}return t===e}function RT(t){return Array.prototype.concat.apply([],t)}function NT(t){return t.length>0?t[t.length-1]:null}function Er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ta(t){return py(t)?t:Jd(t)?Fn(Promise.resolve(t)):pt(t)}const B2={exact:function OT(t,e,n){if(!Wl(t.segments,e.segments)||!Lg(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!OT(t.children[r],e.children[r],n))return!1;return!0},subset:LT},kT={exact:function $2(t,e){return oo(t,e)},subset:function H2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PT(t[n],e[n]))},ignored:()=>!0};function FT(t,e,n){return B2[n.paths](t.root,e.root,n.matrixParams)&&kT[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function LT(t,e,n){return VT(t,e,e.segments,n)}function VT(t,e,n,r){if(t.segments.length>n.length){const a=t.segments.slice(0,n.length);return!(!Wl(a,n)||e.hasChildren()||!Lg(a,n,r))}if(t.segments.length===n.length){if(!Wl(t.segments,n)||!Lg(t.segments,n,r))return!1;for(const a in e.children)if(!t.children[a]||!LT(t.children[a],e.children[a],r))return!1;return!0}{const a=n.slice(0,t.segments.length),l=n.slice(t.segments.length);return!!(Wl(t.segments,a)&&Lg(t.segments,a,r)&&t.children[wt])&&VT(t.children[wt],e,l,r)}}function Lg(t,e,n){return e.every((r,a)=>kT[n](t[a].parameters,r.parameters))}class Gl{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return j2.serialize(this)}}class At{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Er(n,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vg(this)}}class kf{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bc(this.parameters)),this._parameterMap}toString(){return UT(this)}}function Wl(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class BT{}class $T{parse(e){const n=new J2(e);return new Gl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ff(e.root,!0)}`,r=function W2(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(a=>`${Bg(n)}=${Bg(a)}`).join("&"):`${Bg(n)}=${Bg(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function q2(t){return encodeURI(t)}(e.fragment)}`:""}`}}const j2=new $T;function Vg(t){return t.segments.map(e=>UT(e)).join("/")}function Ff(t,e){if(!t.hasChildren())return Vg(t);if(e){const n=t.children[wt]?Ff(t.children[wt],!1):"",r=[];return Er(t.children,(a,l)=>{l!==wt&&r.push(`${l}:${Ff(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function U2(t,e){let n=[];return Er(t.children,(r,a)=>{a===wt&&(n=n.concat(e(r,a)))}),Er(t.children,(r,a)=>{a!==wt&&(n=n.concat(e(r,a)))}),n}(t,(r,a)=>a===wt?[Ff(t.children[wt],!1)]:[`${a}:${Ff(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[wt]?`${Vg(t)}/${n[0]}`:`${Vg(t)}/(${n.join("//")})`}}function HT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bg(t){return HT(t).replace(/%3B/gi,";")}function _w(t){return HT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $g(t){return decodeURIComponent(t)}function zT(t){return $g(t.replace(/\+/g,"%20"))}function UT(t){return`${_w(t.path)}${function G2(t){return Object.keys(t).map(e=>`;${_w(e)}=${_w(t[e])}`).join("")}(t.parameters)}`}const K2=/^[^\/()?;=#]+/;function Hg(t){const e=t.match(K2);return e?e[0]:""}const Q2=/^[^=?&#]+/,Z2=/^[^&#]+/;class J2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[wt]=new At(e,n)),r}parseSegment(){const e=Hg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new kf($g(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Hg(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const a=Hg(this.remaining);a&&(r=a,this.capture(r))}e[$g(n)]=$g(r)}parseQueryParam(e){const n=function Y2(t){const e=t.match(Q2);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const h=function X2(t){const e=t.match(Z2);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=zT(n),l=zT(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Hg(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=wt);const h=this.parseChildren();n[l]=1===Object.keys(h).length?h[wt]:new At([],h),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class jT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Sw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Sw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Tw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return Tw(e,this._root).map(n=>n.value)}}function Sw(t,e){if(t===e.value)return e;for(const n of e.children){const r=Sw(t,n);if(r)return r}return null}function Tw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Tw(t,n);if(r.length)return r.unshift(e),r}return[]}class Zo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Dc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class qT extends jT{constructor(e,n){super(e),this.snapshot=n,Mw(this,e)}toString(){return this.snapshot.toString()}}function GT(t,e){const n=function eV(t,e){const h=new zg([],{},{},"",{},wt,e,null,t.root,-1,{});return new KT("",new Zo(h,[]))}(t,e),r=new Sa([new kf("",{})]),a=new Sa({}),l=new Sa({}),h=new Sa({}),p=new Sa(""),y=new Ec(r,a,h,p,l,wt,e,n.root);return y.snapshot=n.root,new qT(new Zo(y,[]),n)}class Ec{constructor(e,n,r,a,l,h,p,y){this.url=e,this.params=n,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Pt(e=>bc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Pt(e=>bc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WT(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const a=n[r],l=n[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function tV(t){return t.reduce((e,n)=>{var r;return{params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign(Object.assign(Object.assign({},n.data),e.resolve),null===(r=n.routeConfig)||void 0===r?void 0:r.data),n._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}class zg{constructor(e,n,r,a,l,h,p,y,D,T,M,k){this.url=e,this.params=n,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=p,this.routeConfig=y,this._urlSegment=D,this._lastPathIndex=T,this._correctedLastPathIndex=null!=k?k:T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class KT extends jT{constructor(e,n){super(n),this.url=e,Mw(this,n)}toString(){return QT(this._root)}}function Mw(t,e){e.value._routerState=t,e.children.forEach(n=>Mw(t,n))}function QT(t){const e=t.children.length>0?` { ${t.children.map(QT).join(", ")} } `:"";return`${t.value}${e}`}function Aw(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,oo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),oo(e.params,n.params)||t.params.next(n.params),function L2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!oo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),oo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xw(t,e){const n=oo(t.params,e.params)&&function z2(t,e){return Wl(t,e)&&t.every((n,r)=>oo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||xw(t.parent,e.parent))}function Of(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const a=function rV(t,e,n){return e.children.map(r=>{for(const a of n.children)if(t.shouldReuseRoute(r.value,a.value.snapshot))return Of(t,r,a);return Of(t,r)})}(t,e,n);return new Zo(r,a)}{if(t.shouldAttach(e.value)){const l=t.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(p=>Of(t,p)),h}}const r=function iV(t){return new Ec(new Sa(t.url),new Sa(t.params),new Sa(t.queryParams),new Sa(t.fragment),new Sa(t.data),t.outlet,t.component,t)}(e.value),a=e.children.map(l=>Of(t,l));return new Zo(r,a)}}function Ug(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Lf(t){return"object"==typeof t&&null!=t&&t.outlets}function Iw(t,e,n,r,a){let l={};if(r&&Er(r,(p,y)=>{l[y]=Array.isArray(p)?p.map(D=>`${D}`):`${p}`}),t===e)return new Gl(n,l,a);const h=YT(t,e,n);return new Gl(h,l,a)}function YT(t,e,n){const r={};return Er(t.children,(a,l)=>{r[l]=a===e?n:YT(a,e,n)}),new At(t.segments,r)}class ZT{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ug(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Lf);if(a&&a!==NT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pw{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function XT(t,e,n){if(t||(t=new At([],{})),0===t.segments.length&&t.hasChildren())return jg(t,e,n);const r=function cV(t,e,n){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(r>=n.length)return l;const h=t.segments[a],p=n[r];if(Lf(p))break;const y=`${p}`,D=r<n.length-1?n[r+1]:null;if(a>0&&void 0===y)break;if(y&&D&&"object"==typeof D&&void 0===D.outlets){if(!eM(y,D,h))return l;r+=2}else{if(!eM(y,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(t,e,n),a=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const l=new At(t.segments.slice(0,r.pathIndex),{});return l.children[wt]=new At(t.segments.slice(r.pathIndex),t.children),jg(l,0,a)}return r.match&&0===a.length?new At(t.segments,{}):r.match&&!t.hasChildren()?Rw(t,e,n):r.match?jg(t,0,a):Rw(t,e,n)}function jg(t,e,n){if(0===n.length)return new At(t.segments,{});{const r=function uV(t){return Lf(t[0])?t[0].outlets:{[wt]:t}}(n),a={};return Er(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=XT(t.children[h],e,l))}),Er(t.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new At(t.segments,a)}}function Rw(t,e,n){const r=t.segments.slice(0,e);let a=0;for(;a<n.length;){const l=n[a];if(Lf(l)){const y=dV(l.outlets);return new At(r,y)}if(0===a&&Ug(n[0])){r.push(new kf(t.segments[e].path,JT(n[0]))),a++;continue}const h=Lf(l)?l.outlets[wt]:`${l}`,p=a<n.length-1?n[a+1]:null;h&&p&&Ug(p)?(r.push(new kf(h,JT(p))),a+=2):(r.push(new kf(h,{})),a++)}return new At(r,{})}function dV(t){const e={};return Er(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Rw(new At([],{}),0,n))}),e}function JT(t){const e={};return Er(t,(n,r)=>e[r]=`${n}`),e}function eM(t,e,n){return t==n.path&&oo(e,n.parameters)}class fV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vf,this.attachRef=null}}class Vf{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new fV,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Nw=(()=>{class t{constructor(n,r,a,l,h){this.parentContexts=n,this.location=r,this.changeDetector=l,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new In,this.deactivateEvents=new In,this.attachEvents=new In,this.detachEvents=new In,this.name=a||wt,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const a=this.location,h=n._futureSnapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,y=new hV(n,p,a.injector);if(r&&function pV(t){return!!t.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(h);this.activated=a.createComponent(D,a.length,y)}else this.activated=a.createComponent(h,{index:a.length,injector:y,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(be(Vf),be(Ea),_s("name"),be(Vp),be(Nl))},t.\u0275dir=Ue({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class hV{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ec?this.route:e===Vf?this.childContexts:this.parent.get(e,n)}}let tM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=wo({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Xa(0,"router-outlet")},dependencies:[Nw],encapsulation:2}),t})();function nM(t,e){var n;return t.providers&&!t._injector&&(t._injector=Ip(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}function Fw(t){const e=t.children&&t.children.map(Fw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==wt&&(n.component=tM),n}function Ji(t){return t.outlet||wt}function rM(t,e){const n=t.filter(r=>Ji(r)===e);return n.push(...t.filter(r=>Ji(r)!==e)),n}function iM(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class wV{constructor(e,n,r,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=a}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Aw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const a=Dc(n);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Er(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,n,r){const a=e.value,l=n?n.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,n,h.children)}else this.deactivateChildRoutes(e,n,r);else l&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),a=r&&e.value.component?r.children:n,l=Dc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);if(r&&r.outlet){const h=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:p})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),a=r&&e.value.component?r.children:n,l=Dc(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const a=Dc(n);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new N2(l.value.snapshot))}),e.children.length&&this.forwardEvent(new P2(e.value.snapshot))}activateRoutes(e,n,r){var a;const l=e.value,h=n?n.value:null;if(Aw(l),l===h)if(l.component){const p=r.getOrCreateContext(l.outlet);this.activateChildRoutes(e,n,p.children)}else this.activateChildRoutes(e,n,r);else if(l.component){const p=r.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const y=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(y.contexts),p.attachRef=y.componentRef,p.route=y.route.value,p.outlet&&p.outlet.attach(y.componentRef,y.route.value),Aw(y.route.value),this.activateChildRoutes(e,null,p.children)}else{const y=iM(l.snapshot),D=null!==(a=null==y?void 0:y.get(of))&&void 0!==a?a:null;p.attachRef=null,p.route=l,p.resolver=D,p.injector=y,p.outlet&&p.outlet.activateWith(l,p.injector),this.activateChildRoutes(e,null,p.children)}}else this.activateChildRoutes(e,null,r)}}function Us(t){return"function"==typeof t}function Kl(t){return t instanceof Gl}const Bf=Symbol("INITIAL_VALUE");function $f(){return jl(t=>ET(t.map(e=>e.pipe(Bi(1),function m2(...t){const e=os(t);return En((n,r)=>{(e?mw(t,n,e):mw(t,n)).subscribe(r)})}(Bf)))).pipe(TT((e,n)=>{let r=!1;return n.reduce((a,l,h)=>a!==Bf?a:(l===Bf&&(r=!0),r||!1!==l&&h!==n.length-1&&!Kl(l)?a:l),e)},Bf),wc(e=>e!==Bf),Pt(e=>Kl(e)?e:!0===e),Bi(1)))}const aM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qg(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},aM):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const l=(e.matcher||O2)(n,t,e);if(!l)return Object.assign({},aM);const h={};Er(l.posParams,(y,D)=>{h[D]=y.path});const p=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,remainingSegments:n.slice(l.consumed.length),parameters:p,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Gg(t,e,n,r,a="corrected"){if(n.length>0&&function MV(t,e,n){return n.some(r=>Wg(t,e,r)&&Ji(r)!==wt)}(t,n,r)){const h=new At(e,function TV(t,e,n,r){const a={};a[wt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const l of n)if(""===l.path&&Ji(l)!==wt){const h=new At([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,a[Ji(l)]=h}return a}(t,e,r,new At(n,t.children)));return h._sourceSegment=t,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===n.length&&function AV(t,e,n){return n.some(r=>Wg(t,e,r))}(t,n,r)){const h=new At(t.segments,function SV(t,e,n,r,a,l){const h={};for(const p of r)if(Wg(t,n,p)&&!a[Ji(p)]){const y=new At([],{});y._sourceSegment=t,y._segmentIndexShift="legacy"===l?t.segments.length:e.length,h[Ji(p)]=y}return Object.assign(Object.assign({},a),h)}(t,e,n,r,t.children,a));return h._sourceSegment=t,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:n}}const l=new At(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}function Wg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function oM(t,e,n,r){return!!(Ji(t)===r||r!==wt&&Wg(e,n,t))&&("**"===t.path||qg(e,t,n).matched)}function sM(t,e,n){return 0===e.length&&!t.children[n]}class Kg{constructor(e){this.segmentGroup=e||null}}class lM{constructor(e){this.urlTree=e}}function Hf(t){return If(new Kg(t))}function uM(t){return If(new lM(t))}class RV{constructor(e,n,r,a,l){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0}apply(){const e=Gg(this.urlTree.root,[],[],this.config).segmentGroup,n=new At(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,wt).pipe(Pt(l=>this.createUrlTree(Ow(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zs(l=>{if(l instanceof lM)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Kg?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,wt).pipe(Pt(a=>this.createUrlTree(Ow(a),e.queryParams,e.fragment))).pipe(zs(a=>{throw a instanceof Kg?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const a=e.segments.length>0?new At([],{[wt]:e}):e;return new Gl(a,n,r)}expandSegmentGroup(e,n,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(Pt(l=>new At([],l))):this.expandSegment(e,r,n,r.segments,a,!0)}expandChildren(e,n,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return Fn(a).pipe(Rf(l=>{const h=r.children[l],p=rM(n,l);return this.expandSegmentGroup(e,p,h,l).pipe(Pt(y=>({segment:y,outlet:l})))}),TT((l,h)=>(l[h.outlet]=h.segment,l),{}),function b2(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wc((a,l)=>t(a,l,r)):Xt,ww(1),n?bw(e):MT(()=>new Pf))}())}expandSegment(e,n,r,a,l,h){return Fn(r).pipe(Rf(p=>this.expandSegmentAgainstRoute(e,n,r,p,a,l,h).pipe(zs(D=>{if(D instanceof Kg)return pt(null);throw D}))),ql(p=>!!p),zs((p,y)=>{if(p instanceof Pf||"EmptyError"===p.name)return sM(n,a,l)?pt(new At([],{})):Hf(n);throw p}))}expandSegmentAgainstRoute(e,n,r,a,l,h,p){return oM(a,n,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,n,a,l,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,a,l,h):Hf(n):Hf(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uM(l):this.lineralizeSegments(r,l).pipe(Hn(h=>{const p=new At(h,{});return this.expandSegment(e,p,n,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,a,l,h){const{matched:p,consumedSegments:y,remainingSegments:D,positionalParamSegments:T}=qg(n,a,l);if(!p)return Hf(n);const M=this.applyRedirectCommands(y,a.redirectTo,T);return a.redirectTo.startsWith("/")?uM(M):this.lineralizeSegments(a,M).pipe(Hn(k=>this.expandSegment(e,n,r,k.concat(D),h,!1)))}matchSegmentAgainstRoute(e,n,r,a,l){if("**"===r.path)return e=nM(r,e),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Pt(M=>(r._loadedRoutes=M.routes,r._loadedInjector=M.injector,new At(a,{})))):pt(new At(a,{}));const{matched:h,consumedSegments:p,remainingSegments:y}=qg(n,r,a);return h?(e=nM(r,e),this.getChildConfig(e,r,a).pipe(Hn(T=>{var M;const k=null!==(M=T.injector)&&void 0!==M?M:e,H=T.routes,{segmentGroup:W,slicedSegments:Z}=Gg(n,p,y,H),ie=new At(W.segments,W.children);if(0===Z.length&&ie.hasChildren())return this.expandChildren(k,H,ie).pipe(Pt(Me=>new At(p,Me)));if(0===H.length&&0===Z.length)return pt(new At(p,{}));const ne=Ji(r)===l;return this.expandSegment(k,ie,H,Z,ne?wt:l,!0).pipe(Pt(ae=>new At(p.concat(ae.segments),ae.children)))}))):Hf(n)}getChildConfig(e,n,r){return n.children?pt({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?pt({routes:n._loadedRoutes,injector:n._loadedInjector}):this.runCanLoadGuards(e,n,r).pipe(Hn(a=>a?this.configLoader.loadChildren(e,n).pipe(Rr(l=>{n._loadedRoutes=l.routes,n._loadedInjector=l.injector})):function IV(t){return If(Cw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):pt({routes:[],injector:e})}runCanLoadGuards(e,n,r){const a=n.canLoad;return a&&0!==a.length?pt(a.map(h=>{const p=e.get(h);let y;if(function DV(t){return t&&Us(t.canLoad)}(p))y=p.canLoad(n,r);else{if(!Us(p))throw new Error("Invalid CanLoad guard");y=p(n,r)}return Ta(y)})).pipe($f(),Rr(h=>{if(!Kl(h))return;const p=Cw(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),Pt(h=>!0===h)):pt(!0)}lineralizeSegments(e,n){let r=[],a=n.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return pt(r);if(a.numberOfChildren>1||!a.children[wt])return If(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));a=a.children[wt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,a){const l=this.createSegmentGroup(e,n.root,r,a);return new Gl(l,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Er(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const p=a.substring(1);r[l]=n[p]}else r[l]=a}),r}createSegmentGroup(e,n,r,a){const l=this.createSegments(e,n.segments,r,a);let h={};return Er(n.children,(p,y)=>{h[y]=this.createSegmentGroup(e,p,r,a)}),new At(l,h)}createSegments(e,n,r,a){return n.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,n,r){const a=r[n.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return a}findOrReturn(e,n){let r=0;for(const a of n){if(a.path===e.path)return n.splice(r),a;r++}return e}}function Ow(t){const e={};for(const r of Object.keys(t.children)){const l=Ow(t.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function NV(t){if(1===t.numberOfChildren&&t.children[wt]){const e=t.children[wt];return new At(t.segments.concat(e.segments),e.children)}return t}(new At(t.segments,e))}class cM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qg{constructor(e,n){this.component=e,this.route=n}}function FV(t,e,n){const r=t._root;return zf(r,e?e._root:null,n,[r.value])}function Yg(t,e,n){const r=iM(e);return(null!=r?r:n).get(t)}function zf(t,e,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Dc(e);return t.children.forEach(h=>{(function LV(t,e,n,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=t.value,h=e?e.value:null,p=n?n.getContext(t.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const y=function VV(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Wl(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Wl(t.url,e.url)||!oo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xw(t,e)||!oo(t.queryParams,e.queryParams);default:return!xw(t,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);y?a.canActivateChecks.push(new cM(r)):(l.data=h.data,l._resolvedData=h._resolvedData),zf(t,e,l.component?p?p.children:null:n,r,a),y&&p&&p.outlet&&p.outlet.isActivated&&a.canDeactivateChecks.push(new Qg(p.outlet.component,h))}else h&&Uf(e,p,a),a.canActivateChecks.push(new cM(r)),zf(t,null,l.component?p?p.children:null:n,r,a)})(h,l[h.value.outlet],n,r.concat([h.value]),a),delete l[h.value.outlet]}),Er(l,(h,p)=>Uf(h,n.getContext(p),a)),a}function Uf(t,e,n){const r=Dc(t),a=t.value;Er(r,(l,h)=>{Uf(l,a.component?e?e.children.getContext(h):null:e,n)}),n.canDeactivateChecks.push(new Qg(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class WV{}function fM(t){return new Vt(e=>e.error(t))}class QV{constructor(e,n,r,a,l,h){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=Gg(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,wt);if(null===n)return null;const r=new zg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Zo(r,n),l=new KT(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const n=e.value,r=WT(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const l of Object.keys(n.children)){const h=n.children[l],p=rM(e,l),y=this.processSegmentGroup(p,h,l);if(null===y)return null;r.push(...y)}const a=hM(r);return function YV(t){t.sort((e,n)=>e.value.outlet===wt?-1:n.value.outlet===wt?1:e.value.outlet.localeCompare(n.value.outlet))}(a),a}processSegment(e,n,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,n,r,a);if(null!==h)return h}return sM(n,r,a)?[]:null}processSegmentAgainstRoute(e,n,r,a){var l,h,p,y;if(e.redirectTo||!oM(e,n,r,a))return null;let D,T=[],M=[];if("**"===e.path){const ne=r.length>0?NT(r).parameters:{},Se=gM(n)+r.length;D=new zg(r,ne,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mM(e),Ji(e),null!==(h=null!==(l=e.component)&&void 0!==l?l:e._loadedComponent)&&void 0!==h?h:null,e,pM(n),Se,yM(e),Se)}else{const ne=qg(n,e,r);if(!ne.matched)return null;T=ne.consumedSegments,M=ne.remainingSegments;const Se=gM(n)+T.length;D=new zg(T,ne.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mM(e),Ji(e),null!==(y=null!==(p=e.component)&&void 0!==p?p:e._loadedComponent)&&void 0!==y?y:null,e,pM(n),Se,yM(e),Se)}const k=function ZV(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:H,slicedSegments:W}=Gg(n,T,M,k.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===W.length&&H.hasChildren()){const ne=this.processChildren(k,H);return null===ne?null:[new Zo(D,ne)]}if(0===k.length&&0===W.length)return[new Zo(D,[])];const Z=Ji(e)===a,ie=this.processSegment(k,H,W,Z?wt:a);return null===ie?null:[new Zo(D,ie)]}}function XV(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hM(t){const e=[],n=new Set;for(const r of t){if(!XV(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),n.add(a)):e.push(r)}for(const r of n){const a=hM(r.children);e.push(new Zo(r.value,a))}return e.filter(r=>!n.has(r))}function pM(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gM(t){var e,n;let r=t,a=null!==(e=r._segmentIndexShift)&&void 0!==e?e:0;for(;r._sourceSegment;)r=r._sourceSegment,a+=null!==(n=r._segmentIndexShift)&&void 0!==n?n:0;return a-1}function mM(t){return t.data||{}}function yM(t){return t.resolve||{}}const Lw=Symbol("RouteTitle");function wM(t){return"string"==typeof t.title||null===t.title}function Zg(t){return jl(e=>{const n=t(e);return n?Fn(n).pipe(Pt(()=>e)):pt(e)})}class sB extends class oB{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Vw=new tt("ROUTES");let Bw=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ta(n.loadComponent()).pipe(Rr(l=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=l}),Dw(()=>{this.componentLoaders.delete(n)})),a=new ST(r,()=>new kn).pipe(yw());return this.componentLoaders.set(n,a),a}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Pt(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,D,T=!1;Array.isArray(p)?D=p:(y=p.create(n).injector,D=RT(y.get(Vw,[],Ye.Self|Ye.Optional)));return{routes:D.map(Fw),injector:y}}),Dw(()=>{this.childrenLoaders.delete(r)})),h=new ST(l,()=>new kn).pipe(yw());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(n){return Ta(n()).pipe(Hn(r=>r instanceof SC||Array.isArray(r)?pt(r):Fn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(Ve(di),Ve(Gy))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class uB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function dB(t){throw t}function fB(t,e,n){return e.parse("/")}function DM(t,e){return pt(null)}const hB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class t{constructor(n,r,a,l,h,p,y){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new kn,this.errorHandler=dB,this.malformedUriErrorHandler=fB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:DM,afterPreactivation:DM},this.urlHandlingStrategy=new uB,this.routeReuseStrategy=new sB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(Bw),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new x2(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new A2(k)),this.ngModule=h.get(ks),this.console=h.get(vR);const M=h.get(Pn);this.isNgZoneEnabled=M instanceof Pn&&Pn.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function V2(){return new Gl(new At([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=GT(this.currentUrlTree,this.rootComponentType),this.transitions=new Sa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(wc(a=>0!==a.id),Pt(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),jl(a=>{let l=!1,h=!1;return pt(a).pipe(Rr(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jl(p=>{const y=this.browserUrlTree.toString(),D=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return EM(p.source)&&(this.browserUrlTree=p.extractedUrl),pt(p).pipe(jl(M=>{const k=this.transitions.getValue();return r.next(new Ew(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),k!==this.transitions.getValue()?qt:Promise.resolve(M)}),function kV(t,e,n,r){return jl(a=>function PV(t,e,n,r,a){return new RV(t,e,n,r,a).apply()}(t,e,n,a.extractedUrl,r).pipe(Pt(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Rr(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function JV(t,e,n,r,a){return Hn(l=>function KV(t,e,n,r,a="emptyOnly",l="legacy"){try{const h=new QV(t,e,n,r,a,l).recognize();return null===h?fM(new WV):pt(h)}catch(h){return fM(h)}}(t,e,l.urlAfterRedirects,n(l.urlAfterRedirects),r,a).pipe(Pt(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),Rr(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(H,M)}this.browserUrlTree=M.urlAfterRedirects}const k=new C2(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(k)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:H,source:W,restoredState:Z,extras:ie}=p,ne=new Ew(k,this.serializeUrl(H),W,Z);r.next(ne);const Se=GT(H,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},p),{targetSnapshot:Se,urlAfterRedirects:H,extras:Object.assign(Object.assign({},ie),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),qt}),Zg(p=>{const{targetSnapshot:y,id:D,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:k,replaceUrl:H}}=p;return this.hooks.beforePreactivation(y,{navigationId:D,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!k,replaceUrl:!!H})}),Rr(p=>{const y=new _2(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Pt(p=>Object.assign(Object.assign({},p),{guards:FV(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function BV(t,e){return Hn(n=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=n;return 0===h.length&&0===l.length?pt(Object.assign(Object.assign({},n),{guardsResult:!0})):function $V(t,e,n,r){return Fn(t).pipe(Hn(a=>function GV(t,e,n,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?pt(l.map(p=>{const y=Yg(p,e,a);let D;if(function _V(t){return t&&Us(t.canDeactivate)}(y))D=Ta(y.canDeactivate(t,e,n,r));else{if(!Us(y))throw new Error("Invalid CanDeactivate guard");D=Ta(y(t,e,n,r))}return D.pipe(ql())})).pipe($f()):pt(!0)}(a.component,a.route,n,e,r)),ql(a=>!0!==a,!0))}(h,r,a,t).pipe(Hn(p=>p&&function bV(t){return"boolean"==typeof t}(p)?function HV(t,e,n,r){return Fn(e).pipe(Rf(a=>mw(function UV(t,e){return null!==t&&e&&e(new I2(t)),pt(!0)}(a.route.parent,r),function zV(t,e){return null!==t&&e&&e(new R2(t)),pt(!0)}(a.route,r),function qV(t,e,n){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function OV(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(h)).filter(h=>null!==h).map(h=>_T(()=>pt(h.guards.map(y=>{const D=Yg(y,h.node,n);let T;if(function CV(t){return t&&Us(t.canActivateChild)}(D))T=Ta(D.canActivateChild(r,t));else{if(!Us(D))throw new Error("Invalid CanActivateChild guard");T=Ta(D(r,t))}return T.pipe(ql())})).pipe($f())));return pt(l).pipe($f())}(t,a.path,n),function jV(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const a=r.map(l=>_T(()=>{const h=Yg(l,e,n);let p;if(function EV(t){return t&&Us(t.canActivate)}(h))p=Ta(h.canActivate(e,t));else{if(!Us(h))throw new Error("Invalid CanActivate guard");p=Ta(h(e,t))}return p.pipe(ql())}));return pt(a).pipe($f())}(t,a.route,n))),ql(a=>!0!==a,!0))}(r,l,t,e):pt(p)),Pt(p=>Object.assign(Object.assign({},n),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),Rr(p=>{if(Kl(p.guardsResult)){const D=Cw(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw D.url=p.guardsResult,D}const y=new S2(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),wc(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Zg(p=>{if(p.guards.canActivateChecks.length)return pt(p).pipe(Rr(y=>{const D=new T2(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}),jl(y=>{let D=!1;return pt(y).pipe(function eB(t,e){return Hn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=n;if(!a.length)return pt(n);let l=0;return Fn(a).pipe(Rf(h=>function tB(t,e,n,r){const a=t.routeConfig,l=t._resolve;return void 0!==(null==a?void 0:a.title)&&!wM(a)&&(l[Lw]=a.title),function nB(t,e,n,r){const a=function rB(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===a.length)return pt({});const l={};return Fn(a).pipe(Hn(h=>function iB(t,e,n,r){const a=Yg(t,e,r);return Ta(a.resolve?a.resolve(e,n):a(e,n))}(t[h],e,n,r).pipe(ql(),Rr(p=>{l[h]=p}))),ww(1),function D2(t){return Pt(()=>t)}(l),zs(h=>h instanceof Pf?qt:If(h)))}(l,t,e,r).pipe(Pt(h=>(t._resolvedData=h,t.data=WT(t,n).resolve,a&&wM(a)&&(t.data[Lw]=a.title),null)))}(h.route,r,t,e)),Rr(()=>l++),ww(1),Hn(h=>l===a.length?pt(n):qt))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Rr({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),Rr(y=>{const D=new M2(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}))}),Zg(p=>{const{targetSnapshot:y,id:D,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:k,replaceUrl:H}}=p;return this.hooks.afterPreactivation(y,{navigationId:D,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!k,replaceUrl:!!H})}),Zg(p=>{const y=D=>{var T;const M=[];(null===(T=D.routeConfig)||void 0===T?void 0:T.loadComponent)&&!D.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(D.routeConfig).pipe(Rr(k=>{D.component=k}),Pt(()=>{})));for(const k of D.children)M.push(...y(k));return M};return ET(y(p.targetSnapshot.root)).pipe(bw(),Bi(1))}),Pt(p=>{const y=function nV(t,e,n){const r=Of(t,e._root,n?n._root:void 0);return new qT(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),Rr(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((t,e,n)=>Pt(r=>(new wV(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),Rr({next(){l=!0},complete(){l=!0}}),Dw(()=>{var p;l||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===a.id&&(this.currentNavigation=null)}),zs(p=>{if(h=!0,function F2(t){return t&&t[IT]}(p)){const y=Kl(p.url);y||(this.navigated=!0,this.restoreHistory(a,!0));const D=new AT(a.id,this.serializeUrl(a.extractedUrl),p.message);if(r.next(D),y){const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||EM(a.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const y=new E2(a.id,this.serializeUrl(a.extractedUrl),p);r.next(y);try{a.resolve(this.errorHandler(p))}catch(D){a.reject(D)}}return qt}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const l={replaceUrl:!0},h=null!==(a=n.state)&&void 0!==a&&a.navigationId?n.state:null;if(h){const y=Object.assign({},h);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const p=this.parseUrl(n.url);this.scheduleNavigation(p,r,h,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(Fw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:y}=r,D=a||this.routerState.root,T=y?this.currentUrlTree.fragment:h;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function aV(t,e,n,r,a){var l;if(0===n.length)return Iw(e.root,e.root,e.root,r,a);const p=function oV(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ZT(!0,0,t);let e=0,n=!1;const r=t.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return Er(l.outlets,(y,D)=>{p[D]="string"==typeof y?y.split("/"):y}),[...a,{outlets:p}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?n=!0:".."===p?e++:""!=p&&a.push(p))}),a):[...a,l]},[]);return new ZT(n,e,r)}(n);return p.toRoot()?Iw(e.root,e.root,new At([],{}),r,a):function y(T){var M;const k=function sV(t,e,n,r){return t.isAbsolute?new Pw(e.root,!0,0):-1===r?new Pw(n,n===e.root,0):function lV(t,e,n){let r=t,a=e,l=n;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new Pw(r,!1,a-l)}(n,r+(Ug(t.commands[0])?0:1),t.numberOfDoubleDots)}(p,e,null===(M=t.snapshot)||void 0===M?void 0:M._urlSegment,T),H=k.processChildren?jg(k.segmentGroup,k.index,p.commands):XT(k.segmentGroup,k.index,p.commands);return Iw(e.root,k.segmentGroup,H,r,a)}(null===(l=t.snapshot)||void 0===l?void 0:l._lastPathIndex)}(D,this.currentUrlTree,n,M,null!=T?T:null)}navigateByUrl(n,r={skipLocationChange:!1}){const a=Kl(n)?n:this.parseUrl(n),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function gB(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,n)}return r}isActive(n,r){let a;if(a=!0===r?Object.assign({},hB):!1===r?Object.assign({},pB):r,Kl(n))return FT(this.currentUrlTree,n,a);const l=this.parseUrl(n);return FT(this.currentUrlTree,l,a)}removeEmptyProps(n){return Object.keys(n).reduce((r,a)=>{const l=n[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(n=>{var r;this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Nf(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,a,l,h){var p,y;if(this.disposed)return Promise.resolve(!1);let D,T,M;h?(D=h.resolve,T=h.reject,M=h.promise):M=new Promise((W,Z)=>{D=W,T=Z});const k=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),H=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):H=0,this.setTransition({id:k,targetPageId:H,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:l,resolve:D,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(W=>Promise.reject(W))}setBrowserUrl(n,r){const a=this.urlSerializer.serialize(n),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(n,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const a=new AT(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(a),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Vm()},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function EM(t){return"imperative"!==t}let Xg=(()=>{class t{constructor(n,r,a,l,h){this.router=n,this.route=r,this.tabIndexAttribute=a,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new kn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==n?r.setAttribute(a,"tabindex",n):r.removeAttribute(a,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:Go(this.skipLocationChange),replaceUrl:Go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Go(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(be(hi),be(Ec),_s("tabindex"),be(Uo),be(Ii))},t.\u0275dir=Ue({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&br("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Hr]}),t})();class CM{buildTitle(e){var n;let r,a=e.root;for(;void 0!==a;)r=null!==(n=this.getResolvedTitleForRoute(a))&&void 0!==n?n:r,a=a.children.find(l=>l.outlet===wt);return r}getResolvedTitleForRoute(e){return e.data[Lw]}}let yB=(()=>{class t extends CM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(Ve(wS))},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class _M{}class SM{preload(e,n){return pt(null)}}let TM=(()=>{class t{constructor(n,r,a,l,h){this.router=n,this.injector=a,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(wc(n=>n instanceof Nf),Rf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){var a,l,h;const p=[];for(const y of r){y.providers&&!y._injector&&(y._injector=Ip(y.providers,n,`Route: ${y.path}`));const D=null!==(a=y._injector)&&void 0!==a?a:n,T=null!==(l=y._loadedInjector)&&void 0!==l?l:D;y.loadChildren&&!y._loadedRoutes||y.loadComponent&&!y._loadedComponent?p.push(this.preloadConfig(D,y)):(y.children||y._loadedRoutes)&&p.push(this.processRoutes(T,null!==(h=y.children)&&void 0!==h?h:y._loadedRoutes))}return Fn(p).pipe(Ma())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let a;a=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):pt(null);const l=a.pipe(Hn(h=>{var p;return null===h?pt(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(null!==(p=h.injector)&&void 0!==p?p:n,h.routes))}));return r.loadComponent&&!r._loadedComponent?Fn([l,this.loader.loadComponent(r)]).pipe(Ma()):l})}}return t.\u0275fac=function(n){return new(n||t)(Ve(hi),Ve(Gy),Ve(Nl),Ve(_M),Ve(Bw))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Hw=(()=>{class t{constructor(n,r,a={}){this.router=n,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Ew?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Nf&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof xT&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new xT(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Vm()},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Ql=new tt("ROUTER_CONFIGURATION"),MM=new tt("ROUTER_FORROOT_GUARD"),bB=[o0,{provide:BT,useClass:$T},{provide:hi,useFactory:function SB(t,e,n,r,a,l,h={},p,y,D,T){const M=new hi(null,t,e,n,r,a,RT(l));return D&&(M.urlHandlingStrategy=D),T&&(M.routeReuseStrategy=T),M.titleStrategy=null!=y?y:p,function TB(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(h,M),M},deps:[BT,Vf,o0,di,Gy,Vw,Ql,yB,[CM,new Ti],[class lB{},new Ti],[class aB{},new Ti]]},Vf,{provide:Ec,useFactory:function MB(t){return t.routerState.root},deps:[hi]},TM,SM,class wB{preload(e,n){return n().pipe(zs(()=>pt(null)))}},{provide:Ql,useValue:{enableTracing:!1}},Bw];function DB(){return new v_("Router",hi)}let AM=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[bB,xM(n),{provide:MM,useFactory:_B,deps:[[hi,new Ti,new Ms]]},{provide:Ql,useValue:r||{}},{provide:vc,useFactory:CB,deps:[vf,[new Nu(a0),new Ti],Ql]},{provide:Hw,useFactory:EB,deps:[hi,Tk,Ql]},{provide:_M,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:SM},{provide:v_,multi:!0,useFactory:DB},[zw,{provide:jy,multi:!0,useFactory:AB,deps:[zw]},{provide:IM,useFactory:xB,deps:[zw]},{provide:u_,multi:!0,useExisting:IM}]]}}static forChild(n){return{ngModule:t,providers:[xM(n)]}}}return t.\u0275fac=function(n){return new(n||t)(Ve(MM,8),Ve(hi,8))},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({}),t})();function EB(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hw(t,e,n)}function CB(t,e,n={}){return n.useHash?new aN(t,e):new B_(t,e)}function _B(t){return"guarded"}function xM(t){return[{provide:Mh,multi:!0,useValue:t},{provide:Vw,multi:!0,useValue:t}]}let zw=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new kn}appInitializer(){return this.injector.get(nN,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(p=>r=p),l=this.injector.get(hi),h=this.injector.get(Ql);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(n){const r=this.injector.get(Ql),a=this.injector.get(TM),l=this.injector.get(Hw),h=this.injector.get(hi),p=this.injector.get(Op);n===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(Ve(di))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function AB(t){return t.appInitializer.bind(t)}function xB(t){return t.bootstrapListener.bind(t)}const IM=new tt("Router Initializer"),PB={edgeList:[{source:1,target:2,weight:10},{source:1,target:3,weight:20},{source:2,target:4,weight:10},{source:2,target:5,weight:10},{source:2,target:3,weight:5},{source:3,target:6,weight:10},{source:3,target:7,weight:10}],vertexCount:7,animationType:"bfs",startVertex:1};let PM=(()=>{class t{constructor(){this.elements=[],this.edges=[],this.adjacencyList={},this.startVertex=1,this.animationType="bfs",this.setGraph(PB)}setGraph({edgeList:n,vertexCount:r,animationType:a,startVertex:l}){this.animationType=a,this.startVertex=l,this.elements=[],this.edges=n,this.adjacencyList={},this.vertexCount=r;for(let h=1;h<=r;h++)this.elements.push({data:{id:`${h}`}}),this.adjacencyList[h]=[];n.forEach(h=>{this.elements.push({data:{id:`${h.source}-${h.target}`,source:`${h.source}`,target:`${h.target}`,weight:`${h.weight}`}}),this.adjacencyList[h.source].push(h.target)})}getElements(){return this.elements}getData(){return{elements:this.elements,adjacencyList:this.adjacencyList,vertexCount:this.vertexCount,animationType:this.animationType,edges:this.edges,startVertex:this.startVertex}}getAdjacencyList(){return this.adjacencyList}getAnimationType(){return this.animationType}getVertexCount(){return this.vertexCount}getEdges(){return this.edges}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function RB(t,e){if(1&t){const n=function tE(){return fe()}();an(0,"div",22)(1,"div",8)(2,"div",1)(3,"div",10),Xa(4,"input",23),on()(),an(5,"div",1)(6,"div",10),Xa(7,"input",24),on()(),an(8,"div",1)(9,"div",10),Xa(10,"input",25),on()(),an(11,"button",26),br("click",function(){const l=function pu(t){return ot.lFrame.contextLView=t,t[8]}(n).index;return function td(t){return ot.lFrame.contextLView=null,t}(oE().deleteRow(l))}),Dr(12," Delete Edge "),on()()()}2&t&&sc("formGroupName",e.index)}let NB=(()=>{class t{constructor(n,r,a){this.fb=n,this.dataService=r,this.router=a,this.matrixSize=2}ngOnInit(){const n=this.dataService.getData();this.graphForm=this.fb.group({animationType:n.animationType,startVertex:n.startVertex,vertexCount:n.vertexCount,edgeList:this.fb.array(n.edges.map(r=>this.fb.group(r)))})}get edgeForms(){return this.graphForm.get("edgeList")}addRow(){const n=this.fb.group({source:"",target:"",weight:""});this.edgeForms.push(n)}deleteRow(n){this.edgeForms.removeAt(n)}onSubmit(){const n=this.graphForm.getRawValue();this.dataService.setGraph(n),this.router.navigateByUrl("/")}}return t.\u0275fac=function(n){return new(n||t)(be(dO),be(PM),be(hi))},t.\u0275cmp=wo({type:t,selectors:[["app-form"]],decls:48,vars:2,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"field"],["for","anim",1,"label"],["id","anim",1,"select"],["formControlName","animationType"],["value","bfs"],["value","dfs"],["value","mst"],[1,"field-body"],["for","vertices",1,"label"],[1,"control"],["id","vertices","min","1","type","number","placeholder","5","formControlName","vertexCount",1,"input"],["for","start",1,"label"],["id","start","min","1","type","number","placeholder","1","formControlName","startVertex",1,"input"],["formArrayName","edgeList",1,"edges","field"],[1,"field-label","is-normal"],[1,"label"],[1,"button",2,"visibility","hidden"],["class","field",3,"formGroupName",4,"ngFor","ngForOf"],[1,"field","is-grouped"],["type","button",1,"button","is-black",3,"click"],["type","submit",1,"button","is-primary"],[1,"field",3,"formGroupName"],["min","1","type","number","placeholder","Source","formControlName","source",1,"input"],["min","1","type","number","placeholder","Target","formControlName","target",1,"input"],["type","number","placeholder","Weight","formControlName","weight",1,"input"],[1,"button","is-danger",3,"click"]],template:function(n,r){1&n&&(an(0,"form",0),br("ngSubmit",function(){return r.onSubmit()}),an(1,"div",1)(2,"label",2),Dr(3,"Animation Type"),on(),an(4,"div",3)(5,"select",4)(6,"option",5),Dr(7,"Breadth First Search"),on(),an(8,"option",6),Dr(9,"Depth First Search"),on(),an(10,"option",7),Dr(11,"Minimum Spanning Tree"),on()()()(),an(12,"div",1)(13,"div",8)(14,"div",1)(15,"label",9),Dr(16,"Number of Vertices"),on(),an(17,"div",10),Xa(18,"input",11),on()(),an(19,"div",1)(20,"label",12),Dr(21,"Start Vertex"),on(),an(22,"div",10),Xa(23,"input",13),on()()()(),an(24,"div",14)(25,"div",15)(26,"label",16),Dr(27,"Edges"),on()(),an(28,"div",8)(29,"div",1)(30,"label",16),Dr(31,"Source"),on()(),an(32,"div",1)(33,"label",16),Dr(34,"Target"),on()(),an(35,"div",1)(36,"label",16),Dr(37,"Weight"),on()(),an(38,"div",17),Dr(39,"Delete Edge"),on()(),function XD(t,e,n,r,a,l,h,p){const y=fe(),D=vt(),T=t+22,M=D.firstCreatePass?function lx(t,e,n,r,a,l,h,p,y){const D=e.consts,T=Qu(e,t,4,h||null,Pa(D,p));ey(e,n,T,Pa(D,y)),vu(e,T);const M=T.tViews=yp(2,T,r,a,l,e.directiveRegistry,e.pipeRegistry,null,e.schemas,D);return null!==e.queries&&(e.queries.template(e,T),M.queries=e.queries.embeddedTView(T)),T}(T,D,y,e,n,r,a,l,h):D.data[T];Ci(M,!1);const k=y[11].createComment("");te(D,y,k,M),An(k,y),wp(y,y[T]=_D(k,y,k,M)),Js(M)&&Xm(D,y,M),null!=h&&Jm(y,M,p)}(40,RB,13,1,"div",18),on(),an(41,"div",19)(42,"div",10)(43,"button",20),br("click",function(){return r.addRow()}),Dr(44," Add Edge "),on()(),an(45,"div",10)(46,"button",21),Dr(47,"Show Animation"),on()()()()),2&n&&(sc("formGroup",r.graphForm),function $o(t){Uu(vt(),fe(),vr()+t,!1)}(40),sc("ngForOf",r.edgeForms.controls))},dependencies:[Y_,h1,b1,E1,rg,V0,yg,YS,ZS,z0,gg,$0,vg,mg],styles:[".id[_ngcontent-%COMP%]{max-width:100px}.field.column[_ngcontent-%COMP%]{display:flex}.field-label[_ngcontent-%COMP%]{text-align:left;margin-bottom:.5em}form.container[_ngcontent-%COMP%]{max-width:800px;margin-top:12px;padding:0 12px}"]}),t})();var RM=Fr(984);const NM=(t,e)=>{const n=[];let r=0;const a=new OB;for(let l=1;l<=t;l++)a.parents[l]=-1;e.sort((l,h)=>l.weight-h.weight);for(const l of e)if(a.find(l.source)!==a.find(l.target)&&(a.union(l.source,l.target),n.push(`${l.source}`),n.push(`${l.source}-${l.target}`),n.push(`${l.target}`),r++,r>=t-1))break;return n};class OB{constructor(){this.parents=[]}find(e){for(;-1!==this.parents[e];){if(!this.parents[e])throw new Error("Invalid vertex");e=this.parents[e]}return e}union(e,n){this.parents[this.find(e)]=this.find(n)}}const LB=[{path:"",component:(()=>{class t{constructor(n){this.dataService=n}ngOnInit(){this.graph=this.dataService.getData(),this.cy=RM({container:document.getElementById("cy"),elements:this.graph.elements,style:RM.stylesheet().selector("node").style({content:"data(id)"}).selector("edge").style({"curve-style":"bezier","target-arrow-shape":"triangle",width:4,"line-color":"#ddd","target-arrow-color":"#ddd"}).selector("edge[weight]").style({content:"data(weight)"}).selector(".highlighted").style({"background-color":"#61bffc","line-color":"#61bffc","target-arrow-color":"#61bffc","transition-property":"background-color, line-color, target-arrow-color","transition-duration":"0.3s"}),layout:{name:"breadthfirst",roots:"#1",directed:!1}}),this.startAnimation(),NM(this.graph.vertexCount,this.graph.edges)}startAnimation(){let n;this.cy.elements().removeClass("highlighted"),this.timeout&&clearTimeout(this.timeout),"bfs"===this.graph.animationType?n=((t,e)=>{const n=[e],r=[],a=[];for(r[e]=!0,a.push(`${e}`);n.length>0;){const l=n.pop();t[l].forEach(h=>{r[h]||(n.unshift(h),a.push(`${l}-${h}`),a.push(`${h}`),r[h]=!0)})}return a})(this.graph.adjacencyList,this.graph.startVertex):"dfs"===this.graph.animationType?n=((t,e)=>{const n=[],r=[];return function a(l,h){r[l]||(r[l]=!0,h&&n.push(`${h}-${l}`),n.push(`${l}`),t[l].forEach(p=>{a(p,l)}))}(this.graph.startVertex),n})(this.graph.adjacencyList):"mst"===this.graph.animationType&&(n=NM(this.graph.vertexCount,this.graph.edges));let r=0;const a=()=>{r<n.length&&(this.cy.getElementById(n[r]).addClass("highlighted"),r++,this.timeout=setTimeout(a,1e3))};a()}ngOnDestroy(){this.cy.destroy(),clearTimeout(this.timeout)}}return t.\u0275fac=function(n){return new(n||t)(be(PM))},t.\u0275cmp=wo({type:t,selectors:[["app-graph"]],decls:8,vars:0,consts:[["id","cy"],[1,"field","is-grouped","is-grouped-centered"],[1,"control"],["routerLink","input",1,"button","is-black"],[1,"button","is-primary",3,"click"]],template:function(n,r){1&n&&(Xa(0,"div",0),an(1,"div",1)(2,"p",2)(3,"button",3),Dr(4,"Change Input"),on()(),an(5,"p",2)(6,"button",4),br("click",function(){return r.startAnimation()}),Dr(7," Play Animation "),on()()())},dependencies:[Xg],styles:["#cy[_ngcontent-%COMP%]{width:100vw;height:90vh;margin:auto}"]}),t})(),data:{animation:"left"}},{path:"input",component:NB,data:{animation:"right"}}];let VB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t}),t.\u0275inj=ei({imports:[AM.forRoot(LB),AM]}),t})();const BB=function hO(t,e){return{type:7,name:t,definitions:e,options:{}}}("routeAnimations",[O1("left => right",kM("left")),O1("right => left",kM("right"))]);function kM(t){return[q0(":enter, :leave",$l({position:"fixed",width:"100%"}),{optional:!0}),pO([q0(":enter",[$l({transform:"translateX("+("left"===t?"":"-")+"100%)"}),k1("0.5s ease-in-out",$l({transform:"translateX(0%)"}))],{optional:!0}),q0(":leave",[$l({transform:"translateX(0%)"}),k1("0.5s ease-in-out",$l({transform:"translateX("+("left"===t?"-":"+")+"100%)"}))],{optional:!0})])]}let $B=(()=>{class t{prepareRoute(n){return n&&n.activatedRouteData&&n.activatedRouteData.animation}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=wo({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(n,r){if(1&n&&(an(0,"div"),Xa(1,"router-outlet",null,0),on()),2&n){const a=function JD(t){return function gs(t,e){return t[e]}(function ms(){return ot.lFrame.contextLView}(),22+t)}(2);sc("@routeAnimations",r.prepareRoute(a))}},dependencies:[Nw],data:{animation:[BB]}}),t})(),HB=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ti({type:t,bootstrap:[$B]}),t.\u0275inj=ei({providers:[],imports:[yS,VB,P1,p2]}),t})();(function FR(){S_=!1})(),Jk().bootstrapModule(HB).catch(t=>console.error(t))},984:(ta,ts,Fr)=>{"use strict";function Ot(s){return s&&"object"==typeof s&&"default"in s?s.default:s}var Qr=Ot(Fr(720)),Yr=Ot(Fr(881));function yt(s){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function Dn(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function pi(s,i){for(var o=0;o<i.length;o++){var u=i[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function gi(s,i,o){return i&&pi(s.prototype,i),o&&pi(s,o),s}function na(s,i,o){return i in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}function dn(s,i){return function ki(s){if(Array.isArray(s))return s}(s)||function uo(s,i){var o=[],u=!0,c=!1,d=void 0;try{for(var g,f=s[Symbol.iterator]();!(u=(g=f.next()).done)&&(o.push(g.value),!i||o.length!==i);u=!0);}catch(m){c=!0,d=m}finally{try{!u&&null!=f.return&&f.return()}finally{if(c)throw d}}return o}(s,i)||function ra(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jt="undefined"==typeof window?null:window,ia=jt?jt.navigator:null,Zr=yt(""),Yn=yt({}),De=yt(function(){}),Ne="undefined"==typeof HTMLElement?"undefined":yt(HTMLElement),we=function(i){return i&&i.instanceString&&He(i.instanceString)?i.instanceString():null},le=function(i){return null!=i&&yt(i)==Zr},He=function(i){return null!=i&&yt(i)===De},$e=function(i){return!Lt(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Le=function(i){return null!=i&&yt(i)===Yn&&!$e(i)&&i.constructor===Object},Ee=function(i){return null!=i&&yt(i)===yt(1)&&!isNaN(i)},mn=function(i){if("undefined"!==Ne)return null!=i&&i instanceof HTMLElement},Lt=function(i){return Vt(i)||aa(i)},Vt=function(i){return"collection"===we(i)&&i._private.single},aa=function(i){return"collection"===we(i)&&!i._private.single},co=function(i){return"core"===we(i)},rs=function(i){return"stylesheet"===we(i)},kn=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},En=function(i){return function(i){return null!=i&&yt(i)===Yn}(i)&&He(i.then)},Pt=function(i,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);return d.join("$")});var u=function c(){var g,d=this,f=arguments,m=o.apply(d,f),v=c.cache;return(g=v[m])||(g=v[m]=i.apply(d,f)),g};return u.cache={},u},oa=Pt(function(s){return s.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),ln=Pt(function(s){return s.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Xr=Pt(function(s,i){return s+i[0].toUpperCase()+i.substring(1)},function(s,i){return s+"$"+i}),ho=function(i){return kn(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},yn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Sc=function(i,o){return i<o?-1:i>o?1:0},Ke=null!=Object.assign?Object.assign.bind(Object):function(s){for(var i=arguments,o=1;o<i.length;o++){var u=i[o];if(null!=u)for(var c=Object.keys(u),d=0;d<c.length;d++){var f=c[d];s[f]=u[f]}}return s},rv={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},iv=function(i){for(var o=i.map,u=i.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(Le(f))throw Error("Tried to set map with object key");d<u.length-1?(null==o[f]&&(o[f]={}),o=o[f]):o[f]=i.value}},qf=function(i){for(var o=i.map,u=i.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(Le(f))throw Error("Tried to get map with object key");if(null==(o=o[f]))return o}return o},Gf=jt?jt.performance:null,av=Gf&&Gf.now?function(){return Gf.now()}:function(){return Date.now()},Zw=function(){if(jt){if(jt.requestAnimationFrame)return function(s){jt.requestAnimationFrame(s)};if(jt.mozRequestAnimationFrame)return function(s){jt.mozRequestAnimationFrame(s)};if(jt.webkitRequestAnimationFrame)return function(s){jt.webkitRequestAnimationFrame(s)};if(jt.msRequestAnimationFrame)return function(s){jt.msRequestAnimationFrame(s)}}return function(s){s&&setTimeout(function(){s(av())},1e3/60)}}(),Tc=function(i){return Zw(i)},Fi=av,go=9261,Mc=65599,is=5381,Ac=function(i){for(var c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go,u=o;!(c=i.next()).done;)u=u*Mc+c.value|0;return u},Ws=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go;return o*Mc+i|0},as=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:is;return(o<<5)+o+i|0},sa=function(i){return 2097152*i[0]+i[1]},Ks=function(i,o){return[Ws(i[0],o[0]),as(i[1],o[1])]},vo=function(i,o){var u={value:0,done:!1},c=0,d=i.length;return Ac({next:function(){return c<d?u.value=i.charCodeAt(c++):u.done=!0,u}},o)},Kf=function(){return ov(arguments)},ov=function(i){for(var o,u=0;u<i.length;u++){var c=i[u];o=0===u?vo(c):vo(c,o)}return o},Qf=!0,Yf=null!=console.warn,sv=null!=console.trace,xc=Number.MAX_SAFE_INTEGER||9007199254740991,Li=function(){return!0},Zl=function(){return!1},Hn=function(){return 0},Ma=function(){},qt=function(i){throw new Error(i)},lv=function(i){if(void 0===i)return Qf;Qf=!!i},Kt=function(i){!lv()||(Yf?console.warn(i):(console.log(i),sv&&console.trace()))},Jr=function(i){return null==i?i:$e(i)?i.slice():Le(i)?function(i){return Ke({},i)}(i):i},os=function(i,o){for(o=i="";i++<36;o+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return o},cv={},Ic=function(){return cv},zn=function(i){var o=Object.keys(i);return function(u){for(var c={},d=0;d<o.length;d++){var f=o[d],g=null==u?void 0:u[f];c[f]=void 0===g?i[f]:g}return c}},Aa=function(i,o,u){for(var c=i.length-1;c>=0&&(i[c]!==o||(i.splice(c,1),!u));c--);},Pc=function(i){i.splice(0,i.length)},vi=function(i,o,u){return u&&(o=Xr(u,o)),i[o]},la=function(i,o,u,c){u&&(o=Xr(u,o)),i[o]=c},Vi="undefined"!=typeof Map?Map:function(){function s(){Dn(this,s),this._obj={}}return gi(s,[{key:"set",value:function(o,u){return this._obj[o]=u,this}},{key:"delete",value:function(o){return this._obj[o]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(o){return void 0!==this._obj[o]}},{key:"get",value:function(o){return this._obj[o]}}]),s}(),hv=function(){function s(i){if(Dn(this,s),this._obj=Object.create(null),this.size=0,null!=i){var o;o=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var u=0;u<o.length;u++)this.add(o[u])}}return gi(s,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(o){var u=this._obj;1!==u[o]&&(u[o]=1,this.size++)}},{key:"delete",value:function(o){var u=this._obj;1===u[o]&&(u[o]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(o){return 1===this._obj[o]}},{key:"toArray",value:function(){var o=this;return Object.keys(this._obj).filter(function(u){return o.has(u)})}},{key:"forEach",value:function(o,u){return this.toArray().forEach(o,u)}}]),s}(),Bi="undefined"!==("undefined"==typeof Set?"undefined":yt(Set))?Set:hv,Xl=function(i,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==o&&co(i)){var c=o.group;if(null==c&&(c=o.data&&null!=o.data.source&&null!=o.data.target?"edges":"nodes"),"nodes"===c||"edges"===c){this.length=1,this[0]=this;var d=this._private={cy:i,single:!0,data:o.data||{},position:o.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:c,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!o.selected,selectable:void 0===o.selectable||!!o.selectable,locked:!!o.locked,grabbed:!1,grabbable:void 0===o.grabbable||!!o.grabbable,pannable:void 0===o.pannable?"edges"===c:!!o.pannable,active:!1,classes:new Bi,animation:{current:[],queue:[]},rscratch:{},scratch:o.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==d.position.x&&(d.position.x=0),null==d.position.y&&(d.position.y=0),o.renderedPosition){var f=o.renderedPosition,g=i.pan(),m=i.zoom();d.position={x:(f.x-g.x)/m,y:(f.y-g.y)/m}}var v=[];$e(o.classes)?v=o.classes:le(o.classes)&&(v=o.classes.split(/\s+/));for(var w=0,b=v.length;w<b;w++){var E=v[w];!E||""===E||d.classes.add(E)}this.createEmitter();var C=o.style||o.css;C&&(Kt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(C)),(void 0===u||u)&&this.restore()}else qt("An element must be of type `nodes` or `edges`; you specified `"+c+"`")}else qt("An element must have a core reference and parameters set")},Jl=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(u,c,d){var f;Le(u)&&!Lt(u)&&(u=(f=u).roots||f.root,c=f.visit,d=f.directed),d=2!==arguments.length||He(c)?d:c,c=He(c)?c:function(){};for(var S,g=this._private.cy,m=u=le(u)?this.filter(u):u,v=[],w=[],b={},E={},C={},_=0,A=this.byGroup(),x=A.nodes,I=A.edges,P=0;P<m.length;P++){var N=m[P],B=N.id();N.isNode()&&(v.unshift(N),i.bfs&&(C[B]=!0,w.push(N)),E[B]=0)}var z=function(){var q=i.bfs?v.shift():v.pop(),V=q.id();if(i.dfs){if(C[V])return"continue";C[V]=!0,w.push(q)}var oe,Y=E[V],G=b[V],K=null!=G?G.source():null,X=null!=G?G.target():null,J=null==G?void 0:q.same(K)?X[0]:K[0];if(!0===(oe=c(q,G,J,_++,Y)))return S=q,"break";if(!1===oe)return"break";for(var ee=q.connectedEdges().filter(function(ue){return(!d||ue.source().same(q))&&I.has(ue)}),re=0;re<ee.length;re++){var he=ee[re],ve=he.connectedNodes().filter(function(ue){return!ue.same(q)&&x.has(ue)}),pe=ve.id();0!==ve.length&&!C[pe]&&(v.push(ve=ve[0]),i.bfs&&(C[pe]=!0,w.push(ve)),b[pe]=he,E[pe]=E[V]+1)}};e:for(;0!==v.length;){var R=z();switch(R){case"continue":continue;case"break":break e}}for(var $=g.collection(),F=0;F<w.length;F++){var j=w[F],U=b[j.id()];null!=U&&$.push(U),$.push(j)}return{path:g.collection($),found:g.collection(S)}}},Bt={breadthFirstSearch:Jl({bfs:!0}),depthFirstSearch:Jl({dfs:!0})};Bt.bfs=Bt.breadthFirstSearch,Bt.dfs=Bt.depthFirstSearch;var Rc=zn({root:null,weight:function(i){return 1},directed:!1}),Qt={dijkstra:function(i){if(!Le(i)){var o=arguments;i={root:o[0],weight:o[1],directed:o[2]}}var u=Rc(i),c=u.root,d=u.weight,f=u.directed,g=this,m=d,v=le(c)?this.filter(c)[0]:c[0],w={},b={},E={},C=this.byGroup(),_=C.nodes,S=C.edges;S.unmergeBy(function(Y){return Y.isLoop()});for(var A=function(G){return w[G.id()]},x=function(G,K){w[G.id()]=K,I.updateItem(G)},I=new Yr(function(Y,G){return A(Y)-A(G)}),P=0;P<_.length;P++){var N=_[P];w[N.id()]=N.same(v)?0:1/0,I.push(N)}for(var B=function(G,K){for(var oe,X=(f?G.edgesTo(K):G.edgesWith(K)).intersect(S),J=1/0,ee=0;ee<X.length;ee++){var re=X[ee],he=m(re);(he<J||!oe)&&(J=he,oe=re)}return{edge:oe,dist:J}};I.size()>0;){var z=I.pop(),R=A(z),$=z.id();if(E[$]=R,R!==1/0)for(var F=z.neighborhood().intersect(_),j=0;j<F.length;j++){var U=F[j],L=U.id(),q=B(z,U),V=R+q.dist;V<A(U)&&(x(U,V),b[L]={node:z,edge:q.edge})}}return{distanceTo:function(G){var K=le(G)?_.filter(G)[0]:G[0];return E[K.id()]},pathTo:function(G){var K=le(G)?_.filter(G)[0]:G[0],X=[],J=K,oe=J.id();if(K.length>0)for(X.unshift(K);b[oe];){var ee=b[oe];X.unshift(ee.edge),X.unshift(ee.node),oe=(J=ee.node).id()}return g.spawn(X)}}}},Nc={kruskal:function(i){i=i||function(P){return 1};for(var o=this.byGroup(),u=o.nodes,c=o.edges,d=u.length,f=new Array(d),g=u,m=function(N){for(var B=0;B<f.length;B++)if(f[B].has(N))return B},v=0;v<d;v++)f[v]=this.spawn(u[v]);for(var w=c.sort(function(P,N){return i(P)-i(N)}),b=0;b<w.length;b++){var E=w[b],C=E.source()[0],_=E.target()[0],S=m(C),A=m(_),x=f[S],I=f[A];S!==A&&(g.merge(E),x.merge(I),f.splice(A,1))}return g}},pv=zn({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),Jt={aStar:function(i){var o=this.cy(),u=pv(i),c=u.root,d=u.goal,f=u.heuristic,g=u.directed,m=u.weight;c=o.collection(c)[0],d=o.collection(d)[0];var P,N,v=c.id(),w=d.id(),b={},E={},C={},_=new Yr(function(oe,ee){return E[oe.id()]-E[ee.id()]}),S=new Bi,A={},x={},I=function(ee,re){_.push(ee),S.add(re)};I(c,v),b[v]=0,E[v]=f(c);for(var R=0;_.size()>0;){if(N=(P=_.pop()).id(),S.delete(N),R++,N===w){for(var $=[],F=d,j=w,U=x[j];$.unshift(F),null!=U&&$.unshift(U),null!=(F=A[j]);)U=x[j=F.id()];return{found:!0,distance:b[N],path:this.spawn($),steps:R}}C[N]=!0;for(var L=P._private.edges,q=0;q<L.length;q++){var V=L[q];if(this.hasElementWithId(V.id())&&(!g||V.data("source")===N)){var Y=V.source(),G=V.target(),K=Y.id()!==N?Y:G,X=K.id();if(this.hasElementWithId(X)&&!C[X]){var J=b[N]+m(V);if(!S.has(X)){b[X]=J,E[X]=J+f(K),I(K,X),A[X]=P,x[X]=V;continue}J<b[X]&&(b[X]=J,E[X]=J+f(K),A[X]=P,x[X]=V)}}}}return{found:!1,distance:void 0,path:void 0,steps:R}}},et=zn({weight:function(i){return 1},directed:!1}),kc={floydWarshall:function(i){for(var o=this.cy(),u=et(i),d=u.directed,f=u.weight,g=this.byGroup(),m=g.nodes,v=g.edges,w=m.length,b=w*w,E=function(he){return m.indexOf(he)},C=function(he){return m[he]},_=new Array(b),S=0;S<b;S++){var A=S%w;_[S]=(S-A)/w===A?0:1/0}for(var I=new Array(b),P=new Array(b),N=0;N<v.length;N++){var B=v[N],z=B.source()[0],R=B.target()[0];if(z!==R){var $=E(z),F=E(R),j=$*w+F,U=f(B);if(_[j]>U&&(_[j]=U,I[j]=F,P[j]=B),!d){var L=F*w+$;!d&&_[L]>U&&(_[L]=U,I[L]=$,P[L]=B)}}}for(var q=0;q<w;q++)for(var V=0;V<w;V++)for(var Y=V*w+q,G=0;G<w;G++){var K=V*w+G,X=q*w+G;_[Y]+_[X]<_[K]&&(_[K]=_[Y]+_[X],I[K]=I[Y])}var oe=function(he){return E(function(he){return(le(he)?o.filter(he):he)[0]}(he))};return{distance:function(he,ve){var pe=oe(he),ue=oe(ve);return _[pe*w+ue]},path:function(he,ve){var pe=oe(he),ue=oe(ve),Q=C(pe);if(pe===ue)return Q.collection();if(null==I[pe*w+ue])return o.collection();var se=o.collection();for(se.merge(Q);pe!==ue;)se.merge(P[pe*w+(pe=I[pe*w+ue])]),se.merge(C(pe));return se}}}},Xw=zn({weight:function(i){return 1},directed:!1,root:null}),Ie={bellmanFord:function(i){var o=this,u=Xw(i),d=u.directed,f=u.root,g=u.weight,m=this,v=this.cy(),w=this.byGroup(),b=w.edges,E=w.nodes,C=E.length,_=new Vi,S=!1;f=v.collection(f)[0],b.unmergeBy(function(ue){return ue.isLoop()});for(var x=b.length,I=function(Q){var se=_.get(Q.id());return se||(se={},_.set(Q.id(),se)),se},P=function(Q){return(le(Q)?v.$(Q):Q)[0]},z=0;z<C;z++){var R=E[z],$=I(R);$.dist=R.same(f)?0:1/0,$.pred=null,$.edge=null}for(var F=!1,j=function(Q,se,ge,Ce,Ae,st){var Ge=Ce.dist+st;Ge<Ae.dist&&!ge.same(Ce.edge)&&(Ae.dist=Ge,Ae.pred=Q,Ae.edge=ge,F=!0)},U=1;U<C;U++){F=!1;for(var L=0;L<x;L++){var q=b[L],V=q.source(),Y=q.target(),G=g(q),K=I(V),X=I(Y);j(V,0,q,K,X,G),d||j(Y,0,q,X,K,G)}if(!F)break}if(F)for(var J=0;J<x;J++){var oe=b[J],ee=oe.source(),re=oe.target(),he=g(oe),ve=I(ee).dist,pe=I(re).dist;if(ve+he<pe||!d&&pe+he<ve){Kt("Graph contains a negative weight cycle for Bellman-Ford"),S=!0;break}}return{distanceTo:function(Q){return I(P(Q)).dist},pathTo:function(Q){for(var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,ge=P(Q),Ce=[],Ae=ge;;){if(null==Ae)return o.spawn();var st=I(Ae),Ge=st.edge,xe=st.pred;if(Ce.unshift(Ae[0]),Ae.same(se)&&Ce.length>0)break;null!=Ge&&Ce.unshift(Ge),Ae=xe}return m.spawn(Ce)},hasNegativeWeightCycle:S,negativeWeightCycles:[]}}},eu=Math.sqrt(2),lt=function(i,o,u){0===u.length&&qt("Karger-Stein must be run on a connected (sub)graph");for(var c=u[i],g=o[c[1]],m=o[c[2]],v=u,w=v.length-1;w>=0;w--){var b=v[w],E=b[1],C=b[2];(o[E]===g&&o[C]===m||o[E]===m&&o[C]===g)&&v.splice(w,1)}for(var _=0;_<v.length;_++){var S=v[_];S[1]===m?(v[_]=S.slice(),v[_][1]=g):S[2]===m&&(v[_]=S.slice(),v[_][2]=g)}for(var A=0;A<o.length;A++)o[A]===m&&(o[A]=g);return v},xt=function(i,o,u,c){for(;u>c;){var d=Math.floor(Math.random()*o.length);o=lt(d,i,o),u--}return o},gv={kargerStein:function(){var i=this,o=this.byGroup(),u=o.nodes,c=o.edges;c.unmergeBy(function(X){return X.isLoop()});var d=u.length,f=c.length,g=Math.ceil(Math.pow(Math.log(d)/Math.LN2,2)),m=Math.floor(d/eu);if(!(d<2)){for(var v=[],w=0;w<f;w++){var b=c[w];v.push([w,u.indexOf(b.source()),u.indexOf(b.target())])}for(var E=1/0,C=[],_=new Array(d),S=new Array(d),A=new Array(d),x=function(J,oe){for(var ee=0;ee<d;ee++)oe[ee]=J[ee]},I=0;I<=g;I++){for(var P=0;P<d;P++)S[P]=P;var N=xt(S,v.slice(),d,m),B=N.slice();x(S,A);var z=xt(S,N,m,2),R=xt(A,B,m,2);z.length<=R.length&&z.length<E?(E=z.length,C=z,x(S,_)):R.length<=z.length&&R.length<E&&(E=R.length,C=R,x(A,_))}for(var $=this.spawn(C.map(function(X){return c[X[0]]})),F=this.spawn(),j=this.spawn(),U=_[0],L=0;L<_.length;L++){var V=u[L];_[L]===U?F.merge(V):j.merge(V)}var Y=function(J){var oe=i.spawn();return J.forEach(function(ee){oe.merge(ee),ee.connectedEdges().forEach(function(re){i.contains(re)&&!$.contains(re)&&oe.merge(re)})}),oe},G=[Y(F),Y(j)];return{cut:$,components:G,partition1:F,partition2:j}}qt("At least 2 nodes are required for Karger-Stein algorithm")}},tu=function(i,o,u){return{x:i.x*o+u.x,y:i.y*o+u.y}},Qs=function(i,o,u){return{x:(i.x-u.x)/o,y:(i.y-u.y)/o}},Un=function(i){return{x:i[0],y:i[1]}},Fc=function(i,o){return Math.atan2(o,i)-Math.PI/2},Xf=Math.log2||function(s){return Math.log(s)/Math.log(2)},mv=function(i){return i>0?1:i<0?-1:0},mo=function(i,o){return Math.sqrt(ss(i,o))},ss=function(i,o){var u=o.x-i.x,c=o.y-i.y;return u*u+c*c},yv=function(i){for(var o=i.length,u=0,c=0;c<o;c++)u+=i[c];for(var d=0;d<o;d++)i[d]=i[d]/u;return i},Zn=function(i,o,u,c){return(1-c)*(1-c)*i+2*(1-c)*c*o+c*c*u},jn=function(i,o,u,c){return{x:Zn(i.x,o.x,u.x,c),y:Zn(i.y,o.y,u.y,c)}},nu=function(i,o,u){return Math.max(i,Math.min(u,o))},Or=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},ib=function(i,o){i.x1=Math.min(i.x1,o.x1),i.x2=Math.max(i.x2,o.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,o.y1),i.y2=Math.max(i.y2,o.y2),i.h=i.y2-i.y1},ei=function(i,o,u){i.x1=Math.min(i.x1,o),i.x2=Math.max(i.x2,o),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,u),i.y2=Math.max(i.y2,u),i.h=i.y2-i.y1},ls=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=o,i.x2+=o,i.y1-=o,i.y2+=o,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},ru=function(i){var u,c,d,f,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)u=c=d=f=o[0];else if(2===o.length)u=d=o[0],f=c=o[1];else if(4===o.length){var g=dn(o,4);u=g[0],c=g[1],d=g[2],f=g[3]}return i.x1-=f,i.x2+=c,i.y1-=u,i.y2+=d,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Jf=function(i,o){i.x1=o.x1,i.y1=o.y1,i.x2=o.x2,i.y2=o.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},Oc=function(i,o){return!(i.x1>o.x2||o.x1>i.x2||i.x2<o.x1||o.x2<i.x1||i.y2<o.y1||o.y2<i.y1||i.y1>o.y2||o.y1>i.y2)},yo=function(i,o,u){return i.x1<=o&&o<=i.x2&&i.y1<=u&&u<=i.y2},iu=function(i,o){return yo(i,o.x,o.y)},au=function(i,o){return yo(i,o.x1,o.y1)&&yo(i,o.x2,o.y2)},Lc=function(i,o,u,c,d,f,g){var b,m=ca(d,f),v=d/2,w=f/2,C=c-w-g;if((b=Vr(i,o,u,c,u-v+m-g,C,u+v-m+g,C,!1)).length>0)return b;var A=u+v+g;if((b=Vr(i,o,u,c,A,c-w+m-g,A,c+w-m+g,!1)).length>0)return b;var B=c+w+g;if((b=Vr(i,o,u,c,u-v+m-g,B,u+v-m+g,B,!1)).length>0)return b;var L,$=u-v-g;if((b=Vr(i,o,u,c,$,c-w+m-g,$,c+w-m+g,!1)).length>0)return b;var q=u-v+m,V=c-w+m;if((L=ou(i,o,u,c,q,V,m+g)).length>0&&L[0]<=q&&L[1]<=V)return[L[0],L[1]];var Y=u+v-m,G=c-w+m;if((L=ou(i,o,u,c,Y,G,m+g)).length>0&&L[0]>=Y&&L[1]<=G)return[L[0],L[1]];var K=u+v-m,X=c+w-m;if((L=ou(i,o,u,c,K,X,m+g)).length>0&&L[0]>=K&&L[1]>=X)return[L[0],L[1]];var J=u-v+m,oe=c+w-m;return(L=ou(i,o,u,c,J,oe,m+g)).length>0&&L[0]<=J&&L[1]>=oe?[L[0],L[1]]:[]},wv=function(i,o,u,c,d,f,g){var m=g,v=Math.min(u,d),w=Math.max(u,d),b=Math.min(c,f),E=Math.max(c,f);return v-m<=i&&i<=w+m&&b-m<=o&&o<=E+m},Ye=function(i,o,u,c,d,f,g,m,v){var w_x1=Math.min(u,g,d)-v,w_x2=Math.max(u,g,d)+v,w_y1=Math.min(c,m,f)-v,w_y2=Math.max(c,m,f)+v;return!(i<w_x1||i>w_x2||o<w_y1||o>w_y2)},$i=function(i,o,u,c,d,f,g,m){var C=[];!function(i,o,u,c,d){var g,m,v,w,b,E,C,_;0===i&&(i=1e-5),v=-27*(c/=i)+(o/=i)*(9*(u/=i)-o*o*2),g=(m=(3*u-o*o)/9)*m*m+(v/=54)*v,d[1]=0,C=o/3,g>0?(b=(b=v+Math.sqrt(g))<0?-Math.pow(-b,1/3):Math.pow(b,1/3),E=(E=v-Math.sqrt(g))<0?-Math.pow(-E,1/3):Math.pow(E,1/3),d[0]=-C+b+E,d[4]=d[2]=-(C+=(b+E)/2),C=Math.sqrt(3)*(-E+b)/2,d[3]=C,d[5]=-C):(d[5]=d[3]=0,0===g?(_=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),d[0]=2*_-C,d[4]=d[2]=-(_+C)):(w=(m=-m)*m*m,w=Math.acos(v/Math.sqrt(w)),_=2*Math.sqrt(m),d[0]=-C+_*Math.cos(w/3),d[2]=-C+_*Math.cos((w+2*Math.PI)/3),d[4]=-C+_*Math.cos((w+4*Math.PI)/3)))}(1*u*u-4*u*d+2*u*g+4*d*d-4*d*g+g*g+c*c-4*c*f+2*c*m+4*f*f-4*f*m+m*m,9*u*d-3*u*u-3*u*g-6*d*d+3*d*g+9*c*f-3*c*c-3*c*m-6*f*f+3*f*m,3*u*u-6*u*d+u*g-u*i+2*d*d+2*d*i-g*i+3*c*c-6*c*f+c*m-c*o+2*f*f+2*f*o-m*o,1*u*d-u*u+u*i-d*i+c*f-c*c+c*o-f*o,C);for(var S=[],A=0;A<6;A+=2)Math.abs(C[A+1])<1e-7&&C[A]>=0&&C[A]<=1&&S.push(C[A]);S.push(1),S.push(0);for(var I,P,N,x=-1,B=0;B<S.length;B++)I=Math.pow(1-S[B],2)*u+2*(1-S[B])*S[B]*d+S[B]*S[B]*g,P=Math.pow(1-S[B],2)*c+2*(1-S[B])*S[B]*f+S[B]*S[B]*m,N=Math.pow(I-i,2)+Math.pow(P-o,2),x>=0?N<x&&(x=N):x=N;return x},eh=function(i,o,u,c,d,f){var g=[i-u,o-c],m=[d-u,f-c],v=m[0]*m[0]+m[1]*m[1],w=g[0]*g[0]+g[1]*g[1],b=g[0]*m[0]+g[1]*m[1],E=b*b/v;return b<0?w:E>v?(i-d)*(i-d)+(o-f)*(o-f):w-E},Lr=function(i,o,u){for(var c,d,f,g,v=0,w=0;w<u.length/2;w++)if(d=u[2*w+1],w+1<u.length/2?(f=u[2*(w+1)],g=u[2*(w+1)+1]):(f=u[2*(w+1-u.length/2)],g=u[2*(w+1-u.length/2)+1]),(c=u[2*w])!=i||f!=i){if(!(c>=i&&i>=f||c<=i&&i<=f))continue;(i-c)/(f-c)*(g-d)+d>o&&v++}return v%2!=0},lr=function(i,o,u,c,d,f,g,m,v){var b,S,w=new Array(u.length);null!=m[0]?(b=Math.atan(m[1]/m[0]),m[0]<0?b+=Math.PI/2:b=-b-Math.PI/2):b=m;for(var E=Math.cos(-b),C=Math.sin(-b),_=0;_<w.length/2;_++)w[2*_]=f/2*(u[2*_]*E-u[2*_+1]*C),w[2*_+1]=g/2*(u[2*_+1]*E+u[2*_]*C),w[2*_]+=c,w[2*_+1]+=d;if(v>0){var A=Ev(w,-v);S=Dv(A)}else S=w;return Lr(i,o,S)},Dv=function(i){for(var g,m,v,w,o=new Array(i.length/2),b=0;b<i.length/4;b++){b<i.length/4-1?(g=i[4*(b+1)],m=i[4*(b+1)+1],v=i[4*(b+1)+2],w=i[4*(b+1)+3]):(g=i[0],m=i[1],v=i[2],w=i[3]);var E=Vr(i[4*b],i[4*b+1],i[4*b+2],i[4*b+3],g,m,v,w,!0);o[2*b]=E[0],o[2*b+1]=E[1]}return o},Ev=function(i,o){for(var c,d,f,g,u=new Array(2*i.length),m=0;m<i.length/2;m++){m<i.length/2-1?(f=i[2*(m+1)],g=i[2*(m+1)+1]):(f=i[0],g=i[1]);var v=g-(d=i[2*m+1]),w=-(f-(c=i[2*m])),b=Math.sqrt(v*v+w*w),E=v/b,C=w/b;u[4*m]=c+E*o,u[4*m+1]=d+C*o,u[4*m+2]=f+E*o,u[4*m+3]=g+C*o}return u},St=function(i,o,u,c,d,f,g){return i-=d,o-=f,(i/=u/2+g)*i+(o/=c/2+g)*o<=1},ou=function(i,o,u,c,d,f,g){var m=[u-i,c-o],v=[i-d,o-f],w=m[0]*m[0]+m[1]*m[1],b=2*(v[0]*m[0]+v[1]*m[1]),C=b*b-4*w*(v[0]*v[0]+v[1]*v[1]-g*g);if(C<0)return[];var _=(-b+Math.sqrt(C))/(2*w),S=(-b-Math.sqrt(C))/(2*w),A=Math.min(_,S),x=Math.max(_,S),I=[];if(A>=0&&A<=1&&I.push(A),x>=0&&x<=1&&I.push(x),0===I.length)return[];var P=I[0]*m[0]+i,N=I[0]*m[1]+o;return I.length>1?I[0]==I[1]?[P,N]:[P,N,I[1]*m[0]+i,I[1]*m[1]+o]:[P,N]},th=function(i,o,u){return o<=i&&i<=u||u<=i&&i<=o?i:i<=o&&o<=u||u<=o&&o<=i?o:u},Vr=function(i,o,u,c,d,f,g,m,v){var w=i-d,b=u-i,E=g-d,C=o-f,_=c-o,S=m-f,A=E*C-S*w,x=b*C-_*w,I=S*b-E*_;if(0!==I){var P=A/I,N=x/I,z=-.001;return z<=P&&P<=1.001&&z<=N&&N<=1.001||v?[i+P*b,o+P*_]:[]}return 0===A||0===x?th(i,u,g)===g?[g,m]:th(i,u,d)===d?[d,f]:th(d,g,u)===u?[u,c]:[]:[]},Dt=function(i,o,u,c,d,f,g,m){var w,C,v=[],b=new Array(u.length),E=!0;if(null==f&&(E=!1),E){for(var _=0;_<b.length/2;_++)b[2*_]=u[2*_]*f+c,b[2*_+1]=u[2*_+1]*g+d;if(m>0){var S=Ev(b,-m);C=Dv(S)}else C=b}else C=u;for(var I,P,N=0;N<C.length/2;N++)N<C.length/2-1?(I=C[2*(N+1)],P=C[2*(N+1)+1]):(I=C[0],P=C[1]),0!==(w=Vr(i,o,c,d,C[2*N],C[2*N+1],I,P)).length&&v.push(w[0],w[1]);return v},us=function(i,o,u){var c=[i[0]-o[0],i[1]-o[1]],d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=(d-u)/d;return f<0&&(f=1e-5),[o[0]+f*c[0],o[1]+f*c[1]]},Xn=function(i,o){var u=wi(i,o);return Bc(u)},Bc=function(i){for(var o,u,c=i.length/2,d=1/0,f=1/0,g=-1/0,m=-1/0,v=0;v<c;v++)o=i[2*v],u=i[2*v+1],d=Math.min(d,o),g=Math.max(g,o),f=Math.min(f,u),m=Math.max(m,u);for(var w=2/(g-d),b=2/(m-f),E=0;E<c;E++)o=i[2*E]=i[2*E]*w,u=i[2*E+1]=i[2*E+1]*b,d=Math.min(d,o),g=Math.max(g,o),f=Math.min(f,u),m=Math.max(m,u);if(f<-1)for(var C=0;C<c;C++)u=i[2*C+1]=i[2*C+1]+(-1-f);return i},wi=function(i,o){var u=1/i*2*Math.PI,c=i%2==0?Math.PI/2+u/2:Math.PI/2;c+=o;for(var f,d=new Array(2*i),g=0;g<i;g++)f=g*u+c,d[2*g]=Math.cos(f),d[2*g+1]=Math.sin(-f);return d},ca=function(i,o){return Math.min(i/4,o/4,8)},$c=function(i,o){return Math.min(i/10,o/10,8)},lu=function(i,o){return{heightOffset:Math.min(15,.05*o),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},nh=zn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),_v={pageRank:function(i){for(var o=nh(i),u=o.dampingFactor,c=o.precision,d=o.iterations,f=o.weight,g=this._private.cy,m=this.byGroup(),v=m.nodes,w=m.edges,b=v.length,C=w.length,_=new Array(b*b),S=new Array(b),A=(1-u)/b,x=0;x<b;x++){for(var I=0;I<b;I++)_[x*b+I]=0;S[x]=0}for(var N=0;N<C;N++){var B=w[N],z=B.data("source"),R=B.data("target");if(z!==R){var $=v.indexOfId(z),F=v.indexOfId(R),j=f(B);_[F*b+$]+=j,S[$]+=j}}for(var L=1/b+A,q=0;q<b;q++)if(0===S[q])for(var V=0;V<b;V++)_[V*b+q]=L;else for(var G=0;G<b;G++){var K=G*b+q;_[K]=_[K]/S[q]+A}for(var oe,X=new Array(b),J=new Array(b),ee=0;ee<b;ee++)X[ee]=1;for(var re=0;re<d;re++){for(var he=0;he<b;he++)J[he]=0;for(var ve=0;ve<b;ve++)for(var pe=0;pe<b;pe++)J[ve]+=_[ve*b+pe]*X[pe];yv(J),oe=X,X=J,J=oe;for(var Q=0,se=0;se<b;se++){var ge=oe[se]-X[se];Q+=ge*ge}if(Q<c)break}return{rank:function(st){return st=g.collection(st)[0],X[v.indexOf(st)]}}}},ti=zn({root:null,weight:function(i){return 1},directed:!1,alpha:0}),cs={degreeCentralityNormalized:function(i){i=ti(i);var o=this.cy(),u=this.nodes(),c=u.length;if(i.directed){for(var w={},b={},E=0,C=0,_=0;_<c;_++){var S=u[_],A=S.id();i.root=S;var x=this.degreeCentrality(i);E<x.indegree&&(E=x.indegree),C<x.outdegree&&(C=x.outdegree),w[A]=x.indegree,b[A]=x.outdegree}return{indegree:function(P){return 0==E?0:(le(P)&&(P=o.filter(P)),w[P.id()]/E)},outdegree:function(P){return 0===C?0:(le(P)&&(P=o.filter(P)),b[P.id()]/C)}}}for(var d={},f=0,g=0;g<c;g++){var m=u[g];i.root=m;var v=this.degreeCentrality(i);f<v.degree&&(f=v.degree),d[m.id()]=v.degree}return{degree:function(P){return 0===f?0:(le(P)&&(P=o.filter(P)),d[P.id()]/f)}}},degreeCentrality:function(i){i=ti(i);var o=this.cy(),u=this,d=i.root,f=i.weight,g=i.directed,m=i.alpha;if(d=o.collection(d)[0],g){for(var C=d.connectedEdges(),_=C.filter(function(z){return z.target().same(d)&&u.has(z)}),S=C.filter(function(z){return z.source().same(d)&&u.has(z)}),A=_.length,x=S.length,I=0,P=0,N=0;N<_.length;N++)I+=f(_[N]);for(var B=0;B<S.length;B++)P+=f(S[B]);return{indegree:Math.pow(A,1-m)*Math.pow(I,m),outdegree:Math.pow(x,1-m)*Math.pow(P,m)}}for(var v=d.connectedEdges().intersection(u),w=v.length,b=0,E=0;E<v.length;E++)b+=f(v[E]);return{degree:Math.pow(w,1-m)*Math.pow(b,m)}}};cs.dc=cs.degreeCentrality,cs.dcn=cs.degreeCentralityNormalised=cs.degreeCentralityNormalized;var Hc=zn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ue={closenessCentralityNormalized:function(i){for(var o=Hc(i),u=o.harmonic,c=o.weight,d=o.directed,f=this.cy(),g={},m=0,v=this.nodes(),w=this.floydWarshall({weight:c,directed:d}),b=0;b<v.length;b++){for(var E=0,C=v[b],_=0;_<v.length;_++)if(b!==_){var S=w.distance(C,v[_]);E+=u?1/S:S}u||(E=1/E),m<E&&(m=E),g[C.id()]=E}return{closeness:function(x){return 0==m?0:(x=le(x)?f.filter(x)[0].id():x.id(),g[x]/m)}}},closenessCentrality:function(i){var o=Hc(i),u=o.root,c=o.weight,d=o.directed,f=o.harmonic;u=this.filter(u)[0];for(var g=this.dijkstra({root:u,weight:c,directed:d}),m=0,v=this.nodes(),w=0;w<v.length;w++){var b=v[w];if(!b.same(u)){var E=g.distanceTo(b);m+=f?1/E:E}}return f?m:1/m}};Ue.cc=Ue.closenessCentrality,Ue.ccn=Ue.closenessCentralityNormalised=Ue.closenessCentralityNormalized;var Cr=zn({weight:null,directed:!1}),Gt={betweennessCentrality:function(i){for(var o=Cr(i),u=o.directed,c=o.weight,d=null!=c,f=this.cy(),g=this.nodes(),m={},v={},w=0,b={set:function(P,N){v[P]=N,N>w&&(w=N)},get:function(P){return v[P]}},E=0;E<g.length;E++){var C=g[E],_=C.id();m[_]=u?C.outgoers().nodes():C.openNeighborhood().nodes(),b.set(_,0)}for(var S=function(P){for(var N=g[P].id(),B=[],z={},R={},$={},F=new Yr(function(pe,ue){return $[pe]-$[ue]}),j=0;j<g.length;j++){var U=g[j].id();z[U]=[],R[U]=0,$[U]=1/0}for(R[N]=1,$[N]=0,F.push(N);!F.empty();){var L=F.pop();if(B.push(L),d)for(var q=0;q<m[L].length;q++){var G,V=m[L][q],Y=f.getElementById(L);G=Y.edgesTo(V).length>0?Y.edgesTo(V)[0]:V.edgesTo(Y)[0];var K=c(G);V=V.id(),$[V]>$[L]+K&&($[V]=$[L]+K,F.nodes.indexOf(V)<0?F.push(V):F.updateItem(V),R[V]=0,z[V]=[]),$[V]==$[L]+K&&(R[V]=R[V]+R[L],z[V].push(L))}else for(var X=0;X<m[L].length;X++){var J=m[L][X].id();$[J]==1/0&&(F.push(J),$[J]=$[L]+1),$[J]==$[L]+1&&(R[J]=R[J]+R[L],z[J].push(L))}}for(var oe={},ee=0;ee<g.length;ee++)oe[g[ee].id()]=0;for(;B.length>0;){for(var re=B.pop(),he=0;he<z[re].length;he++){var ve=z[re][he];oe[ve]=oe[ve]+R[ve]/R[re]*(1+oe[re])}re!=g[P].id()&&b.set(re,b.get(re)+oe[re])}},A=0;A<g.length;A++)S(A);var x={betweenness:function(P){var N=f.collection(P).id();return b.get(N)},betweennessNormalized:function(P){if(0==w)return 0;var N=f.collection(P).id();return b.get(N)/w}};return x.betweennessNormalised=x.betweennessNormalized,x}};Gt.bc=Gt.betweennessCentrality;var pr=zn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(s){return 1}]}),Br=function(i,o){for(var u=0,c=0;c<o.length;c++)u+=o[c](i);return u},cu=function(i,o){for(var u,c=0;c<o;c++){u=0;for(var d=0;d<o;d++)u+=i[d*o+c];for(var f=0;f<o;f++)i[f*o+c]=i[f*o+c]/u}},Ys=function(i,o,u){for(var c=new Array(u*u),d=0;d<u;d++){for(var f=0;f<u;f++)c[d*u+f]=0;for(var g=0;g<u;g++)for(var m=0;m<u;m++)c[d*u+m]+=i[d*u+g]*o[g*u+m]}return c},du=function(i,o,u){for(var c=i.slice(0),d=1;d<u;d++)i=Ys(i,c,o);return i},bo=function(i,o,u){for(var c=new Array(o*o),d=0;d<o*o;d++)c[d]=Math.pow(i[d],u);return cu(c,o),c},ur=function(i,o,u,c){for(var d=0;d<u;d++)if(Math.round(i[d]*Math.pow(10,c))/Math.pow(10,c)!=Math.round(o[d]*Math.pow(10,c))/Math.pow(10,c))return!1;return!0},ni=function(i,o){for(var u=0;u<i.length;u++)if(!o[u]||i[u].id()!==o[u].id())return!1;return!0},dt=function(i){for(var o=this.nodes(),u=this.edges(),c=this.cy(),d=function(i){return pr(i)}(i),f={},g=0;g<o.length;g++)f[o[g].id()]=g;for(var b,m=o.length,v=m*m,w=new Array(v),E=0;E<v;E++)w[E]=0;for(var C=0;C<u.length;C++){var _=u[C],S=f[_.source().id()],A=f[_.target().id()],x=Br(_,d.attributes);w[S*m+A]+=x,w[A*m+S]+=x}(function(i,o,u){for(var c=0;c<o;c++)i[c*o+c]=u})(w,m,d.multFactor),cu(w,m);for(var I=!0,P=0;I&&P<d.maxIterations;)I=!1,b=du(w,m,d.expandFactor),w=bo(b,m,d.inflateFactor),ur(w,b,v,4)||(I=!0),P++;var N=function(i,o,u,c){for(var d=[],f=0;f<o;f++){for(var g=[],m=0;m<o;m++)Math.round(1e3*i[f*o+m])/1e3>0&&g.push(u[m]);0!==g.length&&d.push(c.collection(g))}return d}(w,m,o,c);return N=function(i){for(var o=0;o<i.length;o++)for(var u=0;u<i.length;u++)o!=u&&ni(i[o],i[u])&&i.splice(u,1);return i}(N),N},tn={markovClustering:dt,mcl:dt},$r=function(i){return i},xa=function(i,o){return Math.abs(o-i)},On=function(i,o,u){return i+xa(o,u)},Ia=function(i,o,u){return i+Math.pow(u-o,2)},hn=function(i){return Math.sqrt(i)},Zs=function(i,o,u){return Math.max(i,xa(o,u))},Hi=function(i,o,u,c,d){for(var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$r,g=c,w=0;w<i;w++)g=d(g,o(w),u(w));return f(g)},rt={euclidean:function(i,o,u){return i>=2?Hi(i,o,u,0,Ia,hn):Hi(i,o,u,0,On)},squaredEuclidean:function(i,o,u){return Hi(i,o,u,0,Ia)},manhattan:function(i,o,u){return Hi(i,o,u,0,On)},max:function(i,o,u){return Hi(i,o,u,-1/0,Zs)}};function Do(s,i,o,u,c,d){var f;return f=He(s)?s:rt[s]||rt.euclidean,0===i&&He(s)?f(c,d):f(i,o,u,c,d)}rt["squared-euclidean"]=rt.squaredEuclidean,rt.squaredeuclidean=rt.squaredEuclidean;var ds=zn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Xs=function(i){return ds(i)},zi=function(i,o,u,c,d){var g="kMedoids"!==d?function(b){return u[b]}:function(b){return c[b](u)};return Do(i,c.length,g,function(E){return c[E](o)},u,o)},Jn=function(i,o,u){for(var c=u.length,d=new Array(c),f=new Array(c),g=new Array(o),m=null,v=0;v<c;v++)d[v]=i.min(u[v]).value,f[v]=i.max(u[v]).value;for(var w=0;w<o;w++){m=[];for(var b=0;b<c;b++)m[b]=Math.random()*(f[b]-d[b])+d[b];g[w]=m}return g},fs=function(i,o,u,c,d){for(var f=1/0,g=0,m=0;m<o.length;m++){var v=zi(u,i,o[m],c,d);v<f&&(f=v,g=m)}return g},Eo=function(i,o,u){for(var c=[],d=null,f=0;f<o.length;f++)u[(d=o[f]).id()]===i&&c.push(d);return c},bi=function(i,o,u){return Math.abs(o-i)<=u},hs=function(i,o,u){for(var c=0;c<i.length;c++)for(var d=0;d<i[c].length;d++)if(Math.abs(i[c][d]-o[c][d])>u)return!1;return!0},rh=function(i,o,u){for(var c=0;c<u;c++)if(i===o[c])return!0;return!1},Yt=function(i,o){var u=new Array(o);if(i.length<50)for(var c=0;c<o;c++){for(var d=i[Math.floor(Math.random()*i.length)];rh(d,u,c);)d=i[Math.floor(Math.random()*i.length)];u[c]=d}else for(var f=0;f<o;f++)u[f]=i[Math.floor(Math.random()*i.length)];return u},ih=function(i,o,u){for(var c=0,d=0;d<o.length;d++)c+=zi("manhattan",o[d],i,u,"kMedoids");return c},Di=function(i,o,u,c,d){for(var f,g,m=0;m<o.length;m++)for(var v=0;v<i.length;v++)c[m][v]=Math.pow(u[m][v],d.m);for(var w=0;w<i.length;w++)for(var b=0;b<d.attributes.length;b++){f=0,g=0;for(var E=0;E<o.length;E++)f+=c[E][w]*d.attributes[b](o[E]),g+=c[E][w];i[w][b]=f/g}},zc=function(i,o,u,c,d){for(var f=0;f<i.length;f++)o[f]=i[f].slice();for(var g,m,v,w=2/(d.m-1),b=0;b<u.length;b++)for(var E=0;E<c.length;E++){g=0;for(var C=0;C<u.length;C++)m=zi(d.distance,c[E],u[b],d.attributes,"cmeans"),v=zi(d.distance,c[E],u[C],d.attributes,"cmeans"),g+=Math.pow(m/v,w);i[E][b]=1/g}},Js=function(i){var d,f,g,m,v,o=this.cy(),u=this.nodes(),c=Xs(i);m=new Array(u.length);for(var w=0;w<u.length;w++)m[w]=new Array(c.k);g=new Array(u.length);for(var b=0;b<u.length;b++)g[b]=new Array(c.k);for(var E=0;E<u.length;E++){for(var C=0,_=0;_<c.k;_++)g[E][_]=Math.random(),C+=g[E][_];for(var S=0;S<c.k;S++)g[E][S]=g[E][S]/C}f=new Array(c.k);for(var A=0;A<c.k;A++)f[A]=new Array(c.attributes.length);v=new Array(u.length);for(var x=0;x<u.length;x++)v[x]=new Array(c.k);for(var I=!0,P=0;I&&P<c.maxIterations;)I=!1,Di(f,u,g,v,c),zc(g,m,f,u,c),hs(g,m,c.sensitivityThreshold)||(I=!0),P++;return d=function(i,o,u,c){for(var d=new Array(u.k),f=0;f<d.length;f++)d[f]=[];for(var g,m,v=0;v<o.length;v++){g=-1/0,m=-1;for(var w=0;w<o[0].length;w++)o[v][w]>g&&(g=o[v][w],m=w);d[m].push(i[v])}for(var b=0;b<d.length;b++)d[b]=c.collection(d[b]);return d}(u,g,c,o),{clusters:d,degreeOfMembership:g}},Ei={kMeans:function(i){var m,o=this.cy(),u=this.nodes(),c=null,d=Xs(i),f=new Array(d.k),g={};m=d.testMode?"number"==typeof d.testCentroids?Jn(u,d.k,d.attributes):"object"===yt(d.testCentroids)?d.testCentroids:Jn(u,d.k,d.attributes):Jn(u,d.k,d.attributes);for(var v=!0,w=0;v&&w<d.maxIterations;){for(var b=0;b<u.length;b++)g[(c=u[b]).id()]=fs(c,m,d.distance,d.attributes,"kMeans");v=!1;for(var E=0;E<d.k;E++){var C=Eo(E,u,g);if(0!==C.length){for(var _=d.attributes.length,S=m[E],A=new Array(_),x=new Array(_),I=0;I<_;I++){x[I]=0;for(var P=0;P<C.length;P++)x[I]+=d.attributes[I](c=C[P]);A[I]=x[I]/C.length,bi(A[I],S[I],d.sensitivityThreshold)||(v=!0)}m[E]=A,f[E]=o.collection(C)}}w++}return f},kMedoids:function(i){var g,v,o=this.cy(),u=this.nodes(),c=null,d=Xs(i),f=new Array(d.k),m={},w=new Array(d.k);d.testMode?"number"==typeof d.testCentroids||(g="object"===yt(d.testCentroids)?d.testCentroids:Yt(u,d.k)):g=Yt(u,d.k);for(var b=!0,E=0;b&&E<d.maxIterations;){for(var C=0;C<u.length;C++)m[(c=u[C]).id()]=fs(c,g,d.distance,d.attributes,"kMedoids");b=!1;for(var _=0;_<g.length;_++){var S=Eo(_,u,m);if(0!==S.length){w[_]=ih(g[_],S,d.attributes);for(var A=0;A<S.length;A++)(v=ih(S[A],S,d.attributes))<w[_]&&(w[_]=v,g[_]=S[A],b=!0);f[_]=o.collection(S)}}E++}return f},fuzzyCMeans:Js,fcm:Js},Mv=zn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),ab={single:"min",complete:"max"},ah=function(i,o,u,c,d){for(var m,f=0,g=1/0,v=d.attributes,w=function(F,j){return Do(d.distance,v.length,function(U){return v[U](F)},function(U){return v[U](j)},F,j)},b=0;b<i.length;b++){var E=i[b].key,C=u[E][c[E]];C<g&&(f=E,g=C)}if("threshold"===d.mode&&g>=d.threshold||"dendrogram"===d.mode&&1===i.length)return!1;var A,_=o[f],S=o[c[f]];A="dendrogram"===d.mode?{left:_,right:S,key:_.key}:{value:_.value.concat(S.value),key:_.key},i[_.index]=A,i.splice(S.index,1),o[_.key]=A;for(var x=0;x<i.length;x++){var I=i[x];_.key===I.key?m=1/0:"min"===d.linkage?(m=u[_.key][I.key],u[_.key][I.key]>u[S.key][I.key]&&(m=u[S.key][I.key])):"max"===d.linkage?(m=u[_.key][I.key],u[_.key][I.key]<u[S.key][I.key]&&(m=u[S.key][I.key])):m="mean"===d.linkage?(u[_.key][I.key]*_.size+u[S.key][I.key]*S.size)/(_.size+S.size):"dendrogram"===d.mode?w(I.value,_.value):w(I.value[0],_.value[0]),u[_.key][I.key]=u[I.key][_.key]=m}for(var P=0;P<i.length;P++){var N=i[P].key;if(c[N]===_.key||c[N]===S.key){for(var B=N,z=0;z<i.length;z++){var R=i[z].key;u[N][R]<u[N][B]&&(B=R)}c[N]=B}i[P].index=P}return _.key=S.key=_.index=S.index=null,!0},Uc=function s(i,o,u){!i||(i.value?o.push(i.value):(i.left&&s(i.left,o),i.right&&s(i.right,o)))},ob=function s(i,o){if(!i)return"";if(i.left&&i.right){var u=s(i.left,o),c=s(i.right,o),d=o.add({group:"nodes",data:{id:u+","+c}});return o.add({group:"edges",data:{source:u,target:d.id()}}),o.add({group:"edges",data:{source:c,target:d.id()}}),d.id()}return i.value?i.value.id():void 0},sb=function s(i,o,u){if(!i)return[];var c=[],d=[],f=[];return 0===o?(i.left&&Uc(i.left,c),i.right&&Uc(i.right,d),f=c.concat(d),[u.collection(f)]):1===o?i.value?[u.collection(i.value)]:(i.left&&Uc(i.left,c),i.right&&Uc(i.right,d),[u.collection(c),u.collection(d)]):i.value?[u.collection(i.value)]:(i.left&&(c=s(i.left,o-1,u)),i.right&&(d=s(i.right,o-1,u)),c.concat(d))},xv=function(i){for(var o=this.cy(),u=this.nodes(),c=function(i){var o=Mv(i),u=ab[o.linkage];return null!=u&&(o.linkage=u),o}(i),d=c.attributes,f=function(P,N){return Do(c.distance,d.length,function(B){return d[B](P)},function(B){return d[B](N)},P,N)},g=[],m=[],v=[],w=[],b=0;b<u.length;b++){var E={value:"dendrogram"===c.mode?u[b]:[u[b]],key:b,index:b};g[b]=E,w[b]=E,m[b]=[],v[b]=0}for(var C=0;C<g.length;C++)for(var _=0;_<=C;_++){var S;S="dendrogram"===c.mode?C===_?1/0:f(g[C].value,g[_].value):C===_?1/0:f(g[C].value[0],g[_].value[0]),m[C][_]=S,m[_][C]=S,S<m[C][v[C]]&&(v[C]=_)}for(var A=ah(g,w,m,v,c);A;)A=ah(g,w,m,v,c);var x;return"dendrogram"===c.mode?(x=sb(g[0],c.dendrogramDepth,o),c.addDendrogram&&ob(g[0],o)):(x=new Array(g.length),g.forEach(function(I,P){I.key=I.index=null,x[P]=o.collection(I.value)})),x},lb={hierarchicalClustering:xv,hca:xv},ub=zn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),db=function(i,o,u,c){var d=function(g,m){return c[m](g)};return-Do(i,c.length,function(f){return d(o,f)},function(f){return d(u,f)},o,u)},Iv=function(i,o,u){for(var c=[],d=0;d<i;d++){for(var f=-1,g=-1/0,m=0;m<u.length;m++){var v=u[m];o[d*i+v]>g&&(f=v,g=o[d*i+v])}f>0&&c.push(f)}for(var w=0;w<u.length;w++)c[u[w]]=u[w];return c},Pv=function(i){for(var o=this.cy(),u=this.nodes(),c=function(i){var o=i.damping,u=i.preference;.5<=o&&o<1||qt("Damping must range on [0.5, 1).  Got: ".concat(o));var c=["median","mean","min","max"];return c.some(function(d){return d===u})||Ee(u)||qt("Preference must be one of [".concat(c.map(function(d){return"'".concat(d,"'")}).join(", "),"] or a number.  Got: ").concat(u)),ub(i)}(i),d={},f=0;f<u.length;f++)d[u[f].id()]=f;var g,m,v,w,b,E,F;m=(g=u.length)*g,v=new Array(m);for(var C=0;C<m;C++)v[C]=-1/0;for(var _=0;_<g;_++)for(var S=0;S<g;S++)_!==S&&(v[_*g+S]=db(c.distance,u[_],u[S],c.attributes));w=function(i,o){var u;return u="median"===o?function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(u<i.length&&i.splice(u,i.length-u),o>0&&i.splice(0,o)):i=i.slice(o,u);for(var g=0,m=i.length-1;m>=0;m--)f?isFinite(i[m])||(i[m]=-1/0,g++):i.splice(m,1);d&&i.sort(function(E,C){return E-C});var w=i.length,b=Math.floor(w/2);return w%2!=0?i[b+1+g]:(i[b-1+g]+i[b+g])/2}(i):"mean"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=0,d=0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f<u;f++){var g=i[f];isFinite(g)&&(c+=g,d++)}return c/d}(i):"min"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=i[d];isFinite(f)&&(c=Math.min(f,c))}return c}(i):"max"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=-1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=i[d];isFinite(f)&&(c=Math.max(f,c))}return c}(i):o,u}(v,c.preference);for(var A=0;A<g;A++)v[A*g+A]=w;b=new Array(m);for(var x=0;x<m;x++)b[x]=0;E=new Array(m);for(var I=0;I<m;I++)E[I]=0;for(var P=new Array(g),N=new Array(g),B=new Array(g),z=0;z<g;z++)P[z]=0,N[z]=0,B[z]=0;for(var R=new Array(g*c.minIterations),$=0;$<R.length;$++)R[$]=0;for(F=0;F<c.maxIterations;F++){for(var j=0;j<g;j++){for(var U=-1/0,L=-1/0,q=-1,V=0,Y=0;Y<g;Y++)P[Y]=b[j*g+Y],(V=E[j*g+Y]+v[j*g+Y])>=U?(L=U,U=V,q=Y):V>L&&(L=V);for(var G=0;G<g;G++)b[j*g+G]=(1-c.damping)*(v[j*g+G]-U)+c.damping*P[G];b[j*g+q]=(1-c.damping)*(v[j*g+q]-L)+c.damping*P[q]}for(var K=0;K<g;K++){for(var X=0,J=0;J<g;J++)P[J]=E[J*g+K],N[J]=Math.max(0,b[J*g+K]),X+=N[J];X-=N[K],N[K]=b[K*g+K],X+=N[K];for(var oe=0;oe<g;oe++)E[oe*g+K]=(1-c.damping)*Math.min(0,X-N[oe])+c.damping*P[oe];E[K*g+K]=(1-c.damping)*(X-N[K])+c.damping*P[K]}for(var ee=0,re=0;re<g;re++){var he=E[re*g+re]+b[re*g+re]>0?1:0;R[F%c.minIterations*g+re]=he,ee+=he}if(ee>0&&(F>=c.minIterations-1||F==c.maxIterations-1)){for(var ve=0,pe=0;pe<g;pe++){B[pe]=0;for(var ue=0;ue<c.minIterations;ue++)B[pe]+=R[ue*g+pe];(0===B[pe]||B[pe]===c.minIterations)&&ve++}if(ve===g)break}}for(var Q=function(i,o,u){for(var c=[],d=0;d<i;d++)o[d*i+d]+u[d*i+d]>0&&c.push(d);return c}(g,b,E),se=function(i,o,u){for(var c=Iv(i,o,u),d=0;d<u.length;d++){for(var f=[],g=0;g<c.length;g++)c[g]===u[d]&&f.push(g);for(var m=-1,v=-1/0,w=0;w<f.length;w++){for(var b=0,E=0;E<f.length;E++)b+=o[f[E]*i+f[w]];b>v&&(m=w,v=b)}u[d]=f[m]}return Iv(i,o,u)}(g,v,Q),ge={},Ce=0;Ce<Q.length;Ce++)ge[Q[Ce]]=[];for(var Ae=0;Ae<u.length;Ae++){var Ge=se[d[u[Ae].id()]];null!=Ge&&ge[Ge].push(u[Ae])}for(var xe=new Array(Q.length),Te=0;Te<Q.length;Te++)xe[Te]=o.collection(ge[Q[Te]]);return xe},gb={affinityPropagation:Pv,ap:Pv},oh=zn({root:void 0,directed:!1}),jc={hierholzer:function(i){if(!Le(i)){var o=arguments;i={root:o[0],directed:o[1]}}var m,v,w,u=oh(i),c=u.root,d=u.directed,f=this,g=!1;c&&(w=le(c)?this.filter(c)[0].id():c[0].id());var b={},E={};f.forEach(d?function(I){var P=I.id();if(I.isNode()){var N=I.indegree(!0),B=I.outdegree(!0),z=N-B,R=B-N;1==z?m?g=!0:m=P:1==R?v?g=!0:v=P:(R>1||z>1)&&(g=!0),b[P]=[],I.outgoers().forEach(function($){$.isEdge()&&b[P].push($.id())})}else E[P]=[void 0,I.target().id()]}:function(I){var P=I.id();I.isNode()?(I.degree(!0)%2&&(m?v?g=!0:v=P:m=P),b[P]=[],I.connectedEdges().forEach(function(B){return b[P].push(B.id())})):E[P]=[I.source().id(),I.target().id()]});var C={found:!1,trail:void 0};if(g)return C;if(v&&m)if(d){if(w&&v!=w)return C;w=v}else{if(w&&v!=w&&m!=w)return C;w||(w=v)}else w||(w=f[0].id());var _=function(P){for(var z,R,$,N=P,B=[P];b[N].length;)z=b[N].shift(),R=E[z][0],N!=($=E[z][1])?(b[$]=b[$].filter(function(F){return F!=z}),N=$):!d&&N!=R&&(b[R]=b[R].filter(function(F){return F!=z}),N=R),B.unshift(z),B.unshift(N);return B},S=[],A=[];for(A=_(w);1!=A.length;)0==b[A[0]].length?(S.unshift(f.getElementById(A.shift())),S.unshift(f.getElementById(A.shift()))):A=_(A.shift()).concat(A);for(var x in S.unshift(f.getElementById(A.shift())),b)if(b[x].length)return C;return C.found=!0,C.trail=this.spawn(S,!0),C}},qc=function(){var i=this,o={},u=0,c=0,d=[],f=[],g={},v=function b(E,C,_){E===_&&(c+=1),o[C]={id:u,low:u++,cutVertex:!1};var A,x,I,P,S=i.getElementById(C).connectedEdges().intersection(i);0===S.size()?d.push(i.spawn(i.getElementById(C))):S.forEach(function(N){A=N.source().id(),x=N.target().id(),(I=A===C?x:A)!==_&&(P=N.id(),g[P]||(g[P]=!0,f.push({x:C,y:I,edge:N})),I in o?o[C].low=Math.min(o[C].low,o[I].id):(b(E,I,C),o[C].low=Math.min(o[C].low,o[I].low),o[C].id<=o[I].low&&(o[C].cutVertex=!0,function(E,C){for(var _=f.length-1,S=[],A=i.spawn();f[_].x!=E||f[_].y!=C;)S.push(f.pop().edge),_--;S.push(f.pop().edge),S.forEach(function(x){var I=x.connectedNodes().intersection(i);A.merge(x),I.forEach(function(P){var N=P.id(),B=P.connectedEdges().intersection(i);A.merge(P),A.merge(o[N].cutVertex?B.filter(function(z){return z.isLoop()}):B)})}),d.push(A)}(C,I))))})};i.forEach(function(b){if(b.isNode()){var E=b.id();E in o||(c=0,v(E,E),o[E].cutVertex=c>1)}});var w=Object.keys(o).filter(function(b){return o[b].cutVertex}).map(function(b){return i.getElementById(b)});return{cut:i.spawn(w),components:d}},Gc=function(){var i=this,o={},u=0,c=[],d=[],f=i.spawn(i),g=function m(v){if(d.push(v),o[v]={index:u,low:u++,explored:!1},i.getElementById(v).connectedEdges().intersection(i).forEach(function(S){var A=S.target().id();A!==v&&(A in o||m(A),o[A].explored||(o[v].low=Math.min(o[v].low,o[A].low)))}),o[v].index===o[v].low){for(var b=i.spawn();;){var E=d.pop();if(b.merge(i.getElementById(E)),o[E].low=o[v].index,o[E].explored=!0,E===v)break}var C=b.edgesWith(b),_=b.merge(C);c.push(_),f=f.difference(_)}};return i.forEach(function(m){if(m.isNode()){var v=m.id();v in o||g(v)}}),{cut:f,components:c}},sh={};[Bt,Qt,Nc,Jt,kc,Ie,gv,_v,cs,Ue,Gt,tn,Ei,lb,gb,jc,{hopcroftTarjanBiconnected:qc,htbc:qc,htb:qc,hopcroftTarjanBiconnectedComponents:qc},{tarjanStronglyConnected:Gc,tsc:Gc,tscc:Gc,tarjanStronglyConnectedComponents:Gc}].forEach(function(s){Ke(sh,s)});var da=function s(i){if(!(this instanceof s))return new s(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};da.prototype={fulfill:function(i){return Kc(this,1,"fulfillValue",i)},reject:function(i){return Kc(this,2,"rejectReason",i)},then:function(i,o){var u=this,c=new da;return u.onFulfilled.push(hu(i,c,"fulfill")),u.onRejected.push(hu(o,c,"reject")),Qc(u),c.proxy}};var Kc=function(i,o,u,c){return 0===i.state&&(i.state=o,i[u]=c,Qc(i)),i},Qc=function(i){1===i.state?uh(i,"onFulfilled",i.fulfillValue):2===i.state&&uh(i,"onRejected",i.rejectReason)},uh=function(i,o,u){if(0!==i[o].length){var c=i[o];i[o]=[];var d=function(){for(var g=0;g<c.length;g++)c[g](u)};"function"==typeof setImmediate?setImmediate(d):setTimeout(d,0)}},hu=function(i,o,u){return function(c){if("function"!=typeof i)o[u].call(o,c);else{var d;try{d=i(c)}catch(f){return void o.reject(f)}Rv(o,d)}}},Rv=function s(i,o){if(i!==o&&i.proxy!==o){var u;if("object"===yt(o)&&null!==o||"function"==typeof o)try{u=o.then}catch(d){return void i.reject(d)}if("function"!=typeof u)i.fulfill(o);else{var c=!1;try{u.call(o,function(d){c||(c=!0,d===o?i.reject(new TypeError("circular thenable chain")):s(i,d))},function(d){c||(c=!0,i.reject(d))})}catch(d){c||i.reject(d)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};da.all=function(s){return new da(function(i,o){for(var u=new Array(s.length),c=0,d=function(m,v){u[m]=v,++c===s.length&&i(u)},f=0;f<s.length;f++)!function(g){var m=s[g];null!=m&&null!=m.then?m.then(function(b){d(g,b)},function(b){o(b)}):d(g,m)}(f)})},da.resolve=function(s){return new da(function(i,o){i(s)})},da.reject=function(s){return new da(function(i,o){o(s)})};var er="undefined"!=typeof Promise?Promise:da,el=function(i,o,u){var c=co(i),d=!c,f=this._private=Ke({duration:1e3},o,u);if(f.target=i,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&He(f.complete)&&f.completes.push(f.complete),d){var g=i.position();f.startPosition=f.startPosition||{x:g.x,y:g.y},f.startStyle=f.startStyle||i.cy().style().getAnimationStartStyle(i,f.style)}if(c){var m=i.pan();f.startPan={x:m.x,y:m.y},f.startZoom=i.zoom()}this.length=1,this[0]=this},_o=el.prototype;Ke(_o,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var u=i.target._private.animation;(i.queue?u.queue:u.current).push(this),Lt(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var o=this._private;return void 0===i?o.progress*o.duration:this.progress(i/o.duration)},progress:function(i){var o=this._private,u=o.playing;return void 0===i?o.progress:(u&&this.pause(),o.progress=i,o.started=!1,u&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,o=i.playing;o&&this.pause(),i.progress=1-i.progress,i.started=!1;var u=function(v,w){var b=i[v];null!=b&&(i[v]=i[w],i[w]=b)};if(u("zoom","startZoom"),u("pan","startPan"),u("position","startPosition"),i.style)for(var c=0;c<i.style.length;c++){var d=i.style[c],f=d.name,g=i.startStyle[f];i.startStyle[f]=d,i.style[c]=g}return o&&this.play(),this},promise:function(i){var u,o=this._private;return u="frame"===i?o.frames:o.completes,new er(function(c,d){u.push(function(){c()})})}}),_o.complete=_o.completed,_o.run=_o.play,_o.running=_o.playing;var Nv={data:function(i){return i=Ke({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(c){},beforeSet:function(c,d){},onSet:function(c){},canSet:function(c){return!0}},i),function(c,d){var f=i,g=this,m=void 0!==g.length,v=m?g:[g],w=m?g[0]:g;if(le(c)){var b;if(f.allowGetting&&void 0===d)return w&&(f.beforeGet(w),b=w._private[f.field][c]),b;if(f.allowSetting&&void 0!==d&&!f.immutableKeys[c]){var C=na({},c,d);f.beforeSet(g,C);for(var _=0,S=v.length;_<S;_++){var A=v[_];f.canSet(A)&&(A._private[f.field][c]=d)}f.updateStyle&&g.updateStyle(),f.onSet(g),f.settingTriggersEvent&&g[f.triggerFnName](f.settingEvent)}}else if(f.allowSetting&&Le(c)){var I,P,x=c,N=Object.keys(x);f.beforeSet(g,x);for(var B=0;B<N.length;B++)if(P=x[I=N[B]],!f.immutableKeys[I])for(var R=0;R<v.length;R++){var $=v[R];f.canSet($)&&($._private[f.field][I]=P)}f.updateStyle&&g.updateStyle(),f.onSet(g),f.settingTriggersEvent&&g[f.triggerFnName](f.settingEvent)}else if(f.allowBinding&&He(c))g.on(f.bindingEvent,c);else if(f.allowGetting&&void 0===c){var j;return w&&(f.beforeGet(w),j=w._private[f.field]),j}return g}},removeData:function(i){return i=Ke({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(c){var d=i,f=this,m=void 0!==f.length?f:[f];if(le(c)){for(var v=c.split(/\s+/),w=v.length,b=0;b<w;b++){var E=v[b];if(!kn(E)&&!d.immutableKeys[E])for(var _=0,S=m.length;_<S;_++)m[_]._private[d.field][E]=void 0}d.triggerEvent&&f[d.triggerFnName](d.event)}else if(void 0===c){for(var A=0,x=m.length;A<x;A++)for(var I=m[A]._private[d.field],P=Object.keys(I),N=0;N<P.length;N++){var B=P[N];!d.immutableKeys[B]&&(I[B]=void 0)}d.triggerEvent&&f[d.triggerFnName](d.event)}return f}}},kv={eventAliasesOn:function(i){var o=i;o.addListener=o.listen=o.bind=o.on,o.unlisten=o.unbind=o.off=o.removeListener,o.trigger=o.emit,o.pon=o.promiseOn=function(u,c){var d=this,f=Array.prototype.slice.call(arguments,0);return new er(function(g,m){var w=f.concat([function(C){d.off.apply(d,b),g(C)}]),b=w.concat([]);d.on.apply(d,w)})}}},Rt={};[{animated:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return!1;var f=c[0];return f?f._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return this;for(var f=0;f<c.length;f++)c[f]._private.animation.queue=[];return this}},delay:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animate({delay:o,duration:o,complete:u}):this}},delayAnimation:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animation({delay:o,duration:o,complete:u}):this}},animation:function(){return function(o,u){var c=this,d=void 0!==c.length,f=d?c:[c],g=this._private.cy||this,m=!d,v=!m;if(!g.styleEnabled())return this;var w=g.style();if(o=Ke({},o,u),0===Object.keys(o).length)return new el(f[0],o);switch(void 0===o.duration&&(o.duration=400),o.duration){case"slow":o.duration=600;break;case"fast":o.duration=200}if(v&&(o.style=w.getPropsList(o.style||o.css),o.css=void 0),v&&null!=o.renderedPosition){var E=o.renderedPosition,C=g.pan(),_=g.zoom();o.position=Qs(E,_,C)}if(m&&null!=o.panBy){var S=o.panBy,A=g.pan();o.pan={x:A.x+S.x,y:A.y+S.y}}var x=o.center||o.centre;if(m&&null!=x){var I=g.getCenterPan(x.eles,o.zoom);null!=I&&(o.pan=I)}if(m&&null!=o.fit){var P=o.fit,N=g.getFitViewport(P.eles||P.boundingBox,P.padding);null!=N&&(o.pan=N.pan,o.zoom=N.zoom)}if(m&&Le(o.zoom)){var B=g.getZoomedViewport(o.zoom);null!=B?(B.zoomed&&(o.zoom=B.zoom),B.panned&&(o.pan=B.pan)):o.zoom=null}return new el(f[0],o)}},animate:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;u&&(o=Ke({},o,u));for(var m=0;m<f.length;m++){var v=f[m],w=v.animated()&&(void 0===o.queue||o.queue);v.animation(o,w?{queue:!0}:void 0).play()}return this}},stop:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c],g=this._private.cy||this;if(!g.styleEnabled())return this;for(var m=0;m<f.length;m++){for(var w=f[m]._private,b=w.animation.current,E=0;E<b.length;E++)u&&(b[E]._private.duration=0);o&&(w.animation.queue=[]),u||(w.animation.current=[])}return g.notify("draw"),this}}},Nv,kv].forEach(function(s){Ke(Rt,s)});var Fv={animate:Rt.animate(),animation:Rt.animation(),animated:Rt.animated(),clearQueue:Rt.clearQueue(),delay:Rt.delay(),delayAnimation:Rt.delayAnimation(),stop:Rt.stop()},ps={classes:function(i){var o=this;if(void 0===i){var u=[];return o[0]._private.classes.forEach(function(_){return u.push(_)}),u}$e(i)||(i=(i||"").match(/\S+/g)||[]);for(var c=[],d=new Bi(i),f=0;f<o.length;f++){for(var g=o[f],m=g._private,v=m.classes,w=!1,b=0;b<i.length;b++)if(!v.has(i[b])){w=!0;break}w||(w=v.size!==i.length),w&&(m.classes=d,c.push(g))}return c.length>0&&this.spawn(c).updateStyle().emit("class"),o},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var o=this[0];return null!=o&&o._private.classes.has(i)},toggleClass:function(i,o){$e(i)||(i=i.match(/\S+/g)||[]);for(var u=this,c=void 0===o,d=[],f=0,g=u.length;f<g;f++)for(var m=u[f],v=m._private.classes,w=!1,b=0;b<i.length;b++){var E=i[b],C=v.has(E),_=!1;o||c&&!C?(v.add(E),_=!0):(!o||c&&C)&&(v.delete(E),_=!0),!w&&_&&(d.push(m),w=!0)}return d.length>0&&this.spawn(d).updateStyle().emit("class"),u},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,o){var u=this;if(null==o)o=250;else if(0===o)return u;return u.addClass(i),setTimeout(function(){u.removeClass(i)},o),u}};ps.className=ps.classNames=ps.classes;var Nt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:yn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Nt.variable="(?:[\\w-]|(?:\\\\"+Nt.metaChar+"))+",Nt.value=Nt.string+"|"+Nt.number,Nt.className=Nt.variable,Nt.id=Nt.variable,function(){var s,i,o;for(s=Nt.comparatorOp.split("|"),o=0;o<s.length;o++)Nt.comparatorOp+="|@"+(i=s[o]);for(s=Nt.comparatorOp.split("|"),o=0;o<s.length;o++)!((i=s[o]).indexOf("!")>=0)&&"="!==i&&(Nt.comparatorOp+="|\\!"+i)}();var Zc=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(s,i){return function(i,o){return-1*Sc(i,o)}(s.selector,i.selector)}),_n=function(){for(var i,s={},o=0;o<Zc.length;o++)s[(i=Zc[o]).selector]=i.matches;return s}(),mb="("+Zc.map(function(s){return s.selector}).join("|")+")",fa=function(i){return i.replace(new RegExp("\\\\("+Nt.metaChar+")","g"),function(o,u){return u})},Ln=function(i,o,u){i[i.length-1]=u},Xc=[{name:"group",query:!0,regex:"("+Nt.group+")",populate:function(i,o,u){var d=dn(u,1)[0];o.checks.push({type:0,value:"*"===d?d:d+"s"})}},{name:"state",query:!0,regex:mb,populate:function(i,o,u){var c=dn(u,1);o.checks.push({type:7,value:c[0]})}},{name:"id",query:!0,regex:"\\#("+Nt.id+")",populate:function(i,o,u){var c=dn(u,1);o.checks.push({type:8,value:fa(c[0])})}},{name:"className",query:!0,regex:"\\.("+Nt.className+")",populate:function(i,o,u){var c=dn(u,1);o.checks.push({type:9,value:fa(c[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Nt.variable+")\\s*\\]",populate:function(i,o,u){var c=dn(u,1);o.checks.push({type:4,field:fa(c[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Nt.variable+")\\s*("+Nt.comparatorOp+")\\s*("+Nt.value+")\\s*\\]",populate:function(i,o,u){var c=dn(u,3),d=c[0],f=c[1],g=c[2];g=null!=new RegExp("^"+Nt.string+"$").exec(g)?g.substring(1,g.length-1):parseFloat(g),o.checks.push({type:3,field:fa(d),operator:f,value:g})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Nt.boolOp+")\\s*("+Nt.variable+")\\s*\\]",populate:function(i,o,u){var c=dn(u,2),d=c[0];o.checks.push({type:5,field:fa(c[1]),operator:d})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Nt.meta+")\\s*("+Nt.comparatorOp+")\\s*("+Nt.number+")\\s*\\]\\]",populate:function(i,o,u){var c=dn(u,3),f=c[1],g=c[2];o.checks.push({type:6,field:fa(c[0]),operator:f,value:parseFloat(g)})}},{name:"nextQuery",separator:!0,regex:Nt.separator,populate:function(i,o){var u=i.currentSubject,c=i.edgeCount,d=i.compoundCount,f=i[i.length-1];return null!=u&&(f.subject=u,i.currentSubject=null),f.edgeCount=c,f.compoundCount=d,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Nt.directedEdge,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:11,source:o,target:d}),Ln(i,0,u),i.edgeCount++,d}var f={checks:[]},m={checks:[]};return f.checks.push({type:12,source:o,target:m}),Ln(i,0,f),i.edgeCount++,m}},{name:"undirectedEdge",separator:!0,regex:Nt.undirectedEdge,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:10,nodes:[o,d]}),Ln(i,0,u),i.edgeCount++,d}var f={checks:[]},m={checks:[]};return f.checks.push({type:14,node:o,neighbor:m}),Ln(i,0,f),m}},{name:"child",separator:!0,regex:Nt.child,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:15,parent:i[i.length-1],child:c}),Ln(i,0,u),i.compoundCount++,c}if(i.currentSubject===o){var f={checks:[]},m={checks:[]},v={checks:[]},w={checks:[]},b={checks:[]};return f.checks.push({type:19,left:i[i.length-1],right:m,subject:v}),v.checks=o.checks,o.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:17,parent:b,child:w}),Ln(i,0,f),i.currentSubject=v,i.compoundCount++,w}var E={checks:[]},C={checks:[]},_=[{type:17,parent:E,child:C}];return E.checks=o.checks,o.checks=_,i.compoundCount++,C}},{name:"descendant",separator:!0,regex:Nt.descendant,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:16,ancestor:i[i.length-1],descendant:c}),Ln(i,0,u),i.compoundCount++,c}if(i.currentSubject===o){var f={checks:[]},m={checks:[]},v={checks:[]},w={checks:[]},b={checks:[]};return f.checks.push({type:19,left:i[i.length-1],right:m,subject:v}),v.checks=o.checks,o.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:18,ancestor:b,descendant:w}),Ln(i,0,f),i.currentSubject=v,i.compoundCount++,w}var E={checks:[]},C={checks:[]},_=[{type:18,ancestor:E,descendant:C}];return E.checks=o.checks,o.checks=_,i.compoundCount++,C}},{name:"subject",modifier:!0,regex:Nt.subject,populate:function(i,o){if(null!=i.currentSubject&&i.currentSubject!==o)return Kt("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=o;var c=i[i.length-1].checks[0],d=null==c?null:c.type;11===d?c.type=13:10===d&&(c.type=14,c.node=c.nodes[1],c.neighbor=c.nodes[0],c.nodes=null)}}];Xc.forEach(function(s){return s.regexObj=new RegExp("^"+s.regex)});var Jc=function(i){for(var o,u,c,d=0;d<Xc.length;d++){var f=Xc[d],g=f.name,m=i.match(f.regexObj);if(null!=m){u=m,o=f,c=g,i=i.substring(m[0].length);break}}return{expr:o,match:u,name:c,remaining:i}},ed={parse:function(i){var o=this,u=o.inputText=i,c=o[0]={checks:[]};for(o.length=1,u=function(i){var o=i.match(/^\s+/);return o&&(i=i.substring(o[0].length)),i}(u);;){var d=Jc(u);if(null==d.expr)return Kt("The selector `"+i+"`is invalid"),!1;var f=d.match.slice(1),g=d.expr.populate(o,c,f);if(!1===g)return!1;if(null!=g&&(c=g),(u=d.remaining).match(/^\s*$/))break}var m=o[o.length-1];null!=o.currentSubject&&(m.subject=o.currentSubject),m.edgeCount=o.edgeCount,m.compoundCount=o.compoundCount;for(var v=0;v<o.length;v++){var w=o[v];if(w.compoundCount>0&&w.edgeCount>0)return Kt("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(w.edgeCount>1)return Kt("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===w.edgeCount&&Kt("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(w){return null==w?"":w},o=function(w){return le(w)?'"'+w+'"':i(w)},u=function(w){return" "+w+" "},d=function(w,b){return w.checks.reduce(function(E,C,_){return E+(b===w&&0===_?"$":"")+function(w,b){var C=w.value;switch(w.type){case 0:var _=i(C);return _.substring(0,_.length-1);case 3:return"["+w.field+u(i(w.operator))+o(C)+"]";case 5:var I=w.field;return"["+i(w.operator)+I+"]";case 4:return"["+w.field+"]";case 6:return"[["+w.field+u(i(w.operator))+o(C)+"]]";case 7:return C;case 8:return"#"+C;case 9:return"."+C;case 17:case 15:return d(w.parent,b)+u(">")+d(w.child,b);case 18:case 16:return d(w.ancestor,b)+" "+d(w.descendant,b);case 19:var z=d(w.left,b),R=d(w.subject,b),$=d(w.right,b);return z+(z.length>0?" ":"")+R+$;case 20:return""}}(C,b)},"")},f="",g=0;g<this.length;g++){var m=this[g];f+=d(m,m.subject),this.length>1&&g<this.length-1&&(f+=", ")}return this.toStringCache=f,f}},dh=function(i,o,u){var c,m,v,d=le(i),f=Ee(i),g=le(u),w=!1,b=!1,E=!1;switch(o.indexOf("!")>=0&&(o=o.replace("!",""),b=!0),o.indexOf("@")>=0&&(o=o.replace("@",""),w=!0),(d||g||w)&&(m=d||f?""+i:"",v=""+u),w&&(i=m=m.toLowerCase(),u=v=v.toLowerCase()),o){case"*=":c=m.indexOf(v)>=0;break;case"$=":c=m.indexOf(v,m.length-v.length)>=0;break;case"^=":c=0===m.indexOf(v);break;case"=":c=i===u;break;case">":E=!0,c=i>u;break;case">=":E=!0,c=i>=u;break;case"<":E=!0,c=i<u;break;case"<=":E=!0,c=i<=u;break;default:c=!1}return b&&(null!=i||!E)&&(c=!c),c},tl=function(i,o){return i.data(o)},un=[],nn=function(i,o){return i.checks.every(function(u){return un[u.type](u,o)})};un[0]=function(s,i){var o=s.value;return"*"===o||o===i.group()},un[7]=function(s,i){return function(i,o){return _n[i](o)}(s.value,i)},un[8]=function(s,i){var o=s.value;return i.id()===o},un[9]=function(s,i){return i.hasClass(s.value)},un[6]=function(s,i){var u=s.operator,c=s.value;return dh(function(i,o){return i[o]()}(i,s.field),u,c)},un[3]=function(s,i){var u=s.operator,c=s.value;return dh(tl(i,s.field),u,c)},un[5]=function(s,i){var u=s.operator;return function(i,o){switch(o){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(tl(i,s.field),u)},un[4]=function(s,i){return function(i){return void 0!==i}(tl(i,s.field))},un[10]=function(s,i){var o=s.nodes[0],u=s.nodes[1],c=i.source(),d=i.target();return nn(o,c)&&nn(u,d)||nn(u,c)&&nn(o,d)},un[14]=function(s,i){return nn(s.node,i)&&i.neighborhood().some(function(o){return o.isNode()&&nn(s.neighbor,o)})},un[11]=function(s,i){return nn(s.source,i.source())&&nn(s.target,i.target())},un[12]=function(s,i){return nn(s.source,i)&&i.outgoers().some(function(o){return o.isNode()&&nn(s.target,o)})},un[13]=function(s,i){return nn(s.target,i)&&i.incomers().some(function(o){return o.isNode()&&nn(s.source,o)})},un[15]=function(s,i){return nn(s.child,i)&&nn(s.parent,i.parent())},un[17]=function(s,i){return nn(s.parent,i)&&i.children().some(function(o){return nn(s.child,o)})},un[16]=function(s,i){return nn(s.descendant,i)&&i.ancestors().some(function(o){return nn(s.ancestor,o)})},un[18]=function(s,i){return nn(s.ancestor,i)&&i.descendants().some(function(o){return nn(s.descendant,o)})},un[19]=function(s,i){return nn(s.subject,i)&&nn(s.left,i)&&nn(s.right,i)},un[20]=function(){return!0},un[1]=function(s,i){return s.value.has(i)},un[2]=function(s,i){return(0,s.value)(i)};var Bv={matches:function(i){for(var u=0;u<this.length;u++)if(nn(this[u],i))return!0;return!1},filter:function(i){var o=this;if(1===o.length&&1===o[0].checks.length&&8===o[0].checks[0].type)return i.getElementById(o[0].checks[0].value).collection();var u=function(d){for(var f=0;f<o.length;f++)if(nn(o[f],d))return!0;return!1};return null==o.text()&&(u=function(){return!0}),i.filter(u)}},ha=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||le(i)&&i.match(/^\s*$/)||(Lt(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):He(i)?this.addQuery({checks:[{type:2,value:i}]}):le(i)?this.parse(i)||(this.invalid=!0):qt("A selector must be created from a string; found "))},Ra=ha.prototype;[ed,Bv].forEach(function(s){return Ke(Ra,s)}),Ra.text=function(){return this.inputText},Ra.size=function(){return this.length},Ra.eq=function(s){return this[s]},Ra.sameText=function(s){return!this.invalid&&!s.invalid&&this.text()===s.text()},Ra.addQuery=function(s){this[this.length++]=s},Ra.selector=Ra.toString;var Na={allAre:function(i){var o=new ha(i);return this.every(function(u){return o.matches(u)})},is:function(i){var o=new ha(i);return this.some(function(u){return o.matches(u)})},some:function(i,o){for(var u=0;u<this.length;u++)if(o?i.apply(o,[this[u],u,this]):i(this[u],u,this))return!0;return!1},every:function(i,o){for(var u=0;u<this.length;u++)if(!(o?i.apply(o,[this[u],u,this]):i(this[u],u,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var o=this.length;return o===i.length&&(1===o?this[0]===i[0]:this.every(function(c){return i.hasElementWithId(c.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(o){return i.hasElementWithId(o.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var o=this.neighborhood();return i.every(function(u){return o.hasElementWithId(u.id())})},contains:function(i){i=this.cy().collection(i);var o=this;return i.every(function(u){return o.hasElementWithId(u.id())})}};Na.allAreNeighbours=Na.allAreNeighbors,Na.has=Na.contains,Na.equal=Na.equals=Na.same;var pa,Ci,fe=function(i,o){return function(c,d,f,g){var w,m=c,v=this;if(null==m?w="":Lt(m)&&1===m.length&&(w=m.id()),1===v.length&&w){var b=v[0]._private,E=b.traversalCache=b.traversalCache||{},C=E[o]=E[o]||[],_=vo(w);return C[_]||(C[_]=i.call(v,c,d,f,g))}return i.call(v,c,d,f,g)}},vt={parent:function(i){var o=[];if(1===this.length){var u=this[0]._private.parent;if(u)return u}for(var c=0;c<this.length;c++){var f=this[c]._private.parent;f&&o.push(f)}return this.spawn(o,!0).filter(i)},parents:function(i){for(var o=[],u=this.parent();u.nonempty();){for(var c=0;c<u.length;c++)o.push(u[c]);u=u.parent()}return this.spawn(o,!0).filter(i)},commonAncestors:function(i){for(var o,u=0;u<this.length;u++){var d=this[u].parents();o=(o=o||d).intersect(d)}return o.filter(i)},orphans:function(i){return this.stdFilter(function(o){return o.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(o){return o.isChild()}).filter(i)},children:fe(function(s){for(var i=[],o=0;o<this.length;o++)for(var c=this[o]._private.children,d=0;d<c.length;d++)i.push(c[d]);return this.spawn(i,!0).filter(s)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var o=[];return function u(c){for(var d=0;d<c.length;d++){var f=c[d];o.push(f),f.children().nonempty()&&u(f.children())}}(this.children()),this.spawn(o,!0).filter(i)}};function pu(s,i,o,u){for(var c=[],d=new Bi,g=s.cy().hasCompoundNodes(),m=0;m<s.length;m++){var v=s[m];o?c.push(v):g&&u(c,d,v)}for(;c.length>0;){var w=c.shift();i(w),d.add(w.id()),g&&u(c,d,w)}return s}function td(s,i,o){if(o.isParent())for(var u=o._private.children,c=0;c<u.length;c++){var d=u[c];i.has(d.id())||s.push(d)}}function Sn(s,i,o){if(o.isChild()){var u=o._private.parent;i.has(u.id())||s.push(u)}}function hh(s,i,o){Sn(s,i,o),td(s,i,o)}vt.forEachDown=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pu(this,s,i,td)},vt.forEachUp=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pu(this,s,i,Sn)},vt.forEachUpAndDown=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pu(this,s,i,hh)},vt.ancestors=vt.parents,pa=Ci={data:Rt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Rt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Rt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Rt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Rt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Rt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},pa.attr=pa.data,pa.removeAttr=pa.removeData;var nd=Ci,vs={};function ph(s){return function(i){var o=this;if(void 0===i&&(i=!0),0===o.length);else if(o.isNode()&&!o.removed()){for(var u=0,c=o[0],d=c._private.edges,f=0;f<d.length;f++){var g=d[f];!i&&g.isLoop()||(u+=s(c,g))}return u}}}function ms(s,i){return function(o){for(var u,c=this.nodes(),d=0;d<c.length;d++){var g=c[d][s](o);void 0!==g&&(void 0===u||i(g,u))&&(u=g)}return u}}Ke(vs,{degree:ph(function(s,i){return i.source().same(i.target())?2:1}),indegree:ph(function(s,i){return i.target().same(s)?1:0}),outdegree:ph(function(s,i){return i.source().same(s)?1:0})}),Ke(vs,{minDegree:ms("degree",function(s,i){return s<i}),maxDegree:ms("degree",function(s,i){return s>i}),minIndegree:ms("indegree",function(s,i){return s<i}),maxIndegree:ms("indegree",function(s,i){return s>i}),minOutdegree:ms("outdegree",function(s,i){return s<i}),maxOutdegree:ms("outdegree",function(s,i){return s>i})}),Ke(vs,{totalDegree:function(i){for(var o=0,u=this.nodes(),c=0;c<u.length;c++)o+=u[c].degree(i);return o}});var Ui,nl,cr=function(i,o,u){for(var c=0;c<i.length;c++){var d=i[c];if(!d.locked()){var f=d._private.position,g={x:null!=o.x?o.x-f.x:0,y:null!=o.y?o.y-f.y:0};d.isParent()&&!(0===g.x&&0===g.y)&&d.children().shift(g,u),d.dirtyBoundingBoxCache()}}},ji={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,o){cr(i,o,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};Ui=nl={position:Rt.data(ji),silentPosition:Rt.data(Ke({},ji,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,o){cr(i,o,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,o){if(Le(i))o?this.silentPosition(i):this.position(i);else if(He(i)){var u=i,c=this.cy();c.startBatch();for(var d=0;d<this.length;d++){var g,f=this[d];(g=u(f,d))&&(o?f.silentPosition(g):f.position(g))}c.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,o,u){var c;if(Le(i)?(c={x:Ee(i.x)?i.x:0,y:Ee(i.y)?i.y:0},u=o):le(i)&&Ee(o)&&((c={x:0,y:0})[i]=o),null!=c){var d=this.cy();d.startBatch();for(var f=0;f<this.length;f++){var g=this[f],m=g.position(),v={x:m.x+c.x,y:m.y+c.y};u?g.silentPosition(v):g.position(v)}d.endBatch()}return this},silentShift:function(i,o){return Le(i)?this.shift(i,!0):le(i)&&Ee(o)&&this.shift(i,o,!0),this},renderedPosition:function(i,o){var u=this[0],c=this.cy(),d=c.zoom(),f=c.pan(),g=Le(i)?i:void 0,m=void 0!==g||void 0!==o&&le(i);if(u&&u.isNode()){if(!m){var b=u.position();return g=tu(b,d,f),void 0===i?g:g[i]}for(var v=0;v<this.length;v++){var w=this[v];void 0!==o?w.position(i,(o-f[i])/d):void 0!==g&&w.position(Qs(g,d,f))}}else if(!m)return;return this},relativePosition:function(i,o){var u=this[0],c=this.cy(),d=Le(i)?i:void 0,f=void 0!==d||void 0!==o&&le(i),g=c.hasCompoundNodes();if(u&&u.isNode()){if(!f){var _=u.position(),S=g?u.parent():null,A=S&&S.length>0;A&&(S=S[0]);var I=A?S.position():{x:0,y:0};return d={x:_.x-I.x,y:_.y-I.y},void 0===i?d:d[i]}for(var m=0;m<this.length;m++){var v=this[m],w=g?v.parent():null,b=w&&w.length>0;b&&(w=w[0]);var C=b?w.position():{x:0,y:0};void 0!==o?v.position(i,o+C[i]):void 0!==d&&v.position({x:d.x+C.x,y:d.y+C.y})}}else if(!f)return;return this}},Ui.modelPosition=Ui.point=Ui.position,Ui.modelPositions=Ui.points=Ui.positions,Ui.renderedPoint=Ui.renderedPosition,Ui.relativePoint=Ui.relativePosition;var _i,dr,gh=nl;_i=dr={},dr.renderedBoundingBox=function(s){var i=this.boundingBox(s),o=this.cy(),u=o.zoom(),c=o.pan(),d=i.x1*u+c.x,f=i.x2*u+c.x,g=i.y1*u+c.y,m=i.y2*u+c.y;return{x1:d,x2:f,y1:g,y2:m,w:f-d,h:m-g}},dr.dirtyCompoundBoundsCache=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(o){if(o.isParent()){var u=o._private;u.compoundBoundsClean=!1,u.bbCache=null,s||o.emitAndNotify("bounds")}}),this):this},dr.updateCompoundBounds=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!s&&i.batching())return this;function o(f){if(f.isParent()){var g=f._private,m=f.children(),v="include"===f.pstyle("compound-sizing-wrt-labels").value,w={width:{val:f.pstyle("min-width").pfValue,left:f.pstyle("min-width-bias-left"),right:f.pstyle("min-width-bias-right")},height:{val:f.pstyle("min-height").pfValue,top:f.pstyle("min-height-bias-top"),bottom:f.pstyle("min-height-bias-bottom")}},b=m.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),E=g.position;(0===b.w||0===b.h)&&((b={w:f.pstyle("width").pfValue,h:f.pstyle("height").pfValue}).x1=E.x-b.w/2,b.x2=E.x+b.w/2,b.y1=E.y-b.h/2,b.y2=E.y+b.h/2);var S=w.width.left.value;"px"===w.width.left.units&&w.width.val>0&&(S=100*S/w.width.val);var A=w.width.right.value;"px"===w.width.right.units&&w.width.val>0&&(A=100*A/w.width.val);var x=w.height.top.value;"px"===w.height.top.units&&w.height.val>0&&(x=100*x/w.height.val);var I=w.height.bottom.value;"px"===w.height.bottom.units&&w.height.val>0&&(I=100*I/w.height.val);var P=C(w.width.val-b.w,S,A),N=P.biasDiff,B=P.biasComplementDiff,z=C(w.height.val-b.h,x,I),R=z.biasDiff,$=z.biasComplementDiff;g.autoPadding=function _(F,j,U,L){if("%"!==U.units)return"px"===U.units?U.pfValue:0;switch(L){case"width":return F>0?U.pfValue*F:0;case"height":return j>0?U.pfValue*j:0;case"average":return F>0&&j>0?U.pfValue*(F+j)/2:0;case"min":return F>0&&j>0?F>j?U.pfValue*j:U.pfValue*F:0;case"max":return F>0&&j>0?F>j?U.pfValue*F:U.pfValue*j:0;default:return 0}}(b.w,b.h,f.pstyle("padding"),f.pstyle("padding-relative-to").value),g.autoWidth=Math.max(b.w,w.width.val),E.x=(-N+b.x1+b.x2+B)/2,g.autoHeight=Math.max(b.h,w.height.val),E.y=(-R+b.y1+b.y2+$)/2}function C(F,j,U){var L=0,q=0,V=j+U;return F>0&&V>0&&(L=j/V*F,q=U/V*F),{biasDiff:L,biasComplementDiff:q}}}for(var u=0;u<this.length;u++){var c=this[u],d=c._private;(!d.compoundBoundsClean||s)&&(o(c),i.batching()||(d.compoundBoundsClean=!0))}return this};var ri=function(i){return i===1/0||i===-1/0?0:i},ii=function(i,o,u,c,d){c-o==0||d-u==0||null==o||null==u||null==c||null==d||(i.x1=o<i.x1?o:i.x1,i.x2=c>i.x2?c:i.x2,i.y1=u<i.y1?u:i.y1,i.y2=d>i.y2?d:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},So=function(i,o){return null==o?i:ii(i,o.x1,o.y1,o.x2,o.y2)},rl=function(i,o,u){return vi(i,o,u)},ys=function(i,o,u){if(!o.cy().headless()){var m,v,c=o._private,d=c.rstyle,f=d.arrowWidth/2;if("none"!==o.pstyle(u+"-arrow-shape").value){"source"===u?(m=d.srcX,v=d.srcY):"target"===u?(m=d.tgtX,v=d.tgtY):(m=d.midX,v=d.midY);var w=c.arrowBounds=c.arrowBounds||{},b=w[u]=w[u]||{};b.x1=m-f,b.y1=v-f,b.x2=m+f,b.y2=v+f,b.w=b.x2-b.x1,b.h=b.y2-b.y1,ls(b,1),ii(i,b.x1,b.y1,b.x2,b.y2)}}},il=function(i,o,u){if(!o.cy().headless()){var c,d=o._private,f=d.rstyle;if(o.pstyle((c=u?u+"-":"")+"label").strValue){var U,L,q,V,m=o.pstyle("text-halign"),v=o.pstyle("text-valign"),w=rl(f,"labelWidth",u),b=rl(f,"labelHeight",u),E=rl(f,"labelX",u),C=rl(f,"labelY",u),_=o.pstyle(c+"text-margin-x").pfValue,S=o.pstyle(c+"text-margin-y").pfValue,A=o.isEdge(),x=o.pstyle(c+"text-rotation"),I=o.pstyle("text-outline-width").pfValue,N=o.pstyle("text-border-width").pfValue/2,B=o.pstyle("text-background-padding").pfValue,R=b,$=w,F=$/2,j=R/2;if(A)U=E-F,L=E+F,q=C-j,V=C+j;else{switch(m.value){case"left":U=E-$,L=E;break;case"center":U=E-F,L=E+F;break;case"right":U=E,L=E+$}switch(v.value){case"top":q=C-R,V=C;break;case"center":q=C-j,V=C+j;break;case"bottom":q=C,V=C+R}}U+=_-Math.max(I,N)-B-2,L+=_+Math.max(I,N)+B+2,q+=S-Math.max(I,N)-B-2,V+=S+Math.max(I,N)+B+2;var Y=u||"main",G=d.labelBounds,K=G[Y]=G[Y]||{};K.x1=U,K.y1=q,K.x2=L,K.y2=V,K.w=L-U,K.h=V-q;var X=A&&"autorotate"===x.strValue;if(X||null!=x.pfValue&&0!==x.pfValue){var oe=X?rl(d.rstyle,"labelAngle",u):x.pfValue,ee=Math.cos(oe),re=Math.sin(oe),he=(U+L)/2,ve=(q+V)/2;if(!A){switch(m.value){case"left":he=L;break;case"right":he=U}switch(v.value){case"top":ve=V;break;case"bottom":ve=q}}var pe=function(Ge,xe){return{x:(Ge-=he)*ee-(xe-=ve)*re+he,y:Ge*re+xe*ee+ve}},ue=pe(U,q),Q=pe(U,V),se=pe(L,q),ge=pe(L,V);U=Math.min(ue.x,Q.x,se.x,ge.x),L=Math.max(ue.x,Q.x,se.x,ge.x),q=Math.min(ue.y,Q.y,se.y,ge.y),V=Math.max(ue.y,Q.y,se.y,ge.y)}var Ce=Y+"Rot",Ae=G[Ce]=G[Ce]||{};Ae.x1=U,Ae.y1=q,Ae.x2=L,Ae.y2=V,Ae.w=L-U,Ae.h=V-q,ii(i,U,q,L,V),ii(d.labelBounds.all,U,q,L,V)}return i}},gu=function(i){var o=0,u=function(f){return(f?1:0)<<o++},c=0;return c+=u(i.incudeNodes),c+=u(i.includeEdges),c+=u(i.includeLabels),c+=u(i.includeMainLabels),c+=u(i.includeSourceLabels),(c+=u(i.includeTargetLabels))+u(i.includeOverlays)},mh=function(i){if(i.isEdge()){var o=i.source().position(),u=i.target().position(),c=function(f){return Math.round(f)};return function(i,o){var u={value:0,done:!1},c=0,d=i.length;return Ac({next:function(){return c<d?u.value=i[c++]:u.done=!0,u}},void 0)}([c(o.x),c(o.y),c(u.x),c(u.y)])}return 0},rd=function(i,o){var c,u=i._private,d=i.isEdge(),g=(null==o?id:gu(o))===id,m=mh(i),v=u.bbCachePosKey===m,w=o.useCache&&v,b=function(S){return null==S._private.bbCache||S._private.styleDirty};if(!w||b(i)||d&&b(i.source())||b(i.target())?(v||i.recalculateRenderedStyle(w),c=function(i,o){var w,b,E,C,_,S,u=i._private.cy,c=u.styleEnabled(),d=u.headless(),f=Or(),g=i._private,m=i.isNode(),v=i.isEdge(),A=g.rstyle,x=m&&c?i.pstyle("bounds-expansion").pfValue:[0],I=function(Ge){return"none"!==Ge.pstyle("display").value},P=!c||I(i)&&(!v||I(i.source())&&I(i.target()));if(P){var B=0;c&&o.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(B=i.pstyle("overlay-padding").value);var R=0;if(c&&(R=i.pstyle("width").pfValue/2),m&&o.includeNodes){var $=i.position();_=$.x,S=$.y;var j=i.outerWidth()/2,L=i.outerHeight()/2;ii(f,w=_-j,E=S-L,b=_+j,C=S+L)}else if(v&&o.includeEdges)if(c&&!d){var q=i.pstyle("curve-style").strValue;if(w=Math.min(A.srcX,A.midX,A.tgtX),b=Math.max(A.srcX,A.midX,A.tgtX),E=Math.min(A.srcY,A.midY,A.tgtY),C=Math.max(A.srcY,A.midY,A.tgtY),ii(f,w-=R,E-=R,b+=R,C+=R),"haystack"===q){var V=A.haystackPts;if(V&&2===V.length){if((w=V[0].x)>(b=V[1].x)){var Y=w;w=b,b=Y}if((E=V[0].y)>(C=V[1].y)){var G=E;E=C,C=G}ii(f,w-R,E-R,b+R,C+R)}}else if("bezier"===q||"unbundled-bezier"===q||"segments"===q||"taxi"===q){var K;switch(q){case"bezier":case"unbundled-bezier":K=A.bezierPts;break;case"segments":case"taxi":K=A.linePts}if(null!=K)for(var X=0;X<K.length;X++){var J=K[X];ii(f,w=J.x-R,E=J.y-R,b=J.x+R,C=J.y+R)}}}else{var ee=i.source().position(),he=i.target().position();if((w=ee.x)>(b=he.x)){var ve=w;w=b,b=ve}if((E=ee.y)>(C=he.y)){var pe=E;E=C,C=pe}ii(f,w-=R,E-=R,b+=R,C+=R)}if(c&&o.includeEdges&&v&&(ys(f,i,"mid-source"),ys(f,i,"mid-target"),ys(f,i,"source"),ys(f,i,"target")),c&&"yes"===i.pstyle("ghost").value){var Q=i.pstyle("ghost-offset-x").pfValue,se=i.pstyle("ghost-offset-y").pfValue;ii(f,f.x1+Q,f.y1+se,f.x2+Q,f.y2+se)}var ge=g.bodyBounds=g.bodyBounds||{};Jf(ge,f),ru(ge,x),ls(ge,1),c&&ii(f,(w=f.x1)-B,(E=f.y1)-B,(b=f.x2)+B,(C=f.y2)+B);var Ce=g.overlayBounds=g.overlayBounds||{};Jf(Ce,f),ru(Ce,x),ls(Ce,1);var Ae=g.labelBounds=g.labelBounds||{};null!=Ae.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(Ae.all):Ae.all=Or(),c&&o.includeLabels&&(o.includeMainLabels&&il(f,i,null),v&&(o.includeSourceLabels&&il(f,i,"source"),o.includeTargetLabels&&il(f,i,"target")))}return f.x1=ri(f.x1),f.y1=ri(f.y1),f.x2=ri(f.x2),f.y2=ri(f.y2),f.w=ri(f.x2-f.x1),f.h=ri(f.y2-f.y1),f.w>0&&f.h>0&&P&&(ru(f,x),ls(f,1)),f}(i,ka),u.bbCache=c,u.bbCachePosKey=m):c=u.bbCache,!g){var C=i.isNode();c=Or(),(o.includeNodes&&C||o.includeEdges&&!C)&&So(c,o.includeOverlays?u.overlayBounds:u.bodyBounds),o.includeLabels&&(o.includeMainLabels&&(!d||o.includeSourceLabels&&o.includeTargetLabels)?So(c,u.labelBounds.all):(o.includeMainLabels&&So(c,u.labelBounds.mainRot),o.includeSourceLabels&&So(c,u.labelBounds.sourceRot),o.includeTargetLabels&&So(c,u.labelBounds.targetRot))),c.w=c.x2-c.x1,c.h=c.y2-c.y1}return c},ka={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},id=gu(ka),ad=zn(ka);dr.boundingBox=function(s){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==s&&void 0!==s.useCache&&!0!==s.useCache){i=Or();var o=ad(s=s||ka),u=this;if(u.cy().styleEnabled())for(var f=0;f<u.length;f++){var g=u[f],m=g._private,v=mh(g);g.recalculateRenderedStyle(o.useCache&&m.bbCachePosKey===v&&!m.styleDirty)}this.updateCompoundBounds(!s.useCache);for(var E=0;E<u.length;E++)So(i,rd(u[E],o))}else s=void 0===s?ka:ad(s),i=rd(this[0],s);return i.x1=ri(i.x1),i.y1=ri(i.y1),i.x2=ri(i.x2),i.y2=ri(i.y2),i.w=ri(i.x2-i.x1),i.h=ri(i.y2-i.y1),i},dr.dirtyBoundingBoxCache=function(){for(var s=0;s<this.length;s++){var i=this[s]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},dr.boundingBoxAt=function(s){var i=this.nodes(),o=this.cy(),u=o.hasCompoundNodes(),c=o.collection();if(u&&(c=i.filter(function(v){return v.isParent()}),i=i.not(c)),Le(s)){var d=s;s=function(){return d}}o.startBatch(),i.forEach(function(w,b){return w._private.bbAtOldPos=s(w,b)}).silentPositions(s),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0));var m=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(w){return w._private.bbAtOldPos}),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0)),o.endBatch(),m},_i.boundingbox=_i.bb=_i.boundingBox,_i.renderedBoundingbox=_i.renderedBoundingBox;var ws,Fa,yh=dr;ws=Fa={};var wh=function(i){i.uppercaseName=ho(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=ho(i.outerName),ws[i.name]=function(){var u=this[0],c=u._private;if(u){if(c.cy._private.styleEnabled){if(u.isParent())return u.updateCompoundBounds(),c[i.autoName]||0;var g=u.pstyle(i.name);return"label"===g.strValue?(u.recalculateRenderedStyle(),c.rstyle[i.labelName]||0):g.pfValue}return 1}},ws["outer"+i.uppercaseName]=function(){var u=this[0];if(u)return u._private.cy._private.styleEnabled?u[i.name]()+u.pstyle("border-width").pfValue+2*u.padding():1},ws["rendered"+i.uppercaseName]=function(){var u=this[0];if(u)return u[i.name]()*this.cy().zoom()},ws["rendered"+i.uppercaseOuterName]=function(){var u=this[0];if(u)return u[i.outerName]()*this.cy().zoom()}};wh({name:"width"}),wh({name:"height"}),Fa.padding=function(){var s=this[0],i=s._private;return s.isParent()?(s.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:s.pstyle("padding").pfValue):s.pstyle("padding").pfValue},Fa.paddedHeight=function(){var s=this[0];return s.height()+2*s.padding()},Fa.paddedWidth=function(){var s=this[0];return s.width()+2*s.padding()};var $v=Fa,bh={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},mu=Object.keys(bh).reduce(function(s,i){var o=bh[i],u=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return s[i]=function(){return function(i,o){if(i.isEdge())return o(i)}(this,o.get)},s[u]=o.mult?function(){return function(i,o){if(i.isEdge()){var u=i.cy(),c=u.pan(),d=u.zoom();return o(i).map(function(f){return tu(f,d,c)})}}(this,o.get)}:function(){return function(i,o){if(i.isEdge()){var u=i.cy();return tu(o(i),u.zoom(),u.pan())}}(this,o.get)},s},{}),yu=Ke({},gh,yh,$v,mu),wu=function(i,o){this.recycle(i,o)};function bs(){return!1}function bu(){return!0}wu.prototype={instanceString:function(){return"event"},recycle:function(i,o){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=bs,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?bu:bs):null!=i&&i.type?o=i:this.type=i,null!=o&&(this.originalEvent=o.originalEvent,this.type=null!=o.type?o.type:this.type,this.cy=o.cy,this.target=o.target,this.position=o.position,this.renderedPosition=o.renderedPosition,this.namespace=o.namespace,this.layout=o.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var u=this.position,c=this.cy.zoom(),d=this.cy.pan();this.renderedPosition={x:u.x*c+d.x,y:u.y*c+d.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=bu;var i=this.originalEvent;!i||i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=bu;var i=this.originalEvent;!i||i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bu,this.stopPropagation()},isDefaultPrevented:bs,isPropagationStopped:bs,isImmediatePropagationStopped:bs};var ga=/^([^.]+)(\.(?:[^.]+))?$/,Dh={qualifierCompare:function(i,o){return i===o},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Eh=Object.keys(Dh),ol={};function Ds(){for(var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol,i=arguments.length>1?arguments[1]:void 0,o=0;o<Eh.length;o++){var u=Eh[o];this[u]=s[u]||Dh[u]}this.context=i||this.context,this.listeners=[],this.emitting=0}var La=Ds.prototype,Ch=function(i,o,u,c,d,f,g){He(c)&&(d=c,c=null),g&&(f=null==f?g:Ke({},f,g));for(var m=$e(u)?u:u.split(/\s+/),v=0;v<m.length;v++){var w=m[v];if(!kn(w)){var b=w.match(ga);if(b&&!1===o(i,w,b[1],b[2]?b[2]:null,c,d,f))break}}},Gv=function(i,o){return i.addEventFields(i.context,o),new wu(o.type,o)};La.on=La.addListener=function(s,i,o,u,c){return Ch(this,function(d,f,g,m,v,w,b){He(w)&&d.listeners.push({event:f,callback:w,type:g,namespace:m,qualifier:v,conf:b})},s,i,o,u,c),this},La.one=function(s,i,o,u){return this.on(s,i,o,u,{one:!0})},La.removeListener=La.off=function(s,i,o,u){var c=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var d=this.listeners,f=function(v){var w=d[v];Ch(c,function(b,E,C,_,S,A){if((w.type===C||"*"===s)&&(!_&&".*"!==w.namespace||w.namespace===_)&&(!S||b.qualifierCompare(w.qualifier,S))&&(!A||w.callback===A))return d.splice(v,1),!1},s,i,o,u)},g=d.length-1;g>=0;g--)f(g);return this},La.removeAllListeners=function(){return this.removeListener("*")},La.emit=La.trigger=function(s,i,o){var u=this.listeners,c=u.length;return this.emitting++,$e(i)||(i=[i]),function(i,o,u){if(function(i){return"event"===we(i)}(u))o(i,u);else if(Le(u))o(i,Gv(i,u));else for(var c=$e(u)?u:u.split(/\s+/),d=0;d<c.length;d++){var f=c[d];if(!kn(f)){var g=f.match(ga);g&&o(i,Gv(i,{type:g[1],namespace:g[2]?g[2]:null,target:i.context}))}}}(this,function(d,f){null!=o&&(c=(u=[{event:f.event,type:f.type,namespace:f.namespace,callback:o}]).length);for(var g=function(w){var b=u[w];if(b.type===f.type&&(!b.namespace||b.namespace===f.namespace||".*"===b.namespace)&&d.eventMatches(d.context,b,f)){var E=[f];null!=i&&function(i,o){for(var u=0;u<o.length;u++)i.push(o[u])}(E,i),d.beforeEmit(d.context,b,f),b.conf&&b.conf.one&&(d.listeners=d.listeners.filter(function(S){return S!==b}));var C=d.callbackContext(d.context,b,f),_=b.callback.apply(C,E);d.afterEmit(d.context,b,f),!1===_&&(f.stopPropagation(),f.preventDefault())}},m=0;m<c;m++)g(m);d.bubble(d.context)&&!f.isPropagationStopped()&&d.parent(d.context).emit(f,i)},s),this.emitting--,this};var Du={qualifierCompare:function(i,o){return null==i||null==o?null==i&&null==o:i.sameText(o)},eventMatches:function(i,o,u){var c=o.qualifier;return null==c||i!==u.target&&Vt(u.target)&&c.matches(u.target)},addEventFields:function(i,o){o.cy=i.cy(),o.target=i},callbackContext:function(i,o,u){return null!=o.qualifier?u.target:i},beforeEmit:function(i,o){o.conf&&o.conf.once&&o.conf.onceCollection.removeListener(o.event,o.qualifier,o.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},sl=function(i){return le(i)?new ha(i):i},Eu={createEmitter:function(){for(var i=0;i<this.length;i++){var o=this[i],u=o._private;u.emitter||(u.emitter=new Ds(Du,o))}return this},emitter:function(){return this._private.emitter},on:function(i,o,u){for(var c=sl(o),d=0;d<this.length;d++)this[d].emitter().on(i,c,u);return this},removeListener:function(i,o,u){for(var c=sl(o),d=0;d<this.length;d++)this[d].emitter().removeListener(i,c,u);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,o,u){for(var c=sl(o),d=0;d<this.length;d++)this[d].emitter().one(i,c,u);return this},once:function(i,o,u){for(var c=sl(o),d=0;d<this.length;d++)this[d].emitter().on(i,c,u,{once:!0,onceCollection:this})},emit:function(i,o){for(var u=0;u<this.length;u++)this[u].emitter().emit(i,o);return this},emitAndNotify:function(i,o){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,o),this}};Rt.eventAliasesOn(Eu);var ll={nodes:function(i){return this.filter(function(o){return o.isNode()}).filter(i)},edges:function(i){return this.filter(function(o){return o.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),o=this.spawn(),u=0;u<this.length;u++){var c=this[u];c.isNode()?i.push(c):o.push(c)}return{nodes:i,edges:o}},filter:function(i,o){if(void 0===i)return this;if(le(i)||Lt(i))return new ha(i).filter(this);if(He(i)){for(var u=this.spawn(),c=this,d=0;d<c.length;d++){var f=c[d];(o?i.apply(o,[f,d,c]):i(f,d,c))&&u.push(f)}return u}return this.spawn()},not:function(i){if(i){le(i)&&(i=this.filter(i));for(var o=this.spawn(),u=0;u<this.length;u++){var c=this[u];i.has(c)||o.push(c)}return o}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(le(i))return this.filter(i);for(var u=this.spawn(),f=this.length<i.length,g=f?this:i,m=f?i:this,v=0;v<g.length;v++){var w=g[v];m.has(w)&&u.push(w)}return u},xor:function(i){var o=this._private.cy;le(i)&&(i=o.$(i));var u=this.spawn(),d=i,f=function(m,v){for(var w=0;w<m.length;w++){var b=m[w];v.hasElementWithId(b._private.data.id)||u.push(b)}};return f(this,d),f(d,this),u},diff:function(i){var o=this._private.cy;le(i)&&(i=o.$(i));var u=this.spawn(),c=this.spawn(),d=this.spawn(),g=i,m=function(w,b,E){for(var C=0;C<w.length;C++){var _=w[C];b.hasElementWithId(_._private.data.id)?d.merge(_):E.push(_)}};return m(this,g,u),m(g,this,c),{left:u,right:c,both:d}},add:function(i){var o=this._private.cy;if(!i)return this;if(le(i)){var u=i;i=o.mutableElements().filter(u)}for(var c=this.spawnSelf(),d=0;d<i.length;d++){var f=i[d];!this.has(f)&&c.push(f)}return c},merge:function(i){var o=this._private,u=o.cy;if(!i)return this;if(i&&le(i)){var c=i;i=u.mutableElements().filter(c)}for(var d=o.map,f=0;f<i.length;f++){var g=i[f],m=g._private.data.id;if(!d.has(m)){var w=this.length++;this[w]=g,d.set(m,{ele:g,index:w})}}return this},unmergeAt:function(i){var u=this[i].id(),d=this._private.map;if(this[i]=void 0,d.delete(u),this.length>1&&i!==this.length-1){var g=this.length-1,m=this[g],v=m._private.data.id;this[g]=void 0,this[i]=m,d.set(v,{ele:m,index:i})}return this.length--,this},unmergeOne:function(i){var d=this._private.map.get((i=i[0])._private.data.id);return d?(this.unmergeAt(d.index),this):this},unmerge:function(i){var o=this._private.cy;if(!i)return this;if(i&&le(i)){var u=i;i=o.mutableElements().filter(u)}for(var c=0;c<i.length;c++)this.unmergeOne(i[c]);return this},unmergeBy:function(i){for(var o=this.length-1;o>=0;o--)i(this[o])&&this.unmergeAt(o);return this},map:function(i,o){for(var u=[],c=this,d=0;d<c.length;d++){var f=c[d],g=o?i.apply(o,[f,d,c]):i(f,d,c);u.push(g)}return u},reduce:function(i,o){for(var u=o,c=this,d=0;d<c.length;d++)u=i(u,c[d],d,c);return u},max:function(i,o){for(var c,u=-1/0,d=this,f=0;f<d.length;f++){var g=d[f],m=o?i.apply(o,[g,f,d]):i(g,f,d);m>u&&(u=m,c=g)}return{value:u,ele:c}},min:function(i,o){for(var c,u=1/0,d=this,f=0;f<d.length;f++){var g=d[f],m=o?i.apply(o,[g,f,d]):i(g,f,d);m<u&&(u=m,c=g)}return{value:u,ele:c}}},It=ll;It.u=It["|"]=It["+"]=It.union=It.or=It.add,It["\\"]=It["!"]=It["-"]=It.difference=It.relativeComplement=It.subtract=It.not,It.n=It["&"]=It["."]=It.and=It.intersection=It.intersect,It["^"]=It["(+)"]=It["(-)"]=It.symmetricDifference=It.symdiff=It.xor,It.fnFilter=It.filterFn=It.stdFilter=It.filter,It.complement=It.abscomp=It.absoluteComplement;var i,To=function(i,o){var c=i.cy().hasCompoundNodes();function d(w){var b=w.pstyle("z-compound-depth");return"auto"===b.value?c?w.zDepth():0:"bottom"===b.value?-1:"top"===b.value?xc:0}var f=d(i)-d(o);if(0!==f)return f;function g(w){return"auto"===w.pstyle("z-index-compare").value&&w.isNode()?1:0}var m=g(i)-g(o);if(0!==m)return m;var v=i.pstyle("z-index").value-o.pstyle("z-index").value;return 0!==v?v:i.poolIndex()-o.poolIndex()},Cu={forEach:function(i,o){if(He(i))for(var u=this.length,c=0;c<u;c++){var d=this[c];if(!1===(o?i.apply(o,[d,c,this]):i(d,c,this)))break}return this},toArray:function(){for(var i=[],o=0;o<this.length;o++)i.push(this[o]);return i},slice:function(i,o){var u=[],c=this.length;null==o&&(o=c),null==i&&(i=0),i<0&&(i=c+i),o<0&&(o=c+o);for(var d=i;d>=0&&d<o&&d<c;d++)u.push(this[d]);return this.spawn(u)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!He(i))return this;var o=this.toArray().sort(i);return this.spawn(o)},sortByZIndex:function(){return this.sort(To)},zDepth:function(){var i=this[0];if(i){var o=i._private;if("nodes"===o.group){var c=o.data.parent?i.parents().size():0;return i.isParent()?c:xc-1}var f=o.target,g=o.source.zDepth(),m=f.zDepth();return Math.max(g,m,0)}}};Cu.each=Cu.forEach,i="undefined",("undefined"==typeof Symbol?"undefined":yt(Symbol))!=i&&yt(Symbol.iterator)!=i&&(Cu[Symbol.iterator]=function(){var u=this,c={value:void 0,done:!1},d=0,f=this.length;return na({next:function(){return d<f?c.value=u[d++]:(c.value=void 0,c.done=!0),c}},Symbol.iterator,function(){return this})});var od=zn({nodeDimensionsIncludeLabels:!1}),Mo={layoutDimensions:function(i){var o;if(i=od(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var u=this.boundingBox();o={w:u.w,h:u.h}}else o={w:this.outerWidth(),h:this.outerHeight()};else o={w:0,h:0};return(0===o.w||0===o.h)&&(o.w=o.h=1),o},layoutPositions:function(i,o,u){var c=this.nodes().filter(function(B){return!B.isParent()}),d=this.cy(),f=o.eles,g=function(z){return z.id()},m=Pt(u,g);i.emit({type:"layoutstart",layout:i}),i.animations=[];var w=o.spacingFactor&&1!==o.spacingFactor,E=function(){if(!w)return null;for(var z=Or(),R=0;R<c.length;R++){var F=m(c[R],R);ei(z,F.x,F.y)}return z}(),C=Pt(function(B,z){var R=m(B,z);return w&&(R=function(z,R,$){var F_x=R.x1+R.w/2,F_y=R.y1+R.h/2;return{x:F_x+($.x-F_x)*z,y:F_y+($.y-F_y)*z}}(Math.abs(o.spacingFactor),E,R)),null!=o.transform&&(R=o.transform(B,R)),R},g);if(o.animate){for(var _=0;_<c.length;_++){var S=c[_],A=C(S,_);if(null==o.animateFilter||o.animateFilter(S,_)){var I=S.animation({position:A,duration:o.animationDuration,easing:o.animationEasing});i.animations.push(I)}else S.position(A)}if(o.fit){var P=d.animation({fit:{boundingBox:f.boundingBoxAt(C),padding:o.padding},duration:o.animationDuration,easing:o.animationEasing});i.animations.push(P)}else if(void 0!==o.zoom&&void 0!==o.pan){var N=d.animation({zoom:o.zoom,pan:o.pan,duration:o.animationDuration,easing:o.animationEasing});i.animations.push(N)}i.animations.forEach(function(B){return B.play()}),i.one("layoutready",o.ready),i.emit({type:"layoutready",layout:i}),er.all(i.animations.map(function(B){return B.promise()})).then(function(){i.one("layoutstop",o.stop),i.emit({type:"layoutstop",layout:i})})}else c.positions(C),o.fit&&d.fit(o.eles,o.padding),null!=o.zoom&&d.zoom(o.zoom),o.pan&&d.pan(o.pan),i.one("layoutready",o.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",o.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(Ke({},i,{eles:this}))}};function Wv(s,i,o){var d,u=o._private,c=u.styleCache=u.styleCache||[];return null!=(d=c[s])||(d=c[s]=i(o)),d}function ul(s,i){return s=vo(s),function(u){return Wv(s,i,u)}}function cl(s,i){s=vo(s);var o=function(c){return i.call(c)};return function(){var c=this[0];if(c)return Wv(s,o,c)}}Mo.createLayout=Mo.makeLayout=Mo.layout;var tr={recalculateRenderedStyle:function(i){var o=this.cy(),u=o.renderer(),c=o.styleEnabled();return u&&c&&u.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var u,i=this.cy(),o=function(d){return d._private.styleCache=null};return i.hasCompoundNodes()?((u=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(u.connectedEdges()),u.forEach(o)):this.forEach(function(c){o(c),c.connectedEdges().forEach(o)}),this},updateStyle:function(i){var o=this._private.cy;if(!o.styleEnabled())return this;if(o.batching())return o._private.batchStyleEles.merge(this),this;var d=this;i=!(!i&&void 0!==i),o.hasCompoundNodes()&&(d=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var f=d;return i?f.emitAndNotify("style"):f.emit("style"),d.forEach(function(g){return g._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var o=0;o<this.length;o++){var u=this[o];u._private.styleDirty&&(u._private.styleDirty=!1,i.style().apply(u))}},parsedStyle:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this[0],c=u.cy();if(c.styleEnabled()&&u){this.cleanStyle();var d=u._private.style[i];return null!=d?d:o?c.style().getDefaultProperty(i):null}},numericStyle:function(i){var o=this[0];if(o.cy().styleEnabled()&&o){var u=o.pstyle(i);return void 0!==u.pfValue?u.pfValue:u.value}},numericStyleUnits:function(i){var o=this[0];if(o.cy().styleEnabled()&&o)return o.pstyle(i).units},renderedStyle:function(i){var o=this.cy();if(!o.styleEnabled())return this;var u=this[0];return u?o.style().getRenderedStyle(u,i):void 0},style:function(i,o){var u=this.cy();if(!u.styleEnabled())return this;var d=u.style();if(Le(i))d.applyBypass(this,i,!1),this.emitAndNotify("style");else if(le(i)){if(void 0===o){var g=this[0];return g?d.getStylePropertyValue(g,i):void 0}d.applyBypass(this,i,o,!1),this.emitAndNotify("style")}else if(void 0===i){var m=this[0];return m?d.getRawStyle(m):void 0}return this},removeStyle:function(i){var o=this.cy();if(!o.styleEnabled())return this;var c=o.style(),d=this;if(void 0===i)for(var f=0;f<d.length;f++)c.removeAllBypasses(d[f],!1);else{i=i.split(/\s+/);for(var m=0;m<d.length;m++)c.removeBypasses(d[m],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var o=i.hasCompoundNodes(),u=this[0];if(u){var c=u._private,d=u.pstyle("opacity").value;if(!o)return d;var f=c.data.parent?u.parents():null;if(f)for(var g=0;g<f.length;g++)d*=f[g].pstyle("opacity").value;return d}},transparent:function(){if(!this.cy().styleEnabled())return!1;var o=this[0],u=o.cy().hasCompoundNodes();return o?u?0===o.effectiveOpacity():0===o.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ai(s,i){var u=s._private.data.parent?s.parents():null;if(u)for(var c=0;c<u.length;c++)if(!i(u[c]))return!1;return!0}function sd(s){var i=s.ok,o=s.edgeOkViaNode||s.ok,u=s.parentOk||s.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var d=this[0],f=c.hasCompoundNodes();if(d){var g=d._private;if(!i(d))return!1;if(d.isNode())return!f||ai(d,u);var m=g.source,v=g.target;return o(m)&&(!f||ai(m,o))&&(m===v||o(v)&&(!f||ai(v,o)))}}}var qi=ul("eleTakesUpSpace",function(s){return"element"===s.pstyle("display").value&&0!==s.width()&&(!s.isNode()||0!==s.height())});tr.takesUpSpace=cl("takesUpSpace",sd({ok:qi}));var ld=ul("eleInteractive",function(s){return"yes"===s.pstyle("events").value&&"visible"===s.pstyle("visibility").value&&qi(s)}),ud=ul("parentInteractive",function(s){return"visible"===s.pstyle("visibility").value&&qi(s)});tr.interactive=cl("interactive",sd({ok:ld,parentOk:ud,edgeOkViaNode:qi})),tr.noninteractive=function(){var s=this[0];if(s)return!s.interactive()};var _u=ul("eleVisible",function(s){return"visible"===s.pstyle("visibility").value&&0!==s.pstyle("opacity").pfValue&&qi(s)});tr.visible=cl("visible",sd({ok:_u,edgeOkViaNode:qi})),tr.hidden=function(){var s=this[0];if(s)return!s.visible()},tr.isBundledBezier=cl("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),tr.bypass=tr.css=tr.style,tr.renderedCss=tr.renderedStyle,tr.removeBypass=tr.removeCss=tr.removeStyle,tr.pstyle=tr.parsedStyle;var Va={};function cd(s){return function(){var i=arguments,o=[];if(2===i.length){var u=i[0],c=i[1];this.on(s.event,u,c)}else if(1===i.length&&He(i[0])){var d=i[0];this.on(s.event,d)}else if(0===i.length||1===i.length&&$e(i[0])){for(var f=1===i.length?i[0]:null,g=0;g<this.length;g++){var m=this[g],v=!s.ableField||m._private[s.ableField],w=m._private[s.field]!=s.value;if(s.overrideAble){var b=s.overrideAble(m);if(void 0!==b&&(v=b,!b))return this}v&&(m._private[s.field]=s.value,w&&o.push(m))}var E=this.spawn(o);E.updateStyle(),E.emit(s.event),f&&E.emit(f)}return this}}function Ao(s){Va[s.field]=function(){var i=this[0];if(i){if(s.overrideField){var o=s.overrideField(i);if(void 0!==o)return o}return i._private[s.field]}},Va[s.on]=cd({event:s.on,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!0}),Va[s.off]=cd({event:s.off,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!1})}Ao({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ao({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ao({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ao({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Va.deselect=Va.unselect,Va.grabbed=function(){var s=this[0];if(s)return s._private.grabbed},Ao({field:"active",on:"activate",off:"unactivate"}),Ao({field:"pannable",on:"panify",off:"unpanify"}),Va.inactive=function(){var s=this[0];if(s)return!s._private.active};var nr={},dd=function(i){return function(u){for(var d=[],f=0;f<this.length;f++){var g=this[f];if(g.isNode()){for(var m=!1,v=g.connectedEdges(),w=0;w<v.length;w++){var b=v[w],E=b.source(),C=b.target();if(i.noIncomingEdges&&C===g&&E!==g||i.noOutgoingEdges&&E===g&&C!==g){m=!0;break}}m||d.push(g)}}return this.spawn(d,!0).filter(u)}},Sh=function(i){return function(o){for(var c=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var g=f.connectedEdges(),m=0;m<g.length;m++){var v=g[m],w=v.source(),b=v.target();i.outgoing&&w===f?(c.push(v),c.push(b)):i.incoming&&b===f&&(c.push(v),c.push(w))}}return this.spawn(c,!0).filter(o)}},dl=function(i){return function(o){for(var u=this,c=[],d={};;){var f=i.outgoing?u.outgoers():u.incomers();if(0===f.length)break;for(var g=!1,m=0;m<f.length;m++){var v=f[m],w=v.id();d[w]||(d[w]=!0,c.push(v),g=!0)}if(!g)break;u=f}return this.spawn(c,!0).filter(o)}};function Cs(s){return function(o){for(var u=[],c=0;c<this.length;c++){var f=this[c]._private[s.attr];f&&u.push(f)}return this.spawn(u,!0).filter(o)}}function Th(s){return function(o){var u=[],c=this._private.cy,d=s||{};le(o)&&(o=c.$(o));for(var f=0;f<o.length;f++)for(var g=o[f]._private.edges,m=0;m<g.length;m++){var v=g[m],w=v._private.data,b=this.hasElementWithId(w.source)&&o.hasElementWithId(w.target),E=o.hasElementWithId(w.source)&&this.hasElementWithId(w.target);!b&&!E||(d.thisIsSrc||d.thisIsTgt)&&(d.thisIsSrc&&!b||d.thisIsTgt&&!E)||u.push(v)}return this.spawn(u,!0)}}function fd(s){return s=Ke({},{codirected:!1},s),function(u){for(var c=[],d=this.edges(),f=s,g=0;g<d.length;g++)for(var v=d[g]._private,w=v.source,b=w._private.data.id,E=v.data.target,C=w._private.edges,_=0;_<C.length;_++){var S=C[_],A=S._private.data,x=A.target,I=A.source,P=x===E&&I===b;(f.codirected&&P||!f.codirected&&(P||b===x&&E===I))&&c.push(S)}return this.spawn(c,!0).filter(u)}}nr.clearTraversalCache=function(){for(var s=0;s<this.length;s++)this[s]._private.traversalCache=null},Ke(nr,{roots:dd({noIncomingEdges:!0}),leaves:dd({noOutgoingEdges:!0}),outgoers:fe(Sh({outgoing:!0}),"outgoers"),successors:dl({outgoing:!0}),incomers:fe(Sh({incoming:!0}),"incomers"),predecessors:dl({incoming:!0})}),Ke(nr,{neighborhood:fe(function(s){for(var i=[],o=this.nodes(),u=0;u<o.length;u++)for(var c=o[u],d=c.connectedEdges(),f=0;f<d.length;f++){var g=d[f],m=g.source(),v=g.target(),w=c===m?v:m;w.length>0&&i.push(w[0]),i.push(g[0])}return this.spawn(i,!0).filter(s)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),nr.neighbourhood=nr.neighborhood,nr.closedNeighbourhood=nr.closedNeighborhood,nr.openNeighbourhood=nr.openNeighborhood,Ke(nr,{source:fe(function(i){var u,o=this[0];return o&&(u=o._private.source||o.cy().collection()),u&&i?u.filter(i):u},"source"),target:fe(function(i){var u,o=this[0];return o&&(u=o._private.target||o.cy().collection()),u&&i?u.filter(i):u},"target"),sources:Cs({attr:"source"}),targets:Cs({attr:"target"})}),Ke(nr,{edgesWith:fe(Th(),"edgesWith"),edgesTo:fe(Th({thisIsSrc:!0}),"edgesTo")}),Ke(nr,{connectedEdges:fe(function(s){for(var i=[],u=0;u<this.length;u++){var c=this[u];if(c.isNode())for(var d=c._private.edges,f=0;f<d.length;f++)i.push(d[f])}return this.spawn(i,!0).filter(s)},"connectedEdges"),connectedNodes:fe(function(s){for(var i=[],u=0;u<this.length;u++){var c=this[u];!c.isEdge()||(i.push(c.source()[0]),i.push(c.target()[0]))}return this.spawn(i,!0).filter(s)},"connectedNodes"),parallelEdges:fe(fd(),"parallelEdges"),codirectedEdges:fe(fd({codirected:!0}),"codirectedEdges")}),Ke(nr,{components:function(i){var o=this,u=o.cy(),c=u.collection(),d=null==i?o.nodes():i.nodes(),f=[];null!=i&&d.empty()&&(d=i.sources());var g=function(w,b){c.merge(w),d.unmerge(w),b.merge(w)};if(d.empty())return o.spawn();var m=function(){var w=u.collection();f.push(w);var b=d[0];g(b,w),o.bfs({directed:!1,roots:b,visit:function(C){return g(C,w)}}),w.forEach(function(E){E.connectedEdges().forEach(function(C){o.has(C)&&w.has(C.source())&&w.has(C.target())&&w.merge(C)})})};do{m()}while(d.length>0);return f},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),nr.componentsOf=nr.components;var qn=function(i,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==i){var c=new Vi,d=!1;if(o){if(o.length>0&&Le(o[0])&&!Vt(o[0])){d=!0;for(var f=[],g=new Bi,m=0,v=o.length;m<v;m++){var w=o[m];null==w.data&&(w.data={});var b=w.data;if(null==b.id)b.id=os();else if(i.hasElementWithId(b.id)||g.has(b.id))continue;var E=new Xl(i,w,!1);f.push(E),g.add(b.id)}o=f}}else o=[];this.length=0;for(var C=0,_=o.length;C<_;C++){var S=o[C][0];if(null!=S){var A=S._private.data.id;(!u||!c.has(A))&&(u&&c.set(A,{index:this.length,ele:S}),this[this.length]=S,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(x){this.lazyMap=x},rebuildMap:function(){for(var I=this.lazyMap=new Vi,P=this.eles,N=0;N<P.length;N++){var B=P[N];I.set(B.id(),{index:N,ele:B})}}},u&&(this._private.map=c),d&&this.restore()}else qt("A collection must have a reference to the core")},$t=Xl.prototype=qn.prototype=Object.create(Array.prototype);$t.instanceString=function(){return"collection"},$t.spawn=function(s,i){return new qn(this.cy(),s,i)},$t.spawnSelf=function(){return this.spawn(this)},$t.cy=function(){return this._private.cy},$t.renderer=function(){return this._private.cy.renderer()},$t.element=function(){return this[0]},$t.collection=function(){return aa(this)?this:new qn(this._private.cy,[this])},$t.unique=function(){return new qn(this._private.cy,this,!0)},$t.hasElementWithId=function(s){return this._private.map.has(s=""+s)},$t.getElementById=function(s){var i=this._private.cy,o=this._private.map.get(s=""+s);return o?o.ele:new qn(i)},$t.$id=$t.getElementById,$t.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},$t.indexOf=function(s){return this._private.map.get(s[0]._private.data.id).index},$t.indexOfId=function(s){return this._private.map.get(s=""+s).index},$t.json=function(s){var i=this.element(),o=this.cy();if(null==i&&s)return this;if(null!=i){var u=i._private;if(Le(s)){if(o.startBatch(),s.data){i.data(s.data);var c=u.data;if(i.isEdge()){var d=!1,f={},g=s.data.source,m=s.data.target;null!=g&&g!=c.source&&(f.source=""+g,d=!0),null!=m&&m!=c.target&&(f.target=""+m,d=!0),d&&(i=i.move(f))}else{var w=s.data.parent;"parent"in s.data&&(null!=w||null!=c.parent)&&w!=c.parent&&(void 0===w&&(w=null),null!=w&&(w=""+w),i=i.move({parent:w}))}}s.position&&i.position(s.position);var b=function(S,A,x){var I=s[S];null!=I&&I!==u[S]&&(I?i[A]():i[x]())};return b("removed","remove","restore"),b("selected","select","unselect"),b("selectable","selectify","unselectify"),b("locked","lock","unlock"),b("grabbable","grabify","ungrabify"),b("pannable","panify","unpanify"),null!=s.classes&&i.classes(s.classes),o.endBatch(),this}if(void 0===s){var E={data:Jr(u.data),position:Jr(u.position),group:u.group,removed:u.removed,selected:u.selected,selectable:u.selectable,locked:u.locked,grabbable:u.grabbable,pannable:u.pannable,classes:""},C=0;return u.classes.forEach(function(_){return E.classes+=0==C++?_:" "+_}),E}}},$t.jsons=function(){for(var s=[],i=0;i<this.length;i++){var u=this[i].json();s.push(u)}return s},$t.clone=function(){for(var s=this.cy(),i=[],o=0;o<this.length;o++){var c=this[o].json(),d=new Xl(s,c,!1);i.push(d)}return new qn(s,i)},$t.copy=$t.clone,$t.restore=function(){for(var g,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=o.cy(),c=u._private,d=[],f=[],m=0,v=o.length;m<v;m++){var w=o[m];i&&!w.removed()||(w.isNode()?d.push(w):f.push(w))}g=d.concat(f);var b,E=function(){g.splice(b,1),b--};for(b=0;b<g.length;b++){var C=g[b],_=C._private,S=_.data;if(C.clearTraversalCache(),i||_.removed)if(void 0===S.id)S.id=os();else if(Ee(S.id))S.id=""+S.id;else{if(kn(S.id)||!le(S.id)){qt("Can not create element with invalid string ID `"+S.id+"`"),E();continue}if(u.hasElementWithId(S.id)){qt("Can not create second element with ID `"+S.id+"`"),E();continue}}var A=S.id;if(C.isNode()){var x=_.position;null==x.x&&(x.x=0),null==x.y&&(x.y=0)}if(C.isEdge()){for(var I=C,P=["source","target"],N=P.length,B=!1,z=0;z<N;z++){var R=P[z],$=S[R];Ee($)&&($=S[R]=""+S[R]),null==$||""===$?(qt("Can not create edge `"+A+"` with unspecified "+R),B=!0):u.hasElementWithId($)||(qt("Can not create edge `"+A+"` with nonexistant "+R+" `"+$+"`"),B=!0)}if(B){E();continue}var F=u.getElementById(S.source),j=u.getElementById(S.target);F.same(j)?F._private.edges.push(I):(F._private.edges.push(I),j._private.edges.push(I)),I._private.source=F,I._private.target=j}_.map=new Vi,_.map.set(A,{ele:C,index:0}),_.removed=!1,i&&u.addToPool(C)}for(var U=0;U<d.length;U++){var L=d[U],q=L._private.data;Ee(q.parent)&&(q.parent=""+q.parent);var V=q.parent,Y=null!=V;if(Y){var G=u.getElementById(V);if(G.empty())q.parent=void 0;else{for(var K=!1,X=G;!X.empty();){if(L.same(X)){K=!0,q.parent=void 0;break}X=X.parent()}K||(G[0]._private.children.push(L),L._private.parent=G[0],c.hasCompoundNodes=!0)}}}if(g.length>0){for(var J=g.length===o.length?o:new qn(u,g),oe=0;oe<J.length;oe++){var ee=J[oe];ee.isNode()||(ee.parallelEdges().clearTraversalCache(),ee.source().clearTraversalCache(),ee.target().clearTraversalCache())}(c.hasCompoundNodes?u.collection().merge(J).merge(J.connectedNodes()).merge(J.parent()):J).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(s),s?J.emitAndNotify("add"):i&&J.emit("add")}return o},$t.removed=function(){var s=this[0];return s&&s._private.removed},$t.inside=function(){var s=this[0];return s&&!s._private.removed},$t.remove=function(){var s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=[],c={},d=o._private.cy;function f(V){for(var Y=V._private.edges,G=0;G<Y.length;G++)m(Y[G])}function g(V){for(var Y=V._private.children,G=0;G<Y.length;G++)m(Y[G])}function m(V){var Y=c[V.id()];i&&V.removed()||Y||(c[V.id()]=!0,V.isNode()?(u.push(V),f(V),g(V)):u.unshift(V))}for(var v=0,w=o.length;v<w;v++){var b=o[v];m(b)}function E(V,Y){Aa(V._private.edges,Y),V.clearTraversalCache()}function C(V){V.clearTraversalCache()}var _=[];function S(V,Y){Y=Y[0];var G=(V=V[0])._private.children,K=V.id();Aa(G,Y),Y._private.parent=null,_.ids[K]||(_.ids[K]=!0,_.push(V))}_.ids={},o.dirtyCompoundBoundsCache(),i&&d.removeFromPool(u);for(var A=0;A<u.length;A++){var x=u[A];if(x.isEdge()){var I=x.source()[0],P=x.target()[0];E(I,x),E(P,x);for(var N=x.parallelEdges(),B=0;B<N.length;B++){var z=N[B];C(z),z.isBundledBezier()&&z.dirtyBoundingBoxCache()}}else{var R=x.parent();0!==R.length&&S(R,x)}i&&(x._private.removed=!0)}var $=d._private.elements;d._private.hasCompoundNodes=!1;for(var F=0;F<$.length;F++){var j=$[F];if(j.isParent()){d._private.hasCompoundNodes=!0;break}}var U=new qn(this.cy(),u);U.size()>0&&(s?U.emitAndNotify("remove"):i&&U.emit("remove"));for(var L=0;L<_.length;L++){var q=_[L];(!i||!q.removed())&&q.updateStyle()}return U},$t.move=function(s){var i=this._private.cy,o=this,u=!1,c=!1,d=function(_){return null==_?_:""+_};if(void 0!==s.source||void 0!==s.target){var f=d(s.source),g=d(s.target),m=null!=f&&i.hasElementWithId(f),v=null!=g&&i.hasElementWithId(g);(m||v)&&(i.batch(function(){o.remove(u,c),o.emitAndNotify("moveout");for(var C=0;C<o.length;C++){var _=o[C],S=_._private.data;_.isEdge()&&(m&&(S.source=f),v&&(S.target=g))}o.restore(u,c)}),o.emitAndNotify("move"))}else if(void 0!==s.parent){var w=d(s.parent);if(null===w||i.hasElementWithId(w)){var E=null===w?void 0:w;i.batch(function(){var C=o.remove(u,c);C.emitAndNotify("moveout");for(var _=0;_<o.length;_++){var S=o[_],A=S._private.data;S.isNode()&&(A.parent=E)}C.restore(u,c)}),o.emitAndNotify("move")}}return this},[sh,Fv,ps,Na,vt,nd,vs,yu,Eu,ll,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},Cu,Mo,tr,Va,nr].forEach(function(s){Ke($t,s)});var Kv={add:function(i){var o,u=this;if(Lt(i)){var c=i;if(c._private.cy===u)o=c.restore();else{for(var d=[],f=0;f<c.length;f++)d.push(c[f].json());o=new qn(u,d)}}else if($e(i))o=new qn(u,i);else if(Le(i)&&($e(i.nodes)||$e(i.edges))){for(var v=i,w=[],b=["nodes","edges"],E=0,C=b.length;E<C;E++){var _=b[E],S=v[_];if($e(S))for(var A=0,x=S.length;A<x;A++){var I=Ke({group:_},S[A]);w.push(I)}}o=new qn(u,w)}else o=new Xl(u,i).collection();return o},remove:function(i){return Lt(i)||le(i)&&(i=this.$(i)),i.remove()}},hd=function(){function s(u){return-u.tension*u.x-u.friction*u.v}function i(u,c,d){var f={x:u.x+d.dx*c,v:u.v+d.dv*c,tension:u.tension,friction:u.friction};return{dx:f.v,dv:s(f)}}function o(u,c){var d={dx:u.v,dv:s(u)},f=i(u,.5*c,d),g=i(u,.5*c,f),m=i(u,c,g),w=1/6*(d.dv+2*(f.dv+g.dv)+m.dv);return u.x=u.x+1/6*(d.dx+2*(f.dx+g.dx)+m.dx)*c,u.v=u.v+w*c,u}return function u(c,d,f){var E,C,_,g={x:-1,v:0,tension:null,friction:null},m=[0],v=0,w=1e-4;for(c=parseFloat(c)||500,d=parseFloat(d)||20,f=f||null,g.tension=c,g.friction=d,C=(E=null!==f)?(v=u(c,d))/f*.016:.016;_=o(_||g,C),m.push(1+_.x),v+=16,Math.abs(_.x)>w&&Math.abs(_.v)>w;);return E?function(S){return m[S*(m.length-1)|0]}:v}}(),en=function(i,o,u,c){var d=function fr(s,i,o,u){var c=4,d=.001,f=1e-7,g=10,m=11,v=1/(m-1),w="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var b=0;b<4;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;s=Math.min(s,1),o=Math.min(o,1),s=Math.max(s,0),o=Math.max(o,0);var E=w?new Float32Array(m):new Array(m);function C(j,U){return 1-3*U+3*j}function _(j,U){return 3*U-6*j}function S(j){return 3*j}function A(j,U,L){return((C(U,L)*j+_(U,L))*j+S(U))*j}function x(j,U,L){return 3*C(U,L)*j*j+2*_(U,L)*j+S(U)}function I(j,U){for(var L=0;L<c;++L){var q=x(U,s,o);if(0===q)return U;U-=(A(U,s,o)-j)/q}return U}function P(){for(var j=0;j<m;++j)E[j]=A(j*v,s,o)}function N(j,U,L){var q,V,Y=0;do{(q=A(V=U+(L-U)/2,s,o)-j)>0?L=V:U=V}while(Math.abs(q)>f&&++Y<g);return V}function B(j){for(var U=0,L=1,q=m-1;L!==q&&E[L]<=j;++L)U+=v;--L;var Y=U+(j-E[L])/(E[L+1]-E[L])*v,G=x(Y,s,o);return G>=d?I(j,Y):0===G?Y:N(j,U,U+v)}var z=!1;function R(){z=!0,(s!==i||o!==u)&&P()}var $=function(U){return z||R(),s===i&&o===u?U:0===U?0:1===U?1:A(B(U),i,u)};$.getControlPoints=function(){return[{x:s,y:i},{x:o,y:u}]};var F="generateBezier("+[s,i,o,u]+")";return $.toString=function(){return F},$}(i,o,u,c);return function(f,g,m){return f+(g-f)*d(m)}},fl={linear:function(i,o,u){return i+(o-i)*u},ease:en(.25,.1,.25,1),"ease-in":en(.42,0,1,1),"ease-out":en(0,0,.58,1),"ease-in-out":en(.42,0,.58,1),"ease-in-sine":en(.47,0,.745,.715),"ease-out-sine":en(.39,.575,.565,1),"ease-in-out-sine":en(.445,.05,.55,.95),"ease-in-quad":en(.55,.085,.68,.53),"ease-out-quad":en(.25,.46,.45,.94),"ease-in-out-quad":en(.455,.03,.515,.955),"ease-in-cubic":en(.55,.055,.675,.19),"ease-out-cubic":en(.215,.61,.355,1),"ease-in-out-cubic":en(.645,.045,.355,1),"ease-in-quart":en(.895,.03,.685,.22),"ease-out-quart":en(.165,.84,.44,1),"ease-in-out-quart":en(.77,0,.175,1),"ease-in-quint":en(.755,.05,.855,.06),"ease-out-quint":en(.23,1,.32,1),"ease-in-out-quint":en(.86,0,.07,1),"ease-in-expo":en(.95,.05,.795,.035),"ease-out-expo":en(.19,1,.22,1),"ease-in-out-expo":en(1,0,0,1),"ease-in-circ":en(.6,.04,.98,.335),"ease-out-circ":en(.075,.82,.165,1),"ease-in-out-circ":en(.785,.135,.15,.86),spring:function(i,o,u){if(0===u)return fl.linear;var c=hd(i,o,u);return function(d,f,g){return d+(f-d)*c(g)}},"cubic-bezier":en};function _s(s,i,o,u,c){if(1===u||i===o)return o;var d=c(i,o,u);return null==s||((s.roundValue||s.color)&&(d=Math.round(d)),void 0!==s.min&&(d=Math.max(d,s.min)),void 0!==s.max&&(d=Math.min(d,s.max))),d}function xo(s,i){return null!=s.pfValue||null!=s.value?null==s.pfValue||null!=i&&"%"===i.type.units?s.value:s.pfValue:s}function Si(s,i,o,u,c){var d=null!=c?c.type:null;o<0?o=0:o>1&&(o=1);var f=xo(s,c),g=xo(i,c);if(Ee(f)&&Ee(g))return _s(d,f,g,o,u);if($e(f)&&$e(g)){for(var m=[],v=0;v<g.length;v++){var w=f[v],b=g[v];if(null!=w&&null!=b){var E=_s(d,w,b,o,u);m.push(E)}else m.push(b)}return m}}function Ss(s,i,o,u){var c=!u,d=s._private,f=i._private,g=f.easing,m=f.startTime,w=(u?s:s.cy()).style();if(!f.easingImpl)if(null==g)f.easingImpl=fl.linear;else{var b,C,_;b=le(g)?w.parse("transition-timing-function",g).value:g,le(b)?(C=b,_=[]):(C=b[1],_=b.slice(2).map(function(J){return+J})),_.length>0?("spring"===C&&_.push(f.duration),f.easingImpl=fl[C].apply(null,_)):f.easingImpl=fl[C]}var A,S=f.easingImpl;if(A=0===f.duration?1:(o-m)/f.duration,f.applying&&(A=f.progress),A<0?A=0:A>1&&(A=1),null==f.delay){var x=f.startPosition,I=f.position;if(I&&c&&!s.locked()){var P={};Ts(x.x,I.x)&&(P.x=Si(x.x,I.x,A,S)),Ts(x.y,I.y)&&(P.y=Si(x.y,I.y,A,S)),s.position(P)}var N=f.startPan,B=f.pan,z=d.pan,R=null!=B&&u;R&&(Ts(N.x,B.x)&&(z.x=Si(N.x,B.x,A,S)),Ts(N.y,B.y)&&(z.y=Si(N.y,B.y,A,S)),s.emit("pan"));var $=f.startZoom,F=f.zoom,j=null!=F&&u;j&&(Ts($,F)&&(d.zoom=nu(d.minZoom,Si($,F,A,S),d.maxZoom)),s.emit("zoom")),(R||j)&&s.emit("viewport");var U=f.style;if(U&&U.length>0&&c){for(var L=0;L<U.length;L++){var q=U[L],V=q.name,G=f.startStyle[V],X=Si(G,q,A,S,w.properties[G.name]);w.overrideBypass(s,V,X)}s.emit("style")}}return f.progress=A,A}function Ts(s,i){return!!(null!=s&&null!=i&&(Ee(s)&&Ee(i)||s&&i))}function pd(s,i,o,u){var c=i._private;c.started=!0,c.startTime=o-c.progress*c.duration}function Io(s,i){var o=i._private.aniEles,u=[];function c(w,b){var E=w._private,C=E.animation.current,_=E.animation.queue,S=!1;if(0===C.length){var A=_.shift();A&&C.push(A)}for(var x=function(z){for(var R=z.length-1;R>=0;R--)(0,z[R])();z.splice(0,z.length)},I=C.length-1;I>=0;I--){var P=C[I],N=P._private;N.stopped?(C.splice(I,1),N.hooked=!1,N.playing=!1,N.started=!1,x(N.frames)):!N.playing&&!N.applying||(N.playing&&N.applying&&(N.applying=!1),N.started||pd(0,P,s),Ss(w,P,s,b),N.applying&&(N.applying=!1),x(N.frames),null!=N.step&&N.step(s),P.completed()&&(C.splice(I,1),N.hooked=!1,N.playing=!1,N.started=!1,x(N.completes)),S=!0)}return!b&&0===C.length&&0===_.length&&u.push(w),S}for(var d=!1,f=0;f<o.length;f++){var m=c(o[f]);d=d||m}var v=c(i,!0);(d||v)&&(o.length>0?i.notify("draw",o):i.notify("draw")),o.unmerge(u),i.emit("step")}var wb={animate:Rt.animate(),animation:Rt.animation(),animated:Rt.animated(),clearQueue:Rt.clearQueue(),delay:Rt.delay(),delayAnimation:Rt.delayAnimation(),stop:Rt.stop(),addToAnimationPool:function(i){!this.styleEnabled()||this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var u=i.renderer();u&&u.beforeRender?u.beforeRender(function(d,f){Io(f,i)},u.beforeRenderPriorities.animations):function o(){!i._private.animationsRunning||Tc(function(d){Io(d,i),o()})}()}}},Qv={qualifierCompare:function(i,o){return null==i||null==o?null==i&&null==o:i.sameText(o)},eventMatches:function(i,o,u){var c=o.qualifier;return null==c||i!==u.target&&Vt(u.target)&&c.matches(u.target)},addEventFields:function(i,o){o.cy=i,o.target=i},callbackContext:function(i,o,u){return null!=o.qualifier?u.target:i}},tt=function(i){return le(i)?new ha(i):i},Mh={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Ds(Qv,this)),this},emitter:function(){return this._private.emitter},on:function(i,o,u){return this.emitter().on(i,tt(o),u),this},removeListener:function(i,o,u){return this.emitter().removeListener(i,tt(o),u),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,o,u){return this.emitter().one(i,tt(o),u),this},once:function(i,o,u){return this.emitter().one(i,tt(o),u),this},emit:function(i,o){return this.emitter().emit(i,o),this},emitAndNotify:function(i,o){return this.emit(i),this.notify(i,o),this}};Rt.eventAliasesOn(Mh);var Ah={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var o=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",o.jpg(i)}};Ah.jpeg=Ah.jpg;var gd={layout:function(i){var o=this;if(null!=i)if(null!=i.name){var d,u=i.name,c=o.extension("layout",u);if(null!=c)return d=le(i.eles)?o.$(i.eles):null!=i.eles?i.eles:o.$(),new c(Ke({},i,{cy:o,eles:d}));qt("No such layout `"+u+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else qt("A `name` must be specified to make a layout");else qt("Layout options must be specified to make a layout")}};gd.createLayout=gd.makeLayout=gd.layout;var bb={notify:function(i,o){var u=this._private;if(this.batching()){u.batchNotifications=u.batchNotifications||{};var c=u.batchNotifications[i]=u.batchNotifications[i]||this.collection();null!=o&&c.merge(o)}else if(u.notificationsEnabled){var d=this.renderer();this.destroyed()||!d||d.notify(i,o)}},notifications:function(i){var o=this._private;return void 0===i?o.notificationsEnabled:(o.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var o=this.renderer();Object.keys(i.batchNotifications).forEach(function(u){var c=i.batchNotifications[u];c.empty()?o.notify(u):o.notify(u,c)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var o=this;return this.batch(function(){for(var u=Object.keys(i),c=0;c<u.length;c++){var d=u[c],f=i[d];o.getElementById(d).data(f)}})}},Db=zn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),xh={renderTo:function(i,o,u,c){return this._private.renderer.renderTo(i,o,u,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var o=this,u=o.extension("renderer",i.name);if(null!=u){void 0!==i.wheelSensitivity&&Kt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var c=Db(i);c.cy=o,o._private.renderer=new u(c),this.notify("init")}else qt("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var o=i.container();if(o)for(o._cyreg=null;o.childNodes.length>0;)o.removeChild(o.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(u){var c=u._private;c.rscratch={},c.rstyle={},c.animation.current=[],c.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};xh.invalidateDimensions=xh.resize;var vd={collection:function(i,o){return le(i)?this.$(i):Lt(i)?i.collection():$e(i)?new qn(this,i,o):new qn(this)},nodes:function(i){var o=this.$(function(u){return u.isNode()});return i?o.filter(i):o},edges:function(i){var o=this.$(function(u){return u.isEdge()});return i?o.filter(i):o},$:function(i){var o=this._private.elements;return i?o.filter(i):o.spawnSelf()},mutableElements:function(){return this._private.elements}};vd.elements=vd.filter=vd.$;var Tn={apply:function(s){for(var i=this,c=i._private.cy.collection(),d=0;d<s.length;d++){var f=s[d],g=i.getContextMeta(f);if(!g.empty){var m=i.getContextStyle(g),v=i.applyContextStyle(g,m,f);f._private.appliedInitStyle?i.updateTransitions(f,v.diffProps):f._private.appliedInitStyle=!0,i.updateStyleHints(f)&&c.push(f)}}return c},getPropertiesDiff:function(s,i){var o=this,u=o._private.propDiffs=o._private.propDiffs||{},c=s+"-"+i,d=u[c];if(d)return d;for(var f=[],g={},m=0;m<o.length;m++){var v=o[m],b="t"===i[m],E="t"===s[m]!==b,C=v.mappedProperties.length>0;if(E||b&&C){var _=void 0;E&&C||E?_=v.properties:C&&(_=v.mappedProperties);for(var S=0;S<_.length;S++){for(var A=_[S],x=A.name,I=!1,P=m+1;P<o.length&&("t"!==i[P]||!(I=null!=o[P].properties[A.name]));P++);!g[x]&&!I&&(g[x]=!0,f.push(x))}}}return u[c]=f,f},getContextMeta:function(s){for(var u,i=this,o="",c=s._private.styleCxtKey||"",d=0;d<i.length;d++){var f=i[d];o+=f.selector&&f.selector.matches(s)?"t":"f"}return u=i.getPropertiesDiff(c,o),s._private.styleCxtKey=o,{key:o,diffPropNames:u,empty:0===u.length}},getContextStyle:function(s){var i=s.key,u=this._private.contextStyles=this._private.contextStyles||{};if(u[i])return u[i];for(var c={_private:{key:i}},d=0;d<this.length;d++){var f=this[d];if("t"===i[d])for(var m=0;m<f.properties.length;m++){var v=f.properties[m];c[v.name]=v}}return u[i]=c,c},applyContextStyle:function(s,i,o){for(var c=s.diffPropNames,d={},f=this.types,g=0;g<c.length;g++){var m=c[g],v=i[m],w=o.pstyle(m);if(!v){if(!w)continue;v=w.bypass?{name:m,deleteBypassed:!0}:{name:m,delete:!0}}if(w!==v){if(v.mapped===f.fn&&null!=w&&null!=w.mapping&&w.mapping.value===v.value){var b=w.mapping;if((b.fnValue=v.value(o))===b.prevFnValue)continue}var C=d[m]={prev:w};this.applyParsedProperty(o,v),C.next=o.pstyle(m),C.next&&C.next.bypass&&(C.next=C.next.bypassed)}}return{diffProps:d}},updateStyleHints:function(s){var u,i=s._private,o=this,c=o.propertyGroupKeys,d=function(Ce,Ae,st){return o.getPropertiesHash(Ce,Ae,st)},f=i.styleKey;if(s.removed())return!1;var Ce,g="nodes"===i.group,m=s._private.style;u=Object.keys(m);for(var v=0;v<c.length;v++)i.styleKeys[c[v]]=[go,is];for(var b=function(Ce,Ae){return i.styleKeys[Ae][0]=Ws(Ce,i.styleKeys[Ae][0])},E=function(Ce,Ae){return i.styleKeys[Ae][1]=as(Ce,i.styleKeys[Ae][1])},C=function(Ce,Ae){b(Ce,Ae),E(Ce,Ae)},_=function(Ce,Ae){for(var st=0;st<Ce.length;st++){var Ge=Ce.charCodeAt(st);b(Ge,Ae),E(Ge,Ae)}},x=0;x<u.length;x++){var I=u[x],P=m[I];if(null!=P){var N=this.properties[I],B=N.type,z=N.groupKey,R=void 0;null!=N.hashOverride?R=N.hashOverride(s,P):null!=P.pfValue&&(R=P.pfValue);var $=null==N.enums?P.value:null,F=null!=R,L=P.units;!B.number||!F&&null==$||B.multiple?_(P.strValue,z):(C(-128<(Ce=F?R:$)&&Ce<128&&Math.floor(Ce)!==Ce?2e9-(1024*Ce|0):Ce,z),!F&&null!=L&&_(L,z))}}for(var V=[go,is],Y=0;Y<c.length;Y++){var K=i.styleKeys[c[Y]];V[0]=Ws(K[0],V[0]),V[1]=as(K[1],V[1])}i.styleKey=function(i,o){return 2097152*i+o}(V[0],V[1]);var X=i.styleKeys;i.labelDimsKey=sa(X.labelDimensions);var J=d(s,["label"],X.labelDimensions);if(i.labelKey=sa(J),i.labelStyleKey=sa(Ks(X.commonLabel,J)),!g){var oe=d(s,["source-label"],X.labelDimensions);i.sourceLabelKey=sa(oe),i.sourceLabelStyleKey=sa(Ks(X.commonLabel,oe));var ee=d(s,["target-label"],X.labelDimensions);i.targetLabelKey=sa(ee),i.targetLabelStyleKey=sa(Ks(X.commonLabel,ee))}if(g){var re=i.styleKeys,Q=re.pie,se=[re.nodeBody,re.nodeBorder,re.backgroundImage,re.compound,Q].filter(function(ge){return null!=ge}).reduce(Ks,[go,is]);i.nodeKey=sa(se),i.hasPie=null!=Q&&Q[0]!==go&&Q[1]!==is}return f!==i.styleKey},clearStyleHints:function(s){var i=s._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(s,i){var d,o=this,u=i,c=s._private.style,f=o.types,g=o.properties[u.name].type,m=u.bypass,v=c[u.name],w=v&&v.bypass,b=s._private,E="mapping",C=function(he){return null==he?null:null!=he.pfValue?he.pfValue:he.value},_=function(){var he=C(v),ve=C(u);o.checkTriggers(s,u.name,he,ve)};if(u&&"pie"===u.name.substr(0,3)&&Kt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&s.isEdge()&&("bezier"!==i.value&&s.isLoop()||"haystack"===i.value&&(s.source().isParent()||s.target().isParent()))&&(u=i=this.parse(i.name,"bezier",m)),u.delete)return c[u.name]=void 0,_(),!0;if(u.deleteBypassed)return v?!!v.bypass&&(v.bypassed=void 0,_(),!0):(_(),!0);if(u.deleteBypass)return v?!!v.bypass&&(c[u.name]=v.bypassed,_(),!0):(_(),!0);var S=function(){Kt("Do not assign mappings to elements without corresponding data (i.e. ele `"+s.id()+"` has no mapping for property `"+u.name+"` with data field `"+u.field+"`); try a `["+u.field+"]` selector to limit scope to elements with `"+u.field+"` defined")};switch(u.mapped){case f.mapData:for(var A=u.field.split("."),x=b.data,I=0;I<A.length&&x;I++)x=x[A[I]];if(null==x)return S(),!1;var N;if(!Ee(x))return Kt("Do not use continuous mappers without specifying numeric data (i.e. `"+u.field+": "+x+"` for `"+s.id()+"` is non-numeric)"),!1;var B=u.fieldMax-u.fieldMin;if((N=0===B?0:(x-u.fieldMin)/B)<0?N=0:N>1&&(N=1),g.color){var z=u.valueMin[0],$=u.valueMin[1],F=u.valueMax[1],j=u.valueMin[2],U=u.valueMax[2],L=null==u.valueMin[3]?1:u.valueMin[3],q=null==u.valueMax[3]?1:u.valueMax[3],V=[Math.round(z+(u.valueMax[0]-z)*N),Math.round($+(F-$)*N),Math.round(j+(U-j)*N),Math.round(L+(q-L)*N)];d={bypass:u.bypass,name:u.name,value:V,strValue:"rgb("+V[0]+", "+V[1]+", "+V[2]+")"}}else{if(!g.number)return!1;d=this.parse(u.name,u.valueMin+(u.valueMax-u.valueMin)*N,u.bypass,E)}if(!d)return S(),!1;d.mapping=u,u=d;break;case f.data:for(var G=u.field.split("."),K=b.data,X=0;X<G.length&&K;X++)K=K[G[X]];if(null!=K&&(d=this.parse(u.name,K,u.bypass,E)),!d)return S(),!1;d.mapping=u,u=d;break;case f.fn:var ee=null!=u.fnValue?u.fnValue:(0,u.value)(s);if(u.prevFnValue=ee,null==ee)return Kt("Custom function mappers may not return null (i.e. `"+u.name+"` for ele `"+s.id()+"` is null)"),!1;if(!(d=this.parse(u.name,ee,u.bypass,E)))return Kt("Custom function mappers may not return invalid values for the property type (i.e. `"+u.name+"` for ele `"+s.id()+"` is invalid)"),!1;d.mapping=Jr(u),u=d;break;case void 0:break;default:return!1}return m?(u.bypassed=w?v.bypassed:v,c[u.name]=u):w?v.bypassed=u:c[u.name]=u,_(),!0},cleanElements:function(s,i){for(var o=0;o<s.length;o++){var u=s[o];if(this.clearStyleHints(u),u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),i)for(var c=u._private.style,d=Object.keys(c),f=0;f<d.length;f++){var g=d[f],m=c[g];null!=m&&(m.bypass?m.bypassed=null:c[g]=null)}else u._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(s,i){var o=this,u=s._private,c=s.pstyle("transition-property").value,d=s.pstyle("transition-duration").pfValue,f=s.pstyle("transition-delay").pfValue;if(c.length>0&&d>0){for(var g={},m=!1,v=0;v<c.length;v++){var w=c[v],b=s.pstyle(w),E=i[w];if(E){var _=E.prev,S=null!=E.next?E.next:b,A=!1,x=void 0,I=1e-6;!_||(Ee(_.pfValue)&&Ee(S.pfValue)?x=_.pfValue+I*(A=S.pfValue-_.pfValue):Ee(_.value)&&Ee(S.value)?x=_.value+I*(A=S.value-_.value):$e(_.value)&&$e(S.value)&&(A=_.value[0]!==S.value[0]||_.value[1]!==S.value[1]||_.value[2]!==S.value[2],x=_.strValue),A&&(g[w]=S.strValue,this.applyBypass(s,w,x),m=!0))}}if(!m)return;u.transitioning=!0,new er(function(P){f>0?s.delayAnimation(f).play().promise().then(P):P()}).then(function(){return s.animation({style:g,duration:d,easing:s.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){o.removeBypasses(s,c),s.emitAndNotify("style"),u.transitioning=!1})}else u.transitioning&&(this.removeBypasses(s,c),s.emitAndNotify("style"),u.transitioning=!1)},checkTrigger:function(s,i,o,u,c,d){var f=this.properties[i],g=c(f);null!=g&&g(o,u)&&d(f)},checkZOrderTrigger:function(s,i,o,u){var c=this;this.checkTrigger(s,i,o,u,function(d){return d.triggersZOrder},function(){c._private.cy.notify("zorder",s)})},checkBoundsTrigger:function(s,i,o,u){this.checkTrigger(s,i,o,u,function(c){return c.triggersBounds},function(c){s.dirtyCompoundBoundsCache(),s.dirtyBoundingBoxCache(),"curve-style"===i&&("bezier"===o||"bezier"===u)&&c.triggersBoundsOfParallelBeziers&&s.parallelEdges().forEach(function(d){d.isBundledBezier()&&d.dirtyBoundingBoxCache()})})},checkTriggers:function(s,i,o,u){s.dirtyStyleCache(),this.checkZOrderTrigger(s,i,o,u),this.checkBoundsTrigger(s,i,o,u)}},cn={applyBypass:function(s,i,o,u){var d=[];if("*"===i||"**"===i){if(void 0!==o)for(var g=0;g<this.properties.length;g++){var w=this.parse(this.properties[g].name,o,!0);w&&d.push(w)}}else if(le(i)){var b=this.parse(i,o,!0);b&&d.push(b)}else{if(!Le(i))return!1;var E=i;u=o;for(var C=Object.keys(E),_=0;_<C.length;_++){var S=C[_],A=E[S];if(void 0===A&&(A=E[ln(S)]),void 0!==A){var x=this.parse(S,A,!0);x&&d.push(x)}}}if(0===d.length)return!1;for(var I=!1,P=0;P<s.length;P++){for(var N=s[P],B={},z=void 0,R=0;R<d.length;R++){var $=d[R];if(u){var F=N.pstyle($.name);z=B[$.name]={prev:F}}I=this.applyParsedProperty(N,Jr($))||I,u&&(z.next=N.pstyle($.name))}I&&this.updateStyleHints(N),u&&this.updateTransitions(N,B,!0)}return I},overrideBypass:function(s,i,o){i=oa(i);for(var u=0;u<s.length;u++){var c=s[u],d=c._private.style[i],f=this.properties[i].type,g=f.color,m=f.mutiple,v=d?null!=d.pfValue?d.pfValue:d.value:null;d&&d.bypass?(d.value=o,null!=d.pfValue&&(d.pfValue=o),d.strValue=g?"rgb("+o.join(",")+")":m?o.join(" "):""+o,this.updateStyleHints(c)):this.applyBypass(c,i,o),this.checkTriggers(c,i,v,o)}},removeAllBypasses:function(s,i){return this.removeBypasses(s,this.propertyNames,i)},removeBypasses:function(s,i,o){for(var c=0;c<s.length;c++){for(var d=s[c],f={},g=0;g<i.length;g++){var m=i[g],v=this.properties[m],w=d.pstyle(v.name);if(w&&w.bypass){var E=this.parse(m,"",!0),C=f[v.name]={prev:w};this.applyParsedProperty(d,E),C.next=d.pstyle(v.name)}}this.updateStyleHints(d),o&&this.updateTransitions(d,f,!0)}}},hl={getEmSizeInPixels:function(){var s=this.containerCss("font-size");return null!=s?parseFloat(s):1},containerCss:function(s){var o=this._private.cy.container();if(jt&&o&&jt.getComputedStyle)return jt.getComputedStyle(o).getPropertyValue(s)}},Sr={getRenderedStyle:function(s,i){return i?this.getStylePropertyValue(s,i,!0):this.getRawStyle(s,!0)},getRawStyle:function(s,i){var o=this;if(s=s[0]){for(var u={},c=0;c<o.properties.length;c++){var d=o.properties[c],f=o.getStylePropertyValue(s,d.name,i);null!=f&&(u[d.name]=f,u[ln(d.name)]=f)}return u}},getIndexedStyle:function(s,i,o,u){var c=s.pstyle(i)[o][u];return null!=c?c:s.cy().style().getDefaultProperty(i)[o][0]},getStylePropertyValue:function(s,i,o){if(s=s[0]){var c=this.properties[i];c.alias&&(c=c.pointsTo);var d=c.type,f=s.pstyle(c.name);if(f){var g=f.value,m=f.units,v=f.strValue;if(o&&d.number&&null!=g&&Ee(g)){var w=s.cy().zoom(),b=function(A){return A*w},E=function(A,x){return b(A)+x},C=$e(g);return(C?m.every(function(S){return null!=S}):null!=m)?C?g.map(function(S,A){return E(S,m[A])}).join(" "):E(g,m):C?g.map(function(S){return le(S)?S:""+b(S)}).join(" "):""+b(g)}if(null!=v)return v}return null}},getAnimationStartStyle:function(s,i){for(var o={},u=0;u<i.length;u++){var d=i[u].name,f=s.pstyle(d);void 0!==f&&(f=Le(f)?this.parse(d,f.strValue):this.parse(d,f)),f&&(o[d]=f)}return o},getPropsList:function(s){var o=[],u=s,c=this.properties;if(u)for(var d=Object.keys(u),f=0;f<d.length;f++){var g=d[f],m=u[g],v=c[g]||c[oa(g)],w=this.parse(v.name,m);w&&o.push(w)}return o},getNonDefaultPropertiesHash:function(s,i,o){var d,f,g,m,v,u=o.slice();for(m=0;m<i.length;m++)if(null!=(d=s.pstyle(i[m],!1)))if(null!=d.pfValue)u[0]=Ws(g,u[0]),u[1]=as(g,u[1]);else for(f=d.strValue,v=0;v<f.length;v++)g=f.charCodeAt(v),u[0]=Ws(g,u[0]),u[1]=as(g,u[1]);return u}};Sr.getPropertiesHash=Sr.getNonDefaultPropertiesHash;var md={appendFromJson:function(s){for(var i=this,o=0;o<s.length;o++){var u=s[o],c=u.selector,d=u.style||u.css,f=Object.keys(d);i.selector(c);for(var g=0;g<f.length;g++){var m=f[g];i.css(m,d[m])}}return i},fromJson:function(s){var i=this;return i.resetToDefault(),i.appendFromJson(s),i},json:function(){for(var s=[],i=this.defaultLength;i<this.length;i++){for(var o=this[i],u=o.selector,c=o.properties,d={},f=0;f<c.length;f++){var g=c[f];d[g.name]=g.strValue}s.push({selector:u?u.toString():"core",style:d})}return s}},yd={appendFromString:function(s){var c,d,f,o=this,u=""+s;function g(){u=u.length>c.length?u.substr(c.length):""}function m(){d=d.length>f.length?d.substr(f.length):""}for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");!u.match(/^\s*$/);){var w=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!w){Kt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}c=w[0];var b=w[1];if("core"!==b&&new ha(b).invalid)Kt("Skipping parsing of block: Invalid selector found in string stylesheet: "+b),g();else{var C=w[2],_=!1;d=C;for(var S=[];!d.match(/^\s*$/);){var x=d.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!x){Kt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+C),_=!0;break}f=x[0];var I=x[1],P=x[2];this.properties[I]?o.parse(I,P)?(S.push({name:I,val:P}),m()):(Kt("Skipping property: Invalid property definition in: "+f),m()):(Kt("Skipping property: Invalid property name in: "+f),m())}if(_){g();break}o.selector(b);for(var z=0;z<S.length;z++){var R=S[z];o.css(R.name,R.val)}g()}}return o},fromString:function(s){var i=this;return i.resetToDefault(),i.appendFromString(s),i}},Wt={};(function(){var s=yn,d=function(se){return"^"+se+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},f=function(se){var ge=s+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+se+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+s+")\\s*\\,\\s*("+s+")\\s*,\\s*("+ge+")\\s*\\,\\s*("+ge+")\\)$"},g=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Wt.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:d("data")},layoutData:{mapping:!0,regex:d("layoutData")},scratch:{mapping:!0,regex:d("scratch")},mapData:{mapping:!0,regex:f("mapData")},mapLayoutData:{mapping:!0,regex:f("mapLayoutData")},mapScratch:{mapping:!0,regex:f("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:g,singleRegexMatchValue:!0},urls:{regexes:g,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(se,ge){switch(se.length){case 2:return"deg"!==ge[0]&&"rad"!==ge[0]&&"deg"!==ge[1]&&"rad"!==ge[1];case 1:return le(se[0])||"deg"===ge[0]||"rad"===ge[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(se){var ge=se.length;return 1===ge||2===ge||4===ge}}};var m={zeroNonZero:function(se,ge){return(null==se||null==ge)&&se!==ge||0==se&&0!=ge||0!=se&&0==ge},any:function(se,ge){return se!=ge},emptyNonEmpty:function(se,ge){var Ce=kn(se),Ae=kn(ge);return Ce&&!Ae||!Ce&&Ae}},v=Wt.types,w=[{name:"label",type:v.text,triggersBounds:m.any,triggersZOrder:m.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any}],b=[{name:"source-label",type:v.text,triggersBounds:m.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-offset",type:v.size,triggersBounds:m.any}],E=[{name:"target-label",type:v.text,triggersBounds:m.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-offset",type:v.size,triggersBounds:m.any}],C=[{name:"font-family",type:v.fontFamily,triggersBounds:m.any},{name:"font-style",type:v.fontStyle,triggersBounds:m.any},{name:"font-weight",type:v.fontWeight,triggersBounds:m.any},{name:"font-size",type:v.size,triggersBounds:m.any},{name:"text-transform",type:v.textTransform,triggersBounds:m.any},{name:"text-wrap",type:v.textWrap,triggersBounds:m.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:m.any},{name:"text-max-width",type:v.size,triggersBounds:m.any},{name:"text-outline-width",type:v.size,triggersBounds:m.any},{name:"line-height",type:v.positiveNumber,triggersBounds:m.any}],_=[{name:"text-valign",type:v.valign,triggersBounds:m.any},{name:"text-halign",type:v.halign,triggersBounds:m.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:m.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:m.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:m.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:m.any},{name:"text-justification",type:v.justification}],S=[{name:"events",type:v.bool},{name:"text-events",type:v.bool}],A=[{name:"display",type:v.display,triggersZOrder:m.any,triggersBounds:m.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:v.visibility,triggersZOrder:m.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:m.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:m.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:m.any},{name:"z-index",type:v.nonNegativeInt,triggersZOrder:m.any}],x=[{name:"overlay-padding",type:v.size,triggersBounds:m.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:m.any}],I=[{name:"underlay-padding",type:v.size,triggersBounds:m.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:m.any}],P=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],N=function(se,ge){return"label"===ge.value?-se.poolIndex():ge.pfValue},B=[{name:"height",type:v.nodeSize,triggersBounds:m.any,hashOverride:N},{name:"width",type:v.nodeSize,triggersBounds:m.any,hashOverride:N},{name:"shape",type:v.nodeShape,triggersBounds:m.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:m.any},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:m.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:m.any}],z=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:m.any},{name:"border-style",type:v.borderStyle}],R=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],$=[{name:"position",type:v.position,triggersBounds:m.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:m.any},{name:"min-width",type:v.size,triggersBounds:m.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height",type:v.size,triggersBounds:m.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:m.any}],F=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:m.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:m.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"control-point-step-size",type:v.size,triggersBounds:m.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"control-point-weights",type:v.numbers,triggersBounds:m.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"segment-weights",type:v.numbers,triggersBounds:m.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:m.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:m.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:m.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:m.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:m.any},{name:"loop-direction",type:v.angle,triggersBounds:m.any},{name:"loop-sweep",type:v.angle,triggersBounds:m.any},{name:"source-distance-from-node",type:v.size,triggersBounds:m.any},{name:"target-distance-from-node",type:v.size,triggersBounds:m.any}],j=[{name:"ghost",type:v.bool,triggersBounds:m.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-opacity",type:v.zeroOneNumber}],U=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],L=[];Wt.pieBackgroundN=16,L.push({name:"pie-size",type:v.sizeMaybePercent});for(var q=1;q<=Wt.pieBackgroundN;q++)L.push({name:"pie-"+q+"-background-color",type:v.color}),L.push({name:"pie-"+q+"-background-size",type:v.percent}),L.push({name:"pie-"+q+"-background-opacity",type:v.zeroOneNumber});var V=[],Y=Wt.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:m.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill}].forEach(function(Q){Y.forEach(function(se){V.push({name:se+"-"+Q.name,type:Q.type,triggersBounds:Q.triggersBounds})})},{});var G=Wt.properties=[].concat(S,P,A,x,I,j,_,C,w,b,E,B,z,R,L,$,F,V,U),K=Wt.propertyGroups={behavior:S,transition:P,visibility:A,overlay:x,underlay:I,ghost:j,commonLabel:_,labelDimensions:C,mainLabel:w,sourceLabel:b,targetLabel:E,nodeBody:B,nodeBorder:z,backgroundImage:R,pie:L,compound:$,edgeLine:F,edgeArrow:V,core:U},X=Wt.propertyGroupNames={};(Wt.propertyGroupKeys=Object.keys(K)).forEach(function(Q){X[Q]=K[Q].map(function(se){return se.name}),K[Q].forEach(function(se){return se.groupKey=Q})});var oe=Wt.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Wt.propertyNames=G.map(function(Q){return Q.name});for(var ee=0;ee<G.length;ee++){var re=G[ee];G[re.name]=re}for(var he=0;he<oe.length;he++){var ve=oe[he],ue={name:ve.name,alias:!0,pointsTo:G[ve.pointsTo]};G.push(ue),G[ve.name]=ue}})(),Wt.getDefaultProperty=function(s){return this.getDefaultProperties()[s]},Wt.getDefaultProperties=function(){var s=this._private;if(null!=s.defaultProperties)return s.defaultProperties;for(var i=Ke({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(m,v){for(var w=1;w<=Wt.pieBackgroundN;w++)m[v.name.replace("{{i}}",w)]=v.value;return m},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(m,v){return Wt.arrowPrefixes.forEach(function(w){m[w+"-"+v.name]=v.value}),m},{})),o={},u=0;u<this.properties.length;u++){var c=this.properties[u];if(!c.pointsTo){var d=c.name,g=this.parse(d,i[d]);o[d]=g}}return s.defaultProperties=o,s.defaultProperties},Wt.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var oi={parse:function(s,i,o,u){var c=this;if(He(i))return c.parseImplWarn(s,i,o,u);var w,m=Kf(s,""+i,o?"t":"f","mapping"===u||!0===u||!1===u||null==u?"dontcare":u),v=c.propCache=c.propCache||[];return(w=v[m])||(w=v[m]=c.parseImplWarn(s,i,o,u)),(o||"mapping"===u)&&(w=Jr(w))&&(w.value=Jr(w.value)),w},parseImplWarn:function(s,i,o,u){var c=this.parseImpl(s,i,o,u);return!c&&null!=i&&Kt("The style property `".concat(s,": ").concat(i,"` is invalid")),c&&("width"===c.name||"height"===c.name)&&"label"===i&&Kt("The style value of `label` is deprecated for `"+c.name+"`"),c}};oi.parseImpl=function(s,i,o,u){var c=this;s=oa(s);var d=c.properties[s],f=i,g=c.types;if(!d||void 0===i)return null;d.alias&&(s=(d=d.pointsTo).name);var m=le(i);m&&(i=i.trim());var w,b,v=d.type;if(!v)return null;if(o&&(""===i||null===i))return{name:s,value:i,bypass:!0,deleteBypass:!0};if(He(i))return{name:s,value:i,strValue:"fn",mapped:g.fn,bypass:o};if(!(!m||u||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(w=new RegExp(g.data.regex).exec(i)))return!o&&{name:s,value:w,strValue:""+i,mapped:g.data,field:w[1],bypass:o};if(i.length>=10&&"m"===i[0]&&(b=new RegExp(g.mapData.regex).exec(i))){if(o||v.multiple)return!1;var C=g.mapData;if(!v.color&&!v.number)return!1;var _=this.parse(s,b[4]);if(!_||_.mapped)return!1;var S=this.parse(s,b[5]);if(!S||S.mapped)return!1;if(_.pfValue===S.pfValue||_.strValue===S.strValue)return Kt("`"+s+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+s+": "+_.strValue+"`"),this.parse(s,_.strValue);if(v.color){var A=_.value,x=S.value;if(!(A[0]!==x[0]||A[1]!==x[1]||A[2]!==x[2]||A[3]!==x[3]&&(null!=A[3]&&1!==A[3]||null!=x[3]&&1!==x[3])))return!1}return{name:s,value:b,strValue:""+i,mapped:C,field:b[1],fieldMin:parseFloat(b[2]),fieldMax:parseFloat(b[3]),valueMin:_.value,valueMax:S.value,bypass:o}}}if(v.multiple&&"multiple"!==u){var P;if(P=m?i.split(/\s+/):$e(i)?i:[i],v.evenMultiple&&P.length%2!=0)return null;for(var N=[],B=[],z=[],R="",$=!1,F=0;F<P.length;F++){var j=c.parse(s,P[F],o,"multiple");$=$||le(j.value),N.push(j.value),z.push(null!=j.pfValue?j.pfValue:j.value),B.push(j.units),R+=(F>0?" ":"")+j.strValue}return v.validate&&!v.validate(N,B)?null:v.singleEnum&&$?1===N.length&&le(N[0])?{name:s,value:N[0],strValue:N[0],bypass:o}:null:{name:s,value:N,pfValue:z,strValue:R,bypass:o,units:B}}var U=function(){for(var ge=0;ge<v.enums.length;ge++)if(v.enums[ge]===i)return{name:s,value:i,strValue:""+i,bypass:o};return null};if(v.number){var L,q="px";if(v.units&&(L=v.units),v.implicitUnits&&(q=v.implicitUnits),!v.unitless)if(m){var V="px|em"+(v.allowPercent?"|\\%":"");L&&(V=L);var Y=i.match("^("+yn+")("+V+")?$");Y&&(i=Y[1],L=Y[2]||q)}else(!L||v.implicitUnits)&&(L=q);if(i=parseFloat(i),isNaN(i)&&void 0===v.enums)return null;if(isNaN(i)&&void 0!==v.enums)return i=f,U();if(v.integer&&!function(i){return Ee(i)&&Math.floor(i)===i}(i)||void 0!==v.min&&(i<v.min||v.strictMin&&i===v.min)||void 0!==v.max&&(i>v.max||v.strictMax&&i===v.max))return null;var G={name:s,value:i,strValue:""+i+(L||""),units:L,bypass:o};return G.pfValue=v.unitless||"px"!==L&&"em"!==L?i:"px"!==L&&L?this.getEmSizeInPixels()*i:i,("ms"===L||"s"===L)&&(G.pfValue="ms"===L?i:1e3*i),("deg"===L||"rad"===L)&&(G.pfValue="rad"===L?i:function(i){return Math.PI*i/180}(i)),"%"===L&&(G.pfValue=i/100),G}if(v.propList){var K=[],X=""+i;if("none"!==X){for(var J=X.split(/\s*,\s*|\s+/),oe=0;oe<J.length;oe++){var ee=J[oe].trim();c.properties[ee]?K.push(ee):Kt("`"+ee+"` is not a valid property name")}if(0===K.length)return null}return{name:s,value:K,strValue:0===K.length?"none":K.join(" "),bypass:o}}if(v.color){var re=function(i){return($e(i)?i:null)||function(i){return rv[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var u,c,d,f=16;return 4===i.length?(u=parseInt(i[1]+i[1],f),c=parseInt(i[2]+i[2],f),d=parseInt(i[3]+i[3],f)):(u=parseInt(i[1]+i[2],f),c=parseInt(i[3]+i[4],f),d=parseInt(i[5]+i[6],f)),[u,c,d]}}(i)||function(i){var o,u=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(i);if(u){o=[];for(var c=[],d=1;d<=3;d++){var f=u[d];if("%"===f[f.length-1]&&(c[d]=!0),f=parseFloat(f),c[d]&&(f=f/100*255),f<0||f>255)return;o.push(Math.floor(f))}if((c[1]||c[2]||c[3])&&!(c[1]&&c[2]&&c[3]))return;var v=u[4];if(void 0!==v){if((v=parseFloat(v))<0||v>1)return;o.push(v)}}return o}(i)||function(i){var o,u,c,d,f,g,m,v;function w(_,S,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?_+6*(S-_)*A:A<.5?S:A<2/3?_+(S-_)*(2/3-A)*6:_}var b=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(i);if(b){if((u=parseInt(b[1]))<0?u=(360- -1*u%360)%360:u>360&&(u%=360),u/=360,(c=parseFloat(b[2]))<0||c>100||(c/=100,(d=parseFloat(b[3]))<0||d>100)||(d/=100,void 0!==(f=b[4])&&((f=parseFloat(f))<0||f>1)))return;if(0===c)g=m=v=Math.round(255*d);else{var E=d<.5?d*(1+c):d+c-d*c,C=2*d-E;g=Math.round(255*w(C,E,u+1/3)),m=Math.round(255*w(C,E,u)),v=Math.round(255*w(C,E,u-1/3))}o=[g,m,v,f]}return o}(i)}(i);return re?{name:s,value:re,pfValue:re,strValue:"rgb("+re[0]+","+re[1]+","+re[2]+")",bypass:o}:null}if(v.regex||v.regexes){if(v.enums){var he=U();if(he)return he}for(var ve=v.regexes?v.regexes:[v.regex],pe=0;pe<ve.length;pe++){var Q=new RegExp(ve[pe]).exec(i);if(Q)return{name:s,value:v.singleRegexMatchValue?Q[1]:Q,strValue:""+i,bypass:o}}return null}return v.string?{name:s,value:""+i,strValue:""+i,bypass:o}:v.enums?U():null};var rr=function s(i){if(!(this instanceof s))return new s(i);co(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):qt("A style must have a core reference")},Vn=rr.prototype;Vn.instanceString=function(){return"style"},Vn.clear=function(){for(var s=this._private,o=s.cy.elements(),u=0;u<this.length;u++)this[u]=void 0;return this.length=0,s.contextStyles={},s.propDiffs={},this.cleanElements(o,!0),o.forEach(function(c){var d=c[0]._private;d.styleDirty=!0,d.appliedInitStyle=!1}),this},Vn.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Vn.core=function(s){return this._private.coreStyle[s]||this.getDefaultProperty(s)},Vn.selector=function(s){var i="core"===s?null:new ha(s),o=this.length++;return this[o]={selector:i,properties:[],mappedProperties:[],index:o},this},Vn.css=function(){var s=this,i=arguments;if(1===i.length)for(var o=i[0],u=0;u<s.properties.length;u++){var c=s.properties[u],d=o[c.name];void 0===d&&(d=o[ln(c.name)]),void 0!==d&&this.cssRule(c.name,d)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},Vn.style=Vn.css,Vn.cssRule=function(s,i){var o=this.parse(s,i);if(o){var u=this.length-1;this[u].properties.push(o),this[u].properties[o.name]=o,o.name.match(/pie-(\d+)-background-size/)&&o.value&&(this._private.hasPie=!0),o.mapped&&this[u].mappedProperties.push(o),!this[u].selector&&(this._private.coreStyle[o.name]=o)}return this},Vn.append=function(s){return rs(s)?s.appendToStyle(this):$e(s)?this.appendFromJson(s):le(s)&&this.appendFromString(s),this},rr.fromJson=function(s,i){var o=new rr(s);return o.fromJson(i),o},rr.fromString=function(s,i){return new rr(s).fromString(i)},[Tn,cn,hl,Sr,md,yd,Wt,oi].forEach(function(s){Ke(Vn,s)}),rr.types=Vn.types,rr.properties=Vn.properties,rr.propertyGroups=Vn.propertyGroups,rr.propertyGroupNames=Vn.propertyGroupNames,rr.propertyGroupKeys=Vn.propertyGroupKeys;var pl={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var o=this._private;return o.style=rs(i)?i.generateStyle(this):$e(i)?rr.fromJson(this,i):le(i)?rr.fromString(this,i):rr(this),o.style},updateStyle:function(){this.mutableElements().updateStyle()}},Po={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var o=this._private;return null==o.selectionType&&(o.selectionType="single"),void 0===i?o.selectionType:(("additive"===i||"single"===i)&&(o.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var u,c,d,f,g,i=arguments,o=this._private.pan;switch(i.length){case 0:return o;case 1:if(le(i[0]))return o[u=i[0]];if(Le(i[0])){if(!this._private.panningEnabled)return this;g=(d=i[0]).y,Ee(f=d.x)&&(o.x=f),Ee(g)&&(o.y=g),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;c=i[1],("x"===(u=i[0])||"y"===u)&&Ee(c)&&(o[u]=c),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,o){var d,f,g,m,v,u=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:Le(i)&&(v=(g=u[0]).y,Ee(m=g.x)&&(c.x+=m),Ee(v)&&(c.y+=v),this.emit("pan viewport"));break;case 2:f=o,("x"===(d=i)||"y"===d)&&Ee(f)&&(c[d]+=f),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,o){var u=this.getFitViewport(i,o);if(u){var c=this._private;c.zoom=u.zoom,c.pan=u.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,o){var u;if((Ee(i)&&void 0===o&&(o=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(le(i)?i=this.$(i):!function(i){return Le(i)&&Ee(i.x1)&&Ee(i.x2)&&Ee(i.y1)&&Ee(i.y2)}(i)?Lt(i)||(i=this.mutableElements()):((u={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=u.x2-u.x1,u.h=u.y2-u.y1),!Lt(i)||!i.empty())){u=u||i.boundingBox();var m,f=this.width(),g=this.height();if(o=Ee(o)?o:0,!isNaN(f)&&!isNaN(g)&&f>0&&g>0&&!isNaN(u.w)&&!isNaN(u.h)&&u.w>0&&u.h>0)return{zoom:m=(m=(m=Math.min((f-2*o)/u.w,(g-2*o)/u.h))>this._private.maxZoom?this._private.maxZoom:m)<this._private.minZoom?this._private.minZoom:m,pan:{x:(f-m*(u.x1+u.x2))/2,y:(g-m*(u.y1+u.y2))/2}}}},zoomRange:function(i,o){var u=this._private;if(null==o){var c=i;i=c.min,o=c.max}return Ee(i)&&Ee(o)&&i<=o?(u.minZoom=i,u.maxZoom=o):Ee(i)&&void 0===o&&i<=u.maxZoom?u.minZoom=i:Ee(o)&&void 0===i&&o>=u.minZoom&&(u.maxZoom=o),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var d,f,o=this._private,u=o.pan,c=o.zoom,g=!1;return o.zoomingEnabled||(g=!0),Ee(i)?f=i:Le(i)&&(f=i.level,null!=i.position?d=tu(i.position,c,u):null!=i.renderedPosition&&(d=i.renderedPosition),null!=d&&!o.panningEnabled&&(g=!0)),f=(f=f>o.maxZoom?o.maxZoom:f)<o.minZoom?o.minZoom:f,!g&&Ee(f)&&f!==c&&(null==d||Ee(d.x)&&Ee(d.y))?null!=d?{zoomed:!0,panned:!0,zoom:f,pan:{x:-f/c*(d.x-u.x)+d.x,y:-f/c*(d.y-u.y)+d.y}}:{zoomed:!0,panned:!1,zoom:f,pan:u}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var o=this.getZoomedViewport(i),u=this._private;return null!=o&&o.zoomed?(u.zoom=o.zoom,o.panned&&(u.pan.x=o.pan.x,u.pan.y=o.pan.y),this.emit("zoom"+(o.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var o=this._private,u=!0,c=!0,d=[],f=!1,g=!1;if(!i)return this;if(Ee(i.zoom)||(u=!1),Le(i.pan)||(c=!1),!u&&!c)return this;if(u){var m=i.zoom;m<o.minZoom||m>o.maxZoom||!o.zoomingEnabled?f=!0:(o.zoom=m,d.push("zoom"))}if(c&&(!f||!i.cancelOnFailedZoom)&&o.panningEnabled){var v=i.pan;Ee(v.x)&&(o.pan.x=v.x,g=!1),Ee(v.y)&&(o.pan.y=v.y,g=!1),g||d.push("pan")}return d.length>0&&(d.push("viewport"),this.emit(d.join(" ")),this.notify("viewport")),this},center:function(i){var o=this.getCenterPan(i);return o&&(this._private.pan=o,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,o){if(this._private.panningEnabled){if(le(i)){var u=i;i=this.mutableElements().filter(u)}else Lt(i)||(i=this.mutableElements());if(0!==i.length){var c=i.boundingBox(),d=this.width(),f=this.height();return{x:(d-(o=void 0===o?this._private.zoom:o)*(c.x1+c.x2))/2,y:(f-o*(c.y1+c.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var u,c,i=this._private,o=i.container;return i.sizeCache=i.sizeCache||(o?(u=jt.getComputedStyle(o),{width:o.clientWidth-(c=function(f){return parseFloat(u.getPropertyValue(f))})("padding-left")-c("padding-right"),height:o.clientHeight-c("padding-top")-c("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,o=this._private.zoom,u=this.renderedExtent(),c={x1:(u.x1-i.x)/o,x2:(u.x2-i.x)/o,y1:(u.y1-i.y)/o,y2:(u.y2-i.y)/o};return c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},renderedExtent:function(){var i=this.width(),o=this.height();return{x1:0,y1:0,x2:i,y2:o,w:i,h:o}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};Po.centre=Po.center,Po.autolockNodes=Po.autolock,Po.autoungrabifyNodes=Po.autoungrabify;var gl={data:Rt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Rt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Rt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Rt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};gl.attr=gl.data,gl.removeAttr=gl.removeData;var Mu=function(i){var o=this,u=(i=Ke({},i)).container;u&&!mn(u)&&mn(u[0])&&(u=u[0]);var c=u?u._cyreg:null;(c=c||{})&&c.cy&&(c.cy.destroy(),c={});var d=c.readies=c.readies||[];u&&(u._cyreg=c),c.cy=o;var f=void 0!==jt&&void 0!==u&&!i.headless,g=i;g.layout=Ke({name:f?"grid":"null"},g.layout),g.renderer=Ke({name:f?"canvas":"null"},g.renderer);var m=function(_,S,A){return void 0!==S?S:void 0!==A?A:_},v=this._private={container:u,ready:!1,options:g,elements:new qn(this),listeners:[],aniEles:new qn(this),data:g.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:m(!0,g.zoomingEnabled),userZoomingEnabled:m(!0,g.userZoomingEnabled),panningEnabled:m(!0,g.panningEnabled),userPanningEnabled:m(!0,g.userPanningEnabled),boxSelectionEnabled:m(!0,g.boxSelectionEnabled),autolock:m(!1,g.autolock,g.autolockNodes),autoungrabify:m(!1,g.autoungrabify,g.autoungrabifyNodes),autounselectify:m(!1,g.autounselectify),styleEnabled:void 0===g.styleEnabled?f:g.styleEnabled,zoom:Ee(g.zoom)?g.zoom:1,pan:{x:Le(g.pan)&&Ee(g.pan.x)?g.pan.x:0,y:Le(g.pan)&&Ee(g.pan.y)?g.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:m(250,g.multiClickDebounceTime)};this.createEmitter(),this.selectionType(g.selectionType),this.zoomRange({min:g.minZoom,max:g.maxZoom}),v.styleEnabled&&o.setStyle([]);var b=Ke({},g,g.renderer);o.initRenderer(b),function(_,S){if(_.some(En))return er.all(_).then(S);S(_)}([g.style,g.elements],function(C){var _=C[0],S=C[1];v.styleEnabled&&o.style().append(_),function(_,S,A){o.notifications(!1);var x=o.mutableElements();x.length>0&&x.remove(),null!=_&&(Le(_)||$e(_))&&o.add(_),o.one("layoutready",function(P){o.notifications(!0),o.emit(P),o.one("load",S),o.emitAndNotify("load")}).one("layoutstop",function(){o.one("done",A),o.emit("done")});var I=Ke({},o._private.options.layout);I.eles=o.elements(),o.layout(I).run()}(S,function(){o.startAnimationLoop(),v.ready=!0,He(g.ready)&&o.on("ready",g.ready);for(var A=0;A<d.length;A++)o.on("ready",d[A]);c&&(c.readies=[]),o.emit("ready")},g.done)})},wd=Mu.prototype;Ke(wd,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},mount:function(i){if(null!=i){var o=this,u=o._private,c=u.options;return!mn(i)&&mn(i[0])&&(i=i[0]),o.stopAnimationLoop(),o.destroyRenderer(),u.container=i,u.styleEnabled=!0,o.invalidateSize(),o.initRenderer(Ke({},c,c.renderer,{name:"null"===c.renderer.name?"canvas":c.renderer.name})),o.startAnimationLoop(),o.style(c.style),o.emit("mount"),o}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Jr(this._private.options)},json:function(i){var o=this,u=o._private,c=o.mutableElements();if(Le(i)){if(o.startBatch(),i.elements){var f={},g=function(N,B){for(var z=[],R=[],$=0;$<N.length;$++){var F=N[$];if(F.data.id){var j=""+F.data.id,U=o.getElementById(j);f[j]=!0,0!==U.length?R.push({ele:U,json:F}):(B&&(F.group=B),z.push(F))}else Kt("cy.json() cannot handle elements without an ID attribute")}o.add(z);for(var L=0;L<R.length;L++){var q=R[L];q.ele.json(q.json)}};if($e(i.elements))g(i.elements);else for(var m=["nodes","edges"],v=0;v<m.length;v++){var w=m[v],b=i.elements[w];$e(b)&&g(b,w)}var E=o.collection();c.filter(function(P){return!f[P.id()]}).forEach(function(P){P.isParent()?E.merge(P):P.remove()}),E.forEach(function(P){return P.children().move({parent:null})}),E.forEach(function(P){return(N=P,o.getElementById(N.id())).remove();var N})}i.style&&o.style(i.style),null!=i.zoom&&i.zoom!==u.zoom&&o.zoom(i.zoom),i.pan&&(i.pan.x!==u.pan.x||i.pan.y!==u.pan.y)&&o.pan(i.pan),i.data&&o.data(i.data);for(var C=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],_=0;_<C.length;_++){var S=C[_];null!=i[S]&&o[S](i[S])}return o.endBatch(),this}var x={};i?x.elements=this.elements().map(function(P){return P.json()}):(x.elements={},c.forEach(function(P){var N=P.group();x.elements[N]||(x.elements[N]=[]),x.elements[N].push(P.json())})),this._private.styleEnabled&&(x.style=o.style().json()),x.data=Jr(o.data());var I=u.options;return x.zoomingEnabled=u.zoomingEnabled,x.userZoomingEnabled=u.userZoomingEnabled,x.zoom=u.zoom,x.minZoom=u.minZoom,x.maxZoom=u.maxZoom,x.panningEnabled=u.panningEnabled,x.userPanningEnabled=u.userPanningEnabled,x.pan=Jr(u.pan),x.boxSelectionEnabled=u.boxSelectionEnabled,x.renderer=Jr(I.renderer),x.hideEdgesOnViewport=I.hideEdgesOnViewport,x.textureOnViewport=I.textureOnViewport,x.wheelSensitivity=I.wheelSensitivity,x.motionBlur=I.motionBlur,x.multiClickDebounceTime=I.multiClickDebounceTime,x}}),wd.$id=wd.getElementById,[Kv,wb,Mh,Ah,gd,bb,xh,vd,pl,Po,gl].forEach(function(s){Ke(wd,s)});var Ph={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}},Gn=function(i){return i.scratch("breadthfirst")},Au=function(i,o){return i.scratch("breadthfirst",o)};function Ro(s){this.options=Ke({},Ph,s)}Ro.prototype.run=function(){var v,s=this.options,i=s,o=s.cy,u=i.eles,c=u.nodes().filter(function(xe){return!xe.isParent()}),d=u,f=i.directed,g=i.maximal||i.maximalAdjustments>0,m=Or(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(Lt(i.roots))v=i.roots;else if($e(i.roots)){for(var w=[],b=0;b<i.roots.length;b++){var C=o.getElementById(i.roots[b]);w.push(C)}v=o.collection(w)}else if(le(i.roots))v=o.$(i.roots);else if(f)v=c.roots();else{var _=u.components();v=o.collection();for(var S=function(Te){var Qe=_[Te],ze=Qe.maxDegree(!1),Fe=Qe.filter(function(je){return je.degree(!1)===ze});v=v.add(Fe)},A=0;A<_.length;A++)S(A)}var x=[],I={},P=function(Te,Qe){null==x[Qe]&&(x[Qe]=[]);var ze=x[Qe].length;x[Qe].push(Te),Au(Te,{index:ze,depth:Qe})};d.bfs({roots:v,directed:i.directed,visit:function(Te,Qe,ze,Fe,je){var Tt=Te[0],bt=Tt.id();P(Tt,je),I[bt]=!0}});for(var B=[],z=0;z<c.length;z++){var R=c[z];I[R.id()]||B.push(R)}var $=function(Te){for(var Qe=x[Te],ze=0;ze<Qe.length;ze++){var Fe=Qe[ze];null!=Fe?Au(Fe,{depth:Te,index:ze}):(Qe.splice(ze,1),ze--)}},F=function(){for(var Te=0;Te<x.length;Te++)$(Te)},j=function(Te,Qe){for(var ze=Gn(Te),Fe=Te.incomers().filter(function(O){return O.isNode()&&u.has(O)}),je=-1,Tt=Te.id(),bt=0;bt<Fe.length;bt++){var _e=Gn(Fe[bt]);je=Math.max(je,_e.depth)}return ze.depth<=je&&(Qe[Tt]?null:(function(Te,Qe){var ze=Gn(Te);x[ze.depth][ze.index]=null,P(Te,Qe)}(Te,je+1),Qe[Tt]=!0,!0))};if(f&&g){var U=[],L={},q=function(Te){return U.push(Te)};for(c.forEach(function(xe){return U.push(xe)});U.length>0;){var Y=U.shift(),G=j(Y,L);if(G)Y.outgoers().filter(function(xe){return xe.isNode()&&u.has(xe)}).forEach(q);else if(null===G){Kt("Detected double maximal shift for node `"+Y.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}F();var K=0;if(i.avoidOverlap)for(var X=0;X<c.length;X++){var oe=c[X].layoutDimensions(i);K=Math.max(K,oe.w,oe.h)}for(var he={},ve=function(Te){if(he[Te.id()])return he[Te.id()];for(var Qe=Gn(Te).depth,ze=Te.neighborhood(),Fe=0,je=0,Tt=0;Tt<ze.length;Tt++){var bt=ze[Tt];if(!bt.isEdge()&&!bt.isParent()&&c.has(bt)){var ht=Gn(bt);if(null!=ht){var _e=ht.index,O=ht.depth;null!=_e&&null!=O&&O<Qe&&(Fe+=_e/x[O].length,je++)}}}return Fe/=je=Math.max(1,je),0===je&&(Fe=0),he[Te.id()]=Fe,Fe},pe=function(Te,Qe){var je=ve(Te)-ve(Qe);return 0===je?Sc(Te.id(),Qe.id()):je},ue=0;ue<x.length;ue++)x[ue].sort(pe),$(ue);for(var Q=[],se=0;se<B.length;se++)Q.push(B[se]);x.unshift(Q),F();for(var ge=0,Ce=0;Ce<x.length;Ce++)ge=Math.max(x[Ce].length,ge);var Ae_x=m.x1+m.w/2,Ae_y=m.x1+m.h/2,st=x.reduce(function(xe,Te){return Math.max(xe,Te.length)},0);return u.nodes().layoutPositions(this,i,function(Te){var Qe=Gn(Te),ze=Qe.depth,Fe=Qe.index,je=x[ze].length,Tt=Math.max(m.w/((i.grid?st:je)+1),K),bt=Math.max(m.h/(x.length+1),K),ht=Math.min(m.w/2/x.length,m.h/2/x.length);if(ht=Math.max(ht,K),i.circle){var O=ht*ze+ht-(x.length>0&&x[0].length<=3?ht/2:0),te=2*Math.PI/x[ze].length*Fe;return 0===ze&&1===x[0].length&&(O=1),{x:Ae_x+O*Math.cos(te),y:Ae_y+O*Math.sin(te)}}return{x:Ae_x+(Fe+1-(je+1)/2)*Tt,y:(ze+1)*bt}}),this};var Cb={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function bd(s){this.options=Ke({},Cb,s)}bd.prototype.run=function(){var s=this.options,i=s,o=s.cy,u=i.eles,c=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,d=u.nodes().not(":parent");i.sort&&(d=d.sort(i.sort));for(var w,f=Or(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),g={x:f.x1+f.w/2,y:f.y1+f.h/2},v=(void 0===i.sweep?2*Math.PI-2*Math.PI/d.length:i.sweep)/Math.max(1,d.length-1),b=0,E=0;E<d.length;E++){var _=d[E].layoutDimensions(i);b=Math.max(b,_.w,_.h)}if(w=Ee(i.radius)?i.radius:d.length<=1?0:Math.min(f.h,f.w)/2-b,d.length>1&&i.avoidOverlap){b*=1.75;var x=Math.cos(v)-Math.cos(0),I=Math.sin(v)-Math.sin(0),P=Math.sqrt(b*b/(x*x+I*I));w=Math.max(P,w)}return u.nodes().layoutPositions(this,i,function(z,R){var $=i.startAngle+R*v*(c?1:-1),F=w*Math.cos($),j=w*Math.sin($);return{x:g.x+F,y:g.y+j}}),this};var Yv={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Rh(s){this.options=Ke({},Yv,s)}Rh.prototype.run=function(){for(var s=this.options,i=s,o=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,u=s.cy,c=i.eles,d=c.nodes().not(":parent"),f=Or(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),g={x:f.x1+f.w/2,y:f.y1+f.h/2},m=[],v=0,w=0;w<d.length;w++){var E,b=d[w];E=i.concentric(b),m.push({value:E,node:b}),b._private.scratch.concentric=E}d.updateStyle();for(var C=0;C<d.length;C++){var S=d[C].layoutDimensions(i);v=Math.max(v,S.w,S.h)}m.sort(function(xe,Te){return Te.value-xe.value});for(var A=i.levelWidth(d),x=[[]],I=x[0],P=0;P<m.length;P++){var N=m[P];I.length>0&&Math.abs(I[0].value-N.value)>=A&&x.push(I=[]),I.push(N)}var z=v+i.minNodeSpacing;if(!i.avoidOverlap){var R=x.length>0&&x[0].length>1,$=Math.min(f.w,f.h)/2-z;z=Math.min(z,$/(x.length+R?1:0))}for(var j=0,U=0;U<x.length;U++){var L=x[U],q=void 0===i.sweep?2*Math.PI-2*Math.PI/L.length:i.sweep,V=L.dTheta=q/Math.max(1,L.length-1);if(L.length>1&&i.avoidOverlap){var Y=Math.cos(V)-Math.cos(0),G=Math.sin(V)-Math.sin(0),K=Math.sqrt(z*z/(Y*Y+G*G));j=Math.max(K,j)}L.r=j,j+=z}if(i.equidistant){for(var X=0,J=0,oe=0;oe<x.length;oe++)X=Math.max(X,x[oe].r-J);J=0;for(var he=0;he<x.length;he++){var ve=x[he];0===he&&(J=ve.r),ve.r=J,J+=X}}for(var pe={},ue=0;ue<x.length;ue++)for(var Q=x[ue],se=Q.dTheta,ge=Q.r,Ce=0;Ce<Q.length;Ce++){var Ae=Q[Ce],st=i.startAngle+(o?1:-1)*se*Ce,Ge={x:g.x+ge*Math.cos(st),y:g.y+ge*Math.sin(st)};pe[Ae.node.id()]=Ge}return c.nodes().layoutPositions(this,i,function(xe){var Te=xe.id();return pe[Te]}),this};var Dd,Zv={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,o){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function xu(s){this.options=Ke({},Zv,s),this.options.layout=this}xu.prototype.run=function(){var s=this.options,i=s.cy,o=this;o.stopped=!1,(!0===s.animate||!1===s.animate)&&o.emit({type:"layoutstart",layout:o}),Dd=!0===s.debug;var u=Xv(i,o,s);Dd&&(void 0)(u),s.randomize&&vl(u);var c=Fi(),d=function(){Ru(u,i,s),!0===s.fit&&i.fit(s.padding)},f=function(E){return!(o.stopped||E>=s.numIter||(Jv(u,s),u.temperature=u.temperature*s.coolingFactor,u.temperature<s.minTemp))},g=function(){if(!0===s.animate||!1===s.animate)d(),o.one("layoutstop",s.stop),o.emit({type:"layoutstop",layout:o});else{var E=s.eles.nodes(),C=Pu(u,s,E);E.layoutPositions(o,s,C)}},m=0,v=!0;if(!0===s.animate)!function b(){for(var E=0;v&&E<s.refresh;)v=f(m),m++,E++;v?(Fi()-c>=s.animationThreshold&&d(),Tc(b)):(Oh(u,s),g())}();else{for(;v;)v=f(m),m++;Oh(u,s),g()}return this},xu.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},xu.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Xv=function(i,o,u){for(var c=u.eles.edges(),d=u.eles.nodes(),f={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:d.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:c.size(),temperature:u.initialTemp,clientWidth:i.width(),clientHeight:i.width(),boundingBox:Or(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()})},g=u.eles.components(),m={},v=0;v<g.length;v++)for(var w=g[v],b=0;b<w.length;b++)m[w[b].id()]=v;for(v=0;v<f.nodeSize;v++){var _=(C=d[v]).layoutDimensions(u);(S={}).isLocked=C.locked(),S.id=C.data("id"),S.parentId=C.data("parent"),S.cmptId=m[C.id()],S.children=[],S.positionX=C.position("x"),S.positionY=C.position("y"),S.offsetX=0,S.offsetY=0,S.height=_.w,S.width=_.h,S.maxX=S.positionX+S.width/2,S.minX=S.positionX-S.width/2,S.maxY=S.positionY+S.height/2,S.minY=S.positionY-S.height/2,S.padLeft=parseFloat(C.style("padding")),S.padRight=parseFloat(C.style("padding")),S.padTop=parseFloat(C.style("padding")),S.padBottom=parseFloat(C.style("padding")),S.nodeRepulsion=He(u.nodeRepulsion)?u.nodeRepulsion(C):u.nodeRepulsion,f.layoutNodes.push(S),f.idToIndex[S.id]=v}var A=[],x=0,I=-1,P=[];for(v=0;v<f.nodeSize;v++){var C,N=(C=f.layoutNodes[v]).parentId;null!=N?f.layoutNodes[f.idToIndex[N]].children.push(C.id):(A[++I]=C.id,P.push(C.id))}for(f.graphSet.push(P);x<=I;){var B=A[x++],R=f.layoutNodes[f.idToIndex[B]].children;if(R.length>0)for(f.graphSet.push(R),v=0;v<R.length;v++)A[++I]=R[v]}for(v=0;v<f.graphSet.length;v++){var $=f.graphSet[v];for(b=0;b<$.length;b++)f.indexToGraph[f.idToIndex[$[b]]]=v}for(v=0;v<f.edgeSize;v++){var j=c[v],U={};U.id=j.data("id"),U.sourceId=j.data("source"),U.targetId=j.data("target");var L=He(u.idealEdgeLength)?u.idealEdgeLength(j):u.idealEdgeLength,q=He(u.edgeElasticity)?u.edgeElasticity(j):u.edgeElasticity,V=f.idToIndex[U.sourceId],Y=f.idToIndex[U.targetId];if(f.indexToGraph[V]!=f.indexToGraph[Y]){for(var X=Ed(U.sourceId,U.targetId,f),J=f.graphSet[X],oe=0,S=f.layoutNodes[V];-1===J.indexOf(S.id);)S=f.layoutNodes[f.idToIndex[S.parentId]],oe++;for(S=f.layoutNodes[Y];-1===J.indexOf(S.id);)S=f.layoutNodes[f.idToIndex[S.parentId]],oe++;L*=oe*u.nestingFactor}U.idealLength=L,U.elasticity=q,f.layoutEdges.push(U)}return f},Ed=function(i,o,u){var c=Iu(i,o,0,u);return 2>c.count?0:c.graph},Iu=function s(i,o,u,c){var d=c.graphSet[u];if(-1<d.indexOf(i)&&-1<d.indexOf(o))return{count:2,graph:u};for(var f=0,g=0;g<d.length;g++){var w=c.layoutNodes[c.idToIndex[d[g]]].children;if(0!==w.length){var E=s(i,o,c.indexToGraph[c.idToIndex[w[0]]],c);if(0!==E.count){if(1!==E.count)return E;if(2==++f)break}}}return{count:f,graph:u}},vl=function(i,o){for(var u=i.clientWidth,c=i.clientHeight,d=0;d<i.nodeSize;d++){var f=i.layoutNodes[d];0===f.children.length&&!f.isLocked&&(f.positionX=Math.random()*u,f.positionY=Math.random()*c)}},Pu=function(i,o,u){var c=i.boundingBox,d={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return o.boundingBox&&(u.forEach(function(f){var g=i.layoutNodes[i.idToIndex[f.data("id")]];d.x1=Math.min(d.x1,g.positionX),d.x2=Math.max(d.x2,g.positionX),d.y1=Math.min(d.y1,g.positionY),d.y2=Math.max(d.y2,g.positionY)}),d.w=d.x2-d.x1,d.h=d.y2-d.y1),function(f,g){var m=i.layoutNodes[i.idToIndex[f.data("id")]];return o.boundingBox?{x:c.x1+(m.positionX-d.x1)/d.w*c.w,y:c.y1+(m.positionY-d.y1)/d.h*c.h}:{x:m.positionX,y:m.positionY}}},Ru=function(i,o,u){var c=u.layout,d=u.eles.nodes(),f=Pu(i,u,d);d.positions(f),!0!==i.ready&&(i.ready=!0,c.one("layoutready",u.ready),c.emit({type:"layoutready",layout:this}))},Jv=function(i,o,u){em(i,o),tm(i),Ve(i,o),Fh(i),nm(i)},em=function(i,o){for(var u=0;u<i.graphSet.length;u++)for(var c=i.graphSet[u],d=c.length,f=0;f<d;f++)for(var g=i.layoutNodes[i.idToIndex[c[f]]],m=f+1;m<d;m++)kh(g,i.layoutNodes[i.idToIndex[c[m]]],i,o)},Nh=function(i){return-i+2*i*Math.random()},kh=function(i,o,u,c){if(i.cmptId===o.cmptId||u.isCompound){var g=o.positionX-i.positionX,m=o.positionY-i.positionY;0===g&&0===m&&(g=Nh(1),m=Nh(1));var w=ml(i,o,g,m);if(w>0)var C=(b=c.nodeOverlap*w)*g/(E=Math.sqrt(g*g+m*m)),_=b*m/E;else{var b,S=No(i,g,m),A=No(o,-1*g,-1*m),x=A.x-S.x,I=A.y-S.y,P=x*x+I*I,E=Math.sqrt(P);C=(b=(i.nodeRepulsion+o.nodeRepulsion)/P)*x/E,_=b*I/E}i.isLocked||(i.offsetX-=C,i.offsetY-=_),o.isLocked||(o.offsetX+=C,o.offsetY+=_)}},ml=function(i,o,u,c){if(u>0)var d=i.maxX-o.minX;else d=o.maxX-i.minX;if(c>0)var f=i.maxY-o.minY;else f=o.maxY-i.minY;return d>=0&&f>=0?Math.sqrt(d*d+f*f):0},No=function(i,o,u){var c=i.positionX,d=i.positionY,f=i.height||1,g=i.width||1,m=u/o,v=f/g,w={};return 0===o&&0<u||0===o&&0>u?(w.x=c,w.y=d+f/2,w):0<o&&-1*v<=m&&m<=v?(w.x=c+g/2,w.y=d+g*u/2/o,w):0>o&&-1*v<=m&&m<=v?(w.x=c-g/2,w.y=d-g*u/2/o,w):0<u&&(m<=-1*v||m>=v)?(w.x=c+f*o/2/u,w.y=d+f/2,w):(0>u&&(m<=-1*v||m>=v)&&(w.x=c-f*o/2/u,w.y=d-f/2),w)},tm=function(i,o){for(var u=0;u<i.edgeSize;u++){var c=i.layoutEdges[u],f=i.layoutNodes[i.idToIndex[c.sourceId]],m=i.layoutNodes[i.idToIndex[c.targetId]],v=m.positionX-f.positionX,w=m.positionY-f.positionY;if(0!==v||0!==w){var b=No(f,v,w),E=No(m,-1*v,-1*w),C=E.x-b.x,_=E.y-b.y,S=Math.sqrt(C*C+_*_),A=Math.pow(c.idealLength-S,2)/c.elasticity;if(0!==S)var x=A*C/S,I=A*_/S;else x=0,I=0;f.isLocked||(f.offsetX+=x,f.offsetY+=I),m.isLocked||(m.offsetX-=x,m.offsetY-=I)}}},Ve=function(i,o){if(0!==o.gravity)for(var c=0;c<i.graphSet.length;c++){var d=i.graphSet[c],f=d.length;if(0===c)var g=i.clientHeight/2,m=i.clientWidth/2;else{var w=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[d[0]]].parentId]];g=w.positionX,m=w.positionY}for(var b=0;b<f;b++){var E=i.layoutNodes[i.idToIndex[d[b]]];if(!E.isLocked){var C=g-E.positionX,_=m-E.positionY,S=Math.sqrt(C*C+_*_);if(S>1){var x=o.gravity*_/S;E.offsetX+=o.gravity*C/S,E.offsetY+=x}}}}},Fh=function(i,o){var u=[],c=0,d=-1;for(u.push.apply(u,i.graphSet[0]),d+=i.graphSet[0].length;c<=d;){var f=u[c++],m=i.layoutNodes[i.idToIndex[f]],v=m.children;if(0<v.length&&!m.isLocked){for(var w=m.offsetX,b=m.offsetY,E=0;E<v.length;E++){var C=i.layoutNodes[i.idToIndex[v[E]]];C.offsetX+=w,C.offsetY+=b,u[++d]=v[E]}m.offsetX=0,m.offsetY=0}}},nm=function(i,o){for(var u=0;u<i.nodeSize;u++)0<(c=i.layoutNodes[u]).children.length&&(c.maxX=void 0,c.minX=void 0,c.maxY=void 0,c.minY=void 0);for(u=0;u<i.nodeSize;u++)if(!(0<(c=i.layoutNodes[u]).children.length||c.isLocked)){var d=Cd(c.offsetX,c.offsetY,i.temperature);c.positionX+=d.x,c.positionY+=d.y,c.offsetX=0,c.offsetY=0,c.minX=c.positionX-c.width,c.maxX=c.positionX+c.width,c.minY=c.positionY-c.height,c.maxY=c.positionY+c.height,yl(c,i)}for(u=0;u<i.nodeSize;u++){var c;0<(c=i.layoutNodes[u]).children.length&&!c.isLocked&&(c.positionX=(c.maxX+c.minX)/2,c.positionY=(c.maxY+c.minY)/2,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY)}},Cd=function(i,o,u){var c=Math.sqrt(i*i+o*o);if(c>u)var d={x:u*i/c,y:u*o/c};else d={x:i,y:o};return d},yl=function s(i,o){var u=i.parentId;if(null!=u){var c=o.layoutNodes[o.idToIndex[u]],d=!1;if((null==c.maxX||i.maxX+c.padRight>c.maxX)&&(c.maxX=i.maxX+c.padRight,d=!0),(null==c.minX||i.minX-c.padLeft<c.minX)&&(c.minX=i.minX-c.padLeft,d=!0),(null==c.maxY||i.maxY+c.padBottom>c.maxY)&&(c.maxY=i.maxY+c.padBottom,d=!0),(null==c.minY||i.minY-c.padTop<c.minY)&&(c.minY=i.minY-c.padTop,d=!0),d)return s(c,o)}},Oh=function(i,o){for(var u=i.layoutNodes,c=[],d=0;d<u.length;d++){var f=u[d],g=f.cmptId;(c[g]=c[g]||[]).push(f)}var v=0;for(d=0;d<c.length;d++)if(w=c[d]){w.x1=1/0,w.x2=-1/0,w.y1=1/0,w.y2=-1/0;for(var b=0;b<w.length;b++){var E=w[b];w.x1=Math.min(w.x1,E.positionX-E.width/2),w.x2=Math.max(w.x2,E.positionX+E.width/2),w.y1=Math.min(w.y1,E.positionY-E.height/2),w.y2=Math.max(w.y2,E.positionY+E.height/2)}w.w=w.x2-w.x1,w.h=w.y2-w.y1,v+=w.w*w.h}c.sort(function(I,P){return P.w*P.h-I.w*I.h});var C=0,_=0,S=0,A=0,x=Math.sqrt(v)*i.clientWidth/i.clientHeight;for(d=0;d<c.length;d++){var w;if(w=c[d]){for(b=0;b<w.length;b++)(E=w[b]).isLocked||(E.positionX+=C-w.x1,E.positionY+=_-w.y1);C+=w.w+o.componentSpacing,S+=w.w+o.componentSpacing,A=Math.max(A,w.h),S>x&&(_+=A+o.componentSpacing,C=0,S=0,A=0)}}},rm={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Lh(s){this.options=Ke({},rm,s)}Lh.prototype.run=function(){var s=this.options,i=s,o=s.cy,u=i.eles,c=u.nodes().not(":parent");i.sort&&(c=c.sort(i.sort));var d=Or(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(0===d.h||0===d.w)u.nodes().layoutPositions(this,i,function(he){return{x:d.x1,y:d.y1}});else{var f=c.size(),g=Math.sqrt(f*d.h/d.w),m=Math.round(g),v=Math.round(d.w/d.h*g),w=function(ve){if(null==ve)return Math.min(m,v);Math.min(m,v)==m?m=ve:v=ve},b=function(ve){if(null==ve)return Math.max(m,v);Math.max(m,v)==m?m=ve:v=ve},E=i.rows,C=null!=i.cols?i.cols:i.columns;if(null!=E&&null!=C)m=E,v=C;else if(null!=E&&null==C)m=E,v=Math.ceil(f/m);else if(null==E&&null!=C)v=C,m=Math.ceil(f/v);else if(v*m>f){var _=w(),S=b();(_-1)*S>=f?w(_-1):(S-1)*_>=f&&b(S-1)}else for(;v*m<f;){var A=w(),x=b();(x+1)*A>=f?b(x+1):w(A+1)}var I=d.w/v,P=d.h/m;if(i.condense&&(I=0,P=0),i.avoidOverlap)for(var N=0;N<c.length;N++){var B=c[N],z=B._private.position;(null==z.x||null==z.y)&&(z.x=0,z.y=0);var R=B.layoutDimensions(i),$=i.avoidOverlapPadding,j=R.h+$;I=Math.max(I,R.w+$),P=Math.max(P,j)}for(var U={},L=function(ve,pe){return!!U["c-"+ve+"-"+pe]},q=function(ve,pe){U["c-"+ve+"-"+pe]=!0},V=0,Y=0,G=function(){++Y>=v&&(Y=0,V++)},K={},X=0;X<c.length;X++){var J=c[X],oe=i.position(J);if(oe&&(void 0!==oe.row||void 0!==oe.col)){var ee={row:oe.row,col:oe.col};if(void 0===ee.col)for(ee.col=0;L(ee.row,ee.col);)ee.col++;else if(void 0===ee.row)for(ee.row=0;L(ee.row,ee.col);)ee.row++;K[J.id()]=ee,q(ee.row,ee.col)}}c.layoutPositions(this,i,function(ve,pe){var ue,Q;if(ve.locked()||ve.isParent())return!1;var se=K[ve.id()];if(se)ue=se.col*I+I/2+d.x1,Q=se.row*P+P/2+d.y1;else{for(;L(V,Y);)G();ue=Y*I+I/2+d.x1,Q=V*P+P/2+d.y1,q(V,Y),G()}return{x:ue,y:Q}})}return this};var Nu={ready:function(){},stop:function(){}};function Ti(s){this.options=Ke({},Nu,s)}Ti.prototype.run=function(){var s=this.options,i=s.eles,o=this;return o.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),o.one("layoutready",s.ready),o.emit("layoutready"),o.one("layoutstop",s.stop),o.emit("layoutstop"),this},Ti.prototype.stop=function(){return this};var Vh={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Ms(s){this.options=Ke({},Vh,s)}Ms.prototype.run=function(){var s=this.options,o=s.eles.nodes(),u=He(s.positions);return o.layoutPositions(this,s,function(d,f){var g=function c(d){if(null==s.positions)return function(i){return{x:i.x,y:i.y}}(d.position());if(u)return s.positions(d);var f=s.positions[d._private.data.id];return null==f?null:f}(d);return!d.locked()&&null!=g&&g}),this};var im={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function _d(s){this.options=Ke({},im,s)}_d.prototype.run=function(){var s=this.options,i=s.cy,o=s.eles,u=Or(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return o.nodes().layoutPositions(this,s,function(f,g){return{x:u.x1+Math.round(Math.random()*u.w),y:u.y1+Math.round(Math.random()*u.h)}}),this};var wl=[{name:"breadthfirst",impl:Ro},{name:"circle",impl:bd},{name:"concentric",impl:Rh},{name:"cose",impl:xu},{name:"grid",impl:Lh},{name:"null",impl:Ti},{name:"preset",impl:Ms},{name:"random",impl:_d}];function bl(s){this.options=s,this.notifications=0}var Sd=function(){},Bh=function(){throw new Error("A headless instance can not render images")};bl.prototype={recalculateRenderedStyle:Sd,notify:function(){this.notifications++},init:Sd,isHeadless:function(){return!0},png:Bh,jpg:Bh};var Td={arrowShapeWidth:.3,registerArrowShapes:function(){var s=this.arrowShapes={},i=this,o=function(v,w,b,E,C,_,S){return C.x-b/2-S<=v&&v<=C.x+b/2+S&&C.y-b/2-S<=w&&w<=C.y+b/2+S},u=function(v,w,b,E,C){var _=v*Math.cos(E)-w*Math.sin(E),S=v*Math.sin(E)+w*Math.cos(E);return{x:_*b+C.x,y:S*b+C.y}},c=function(v,w,b,E){for(var C=[],_=0;_<v.length;_+=2)C.push(u(v[_],v[_+1],w,b,E));return C},d=function(v){for(var w=[],b=0;b<v.length;b++){var E=v[b];w.push(E.x,E.y)}return w},f=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},g=function(v,w){le(w)&&(w=s[w]),s[v]=Ke({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(E,C,_,S,A,x){var I=d(c(this.points,_+2*x,S,A));return Lr(E,C,I)},roughCollide:o,draw:function(E,C,_,S){var A=c(this.points,C,_,S);i.arrowShapeImpl("polygon")(E,A)},spacing:function(E){return 0},gap:f},w)};g("none",{collide:Zl,roughCollide:Zl,draw:Ma,spacing:Hn,gap:Hn}),g("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),g("arrow","triangle"),g("triangle-backcurve",{points:s.triangle.points,controlPoint:[0,-.15],roughCollide:o,draw:function(v,w,b,E,C){var _=c(this.points,w,b,E),S=this.controlPoint,A=u(S[0],S[1],w,b,E);i.arrowShapeImpl(this.name)(v,_,A)},gap:function(v){return.8*f(v)}}),g("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,w,b,E,C,_,S){var A=d(c(this.points,b+2*S,E,C)),x=d(c(this.pointsTee,b+2*S,E,C));return Lr(v,w,A)||Lr(v,w,x)},draw:function(v,w,b,E,C){var _=c(this.points,w,b,E),S=c(this.pointsTee,w,b,E);i.arrowShapeImpl(this.name)(v,_,S)}}),g("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,w,b,E,C,_,S){var A=C,x=Math.pow(A.x-v,2)+Math.pow(A.y-w,2)<=Math.pow((b+2*S)*this.radius,2),I=d(c(this.points,b+2*S,E,C));return Lr(v,w,I)||x},draw:function(v,w,b,E,C){var _=c(this.pointsTr,w,b,E);i.arrowShapeImpl(this.name)(v,_,E.x,E.y,this.radius*w)},spacing:function(v){return i.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,w){var b=this.baseCrossLinePts.slice(),E=w/v;return b[3]=b[3]-E,b[5]=b[5]-E,b},collide:function(v,w,b,E,C,_,S){var A=d(c(this.points,b+2*S,E,C)),x=d(c(this.crossLinePts(b,_),b+2*S,E,C));return Lr(v,w,A)||Lr(v,w,x)},draw:function(v,w,b,E,C){var _=c(this.points,w,b,E),S=c(this.crossLinePts(w,C),w,b,E);i.arrowShapeImpl(this.name)(v,_,S)}}),g("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return.525*f(v)}}),g("circle",{radius:.15,collide:function(v,w,b,E,C,_,S){var A=C;return Math.pow(A.x-v,2)+Math.pow(A.y-w,2)<=Math.pow((b+2*S)*this.radius,2)},draw:function(v,w,b,E,C){i.arrowShapeImpl(this.name)(v,E.x,E.y,this.radius*w)},spacing:function(v){return i.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),g("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),g("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),g("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return.95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})}},si={projectIntoViewport:function(s,i){var o=this.cy,u=this.findContainerClientCoords(),c=u[0],d=u[1],f=u[4],g=o.pan(),m=o.zoom();return[((s-c)/f-g.x)/m,((i-d)/f-g.y)/m]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var s=this.container,i=s.getBoundingClientRect(),o=jt.getComputedStyle(s),u=function(x){return parseFloat(o.getPropertyValue(x))},c_left=u("padding-left"),c_right=u("padding-right"),c_top=u("padding-top"),c_bottom=u("padding-bottom"),d_left=u("border-left-width"),d_right=u("border-right-width"),d_top=u("border-top-width"),f=(u("border-bottom-width"),s.clientWidth);return this.containerBB=[i.left+c_left+d_left,i.top+c_top+d_top,f-(c_left+c_right),s.clientHeight-(c_top+c_bottom),i.width/(f+(d_left+d_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(s,i,o,u){return this.findNearestElements(s,i,o,u)[0]},findNearestElements:function(s,i,o,u){var _,S,c=this,d=this,f=d.getCachedZSortedEles(),g=[],m=d.cy.zoom(),v=d.cy.hasCompoundNodes(),w=(u?24:8)/m,b=(u?8:2)/m,E=(u?8:2)/m,C=1/0;function A(R,$){if(R.isNode()){if(S)return;S=R,g.push(R)}if(R.isEdge()&&(null==$||$<C))if(_){if(_.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value&&_.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value)for(var F=0;F<g.length;F++)if(g[F].isEdge()){g[F]=R,_=R,C=null!=$?$:C;break}}else g.push(R),_=R,C=null!=$?$:C}function x(R){var $=R.outerWidth()+2*b,F=R.outerHeight()+2*b,j=$/2,U=F/2,L=R.position();if(L.x-j<=s&&s<=L.x+j&&L.y-U<=i&&i<=L.y+U&&d.nodeShapes[c.getNodeShape(R)].checkPoint(s,i,0,$,F,L.x,L.y))return A(R,0),!0}function I(R){var Y,$=R._private,F=$.rscratch,j=R.pstyle("width").pfValue,U=R.pstyle("arrow-scale").value,L=j/2+w,q=L*L,V=2*L,X=$.source,J=$.target;if("segments"===F.edgeType||"straight"===F.edgeType||"haystack"===F.edgeType){for(var G=F.allpts,K=0;K+3<G.length;K+=2)if(wv(s,i,G[K],G[K+1],G[K+2],G[K+3],V)&&q>(Y=eh(s,i,G[K],G[K+1],G[K+2],G[K+3])))return A(R,Y),!0}else if("bezier"===F.edgeType||"multibezier"===F.edgeType||"self"===F.edgeType||"compound"===F.edgeType)for(G=F.allpts,K=0;K+5<F.allpts.length;K+=4)if(Ye(s,i,G[K],G[K+1],G[K+2],G[K+3],G[K+4],G[K+5],V)&&q>(Y=$i(s,i,G[K],G[K+1],G[K+2],G[K+3],G[K+4],G[K+5])))return A(R,Y),!0;X=X||$.source,J=J||$.target;var oe=c.getArrowWidth(j,U),ee=[{name:"source",x:F.arrowStartX,y:F.arrowStartY,angle:F.srcArrowAngle},{name:"target",x:F.arrowEndX,y:F.arrowEndY,angle:F.tgtArrowAngle},{name:"mid-source",x:F.midX,y:F.midY,angle:F.midsrcArrowAngle},{name:"mid-target",x:F.midX,y:F.midY,angle:F.midtgtArrowAngle}];for(K=0;K<ee.length;K++){var re=ee[K],he=d.arrowShapes[R.pstyle(re.name+"-arrow-shape").value],ve=R.pstyle("width").pfValue;if(he.roughCollide(s,i,oe,re.angle,{x:re.x,y:re.y},ve,w)&&he.collide(s,i,oe,re.angle,{x:re.x,y:re.y},ve,w))return A(R),!0}v&&g.length>0&&(x(X),x(J))}function P(R,$,F){return vi(R,$,F)}function N(R,$){var U,F=R._private,j=E;U=$?$+"-":"",R.boundingBox();var L=F.labelBounds[$||"main"],q=R.pstyle(U+"label").value;if("yes"===R.pstyle("text-events").strValue&&q){var Y=P(F.rscratch,"labelX",$),G=P(F.rscratch,"labelY",$),K=P(F.rscratch,"labelAngle",$),X=R.pstyle(U+"text-margin-x").pfValue,J=R.pstyle(U+"text-margin-y").pfValue,oe=L.x1-j-X,ee=L.x2+j-X,re=L.y1-j-J,he=L.y2+j-J;if(K){var ve=Math.cos(K),pe=Math.sin(K),ue=function(Ge,xe){return{x:(Ge-=Y)*ve-(xe-=G)*pe+Y,y:Ge*pe+xe*ve+G}},Q=ue(oe,re),se=ue(oe,he),ge=ue(ee,re),Ce=ue(ee,he);if(Lr(s,i,[Q.x+X,Q.y+J,ge.x+X,ge.y+J,Ce.x+X,Ce.y+J,se.x+X,se.y+J]))return A(R),!0}else if(yo(L,s,i))return A(R),!0}}o&&(f=f.interactive);for(var B=f.length-1;B>=0;B--){var z=f[B];z.isNode()?x(z)||N(z):I(z)||N(z)||N(z,"source")||N(z,"target")}return g},getAllInBox:function(s,i,o,u){for(var c=this.getCachedZSortedEles().interactive,d=[],f=Math.min(s,o),g=Math.max(s,o),m=Math.min(i,u),v=Math.max(i,u),w=Or({x1:s=f,y1:i=m,x2:o=g,y2:u=v}),b=0;b<c.length;b++){var E=c[b];if(E.isNode()){var C=E,_=C.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Oc(w,_)&&!au(_,w)&&d.push(C)}else{var S=E,A=S._private,x=A.rscratch;if(null!=x.startX&&null!=x.startY&&!yo(w,x.startX,x.startY)||null!=x.endX&&null!=x.endY&&!yo(w,x.endX,x.endY))continue;if("bezier"===x.edgeType||"multibezier"===x.edgeType||"self"===x.edgeType||"compound"===x.edgeType||"segments"===x.edgeType||"haystack"===x.edgeType){for(var I=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,P=!0,N=0;N<I.length;N++)if(!iu(w,I[N])){P=!1;break}P&&d.push(S)}else("haystack"===x.edgeType||"straight"===x.edgeType)&&d.push(S)}}return d}},Ba={calculateArrowAngles:function(s){var m,v,w,b,E,C,i=s._private.rscratch,o="haystack"===i.edgeType,u="bezier"===i.edgeType,c="multibezier"===i.edgeType,d="segments"===i.edgeType,f="compound"===i.edgeType,g="self"===i.edgeType;o?(w=i.haystackPts[0],b=i.haystackPts[1],E=i.haystackPts[2],C=i.haystackPts[3]):(w=i.arrowStartX,b=i.arrowStartY,E=i.arrowEndX,C=i.arrowEndY),x=i.midX,I=i.midY,d?(m=w-i.segpts[0],v=b-i.segpts[1]):c||f||g||u?(m=w-Zn((_=i.allpts)[0],_[2],_[4],.1),v=b-Zn(_[1],_[3],_[5],.1)):(m=w-x,v=b-I),i.srcArrowAngle=Fc(m,v);var x=i.midX,I=i.midY;if(o&&(x=(w+E)/2,I=(b+C)/2),m=E-w,v=C-b,d)if((_=i.allpts).length/2%2==0)m=_[P=_.length/2]-_[N=P-2],v=_[P+1]-_[N+1];else{var P,N,B=2+(P=_.length/2-1);m=_[P]-_[N=P-2],v=_[P+1]-_[N+1]}else if(c||f||g){var R,$,F,j,L,U,q,_=i.allpts;i.ctrlpts.length/2%2==0?(R=Zn(_[U=_.length/2-1],_[L=U+2],_[q=L+2],0),$=Zn(_[U+1],_[L+1],_[q+1],0),F=Zn(_[U],_[L],_[q],1e-4),j=Zn(_[U+1],_[L+1],_[q+1],1e-4)):(R=Zn(_[U=(L=_.length/2-1)-2],_[L],_[q=L+2],.4999),$=Zn(_[U+1],_[L+1],_[q+1],.4999),F=Zn(_[U],_[L],_[q],.5),j=Zn(_[U+1],_[L+1],_[q+1],.5)),m=F-R,v=j-$}if(i.midtgtArrowAngle=Fc(m,v),i.midDispX=m,i.midDispY=v,m*=-1,v*=-1,d&&(_=i.allpts).length/2%2!=0&&(m=-(_[B=2+(P=_.length/2-1)]-_[P]),v=-(_[B+1]-_[P+1])),i.midsrcArrowAngle=Fc(m,v),d)m=E-i.segpts[i.segpts.length-2],v=C-i.segpts[i.segpts.length-1];else if(c||f||g||u){var V=(_=i.allpts).length;m=E-Zn(_[V-6],_[V-4],_[V-2],.9),v=C-Zn(_[V-5],_[V-3],_[V-1],.9)}else m=E-x,v=C-I;i.tgtArrowAngle=Fc(m,v)}};Ba.getArrowWidth=Ba.getArrowHeight=function(s,i){var o=this.arrowWidthCache=this.arrowWidthCache||{},u=o[s+", "+i];return u||(u=Math.max(Math.pow(13.37*s,.9),29)*i,o[s+", "+i]=u,u)};var mr={};function am(s){var i=[];if(null!=s){for(var o=0;o<s.length;o+=2)i.push({x:s[o],y:s[o+1]});return i}}mr.findHaystackPoints=function(s){for(var i=0;i<s.length;i++){var o=s[i],u=o._private,c=u.rscratch;if(!c.haystack){var d=2*Math.random()*Math.PI;c.source={x:Math.cos(d),y:Math.sin(d)},d=2*Math.random()*Math.PI,c.target={x:Math.cos(d),y:Math.sin(d)}}var f=u.source,g=u.target,m=f.position(),v=g.position(),w=f.width(),b=g.width(),E=f.height(),C=g.height(),S=o.pstyle("haystack-radius").value/2;c.haystackPts=c.allpts=[c.source.x*w*S+m.x,c.source.y*E*S+m.y,c.target.x*b*S+v.x,c.target.y*C*S+v.y],c.midX=(c.allpts[0]+c.allpts[2])/2,c.midY=(c.allpts[1]+c.allpts[3])/2,c.edgeType="haystack",c.haystack=!0,this.storeEdgeProjections(o),this.calculateArrowAngles(o),this.recalculateEdgeLabelProjections(o),this.calculateLabelAngles(o)}},mr.findSegmentsPoints=function(s,i){var o=s._private.rscratch,u=i.posPts,c=i.intersectionPts,d=i.vectorNormInverse,f=s.pstyle("edge-distances").value,g=s.pstyle("segment-weights"),m=s.pstyle("segment-distances"),v=Math.min(g.pfValue.length,m.pfValue.length);o.edgeType="segments",o.segpts=[];for(var w=0;w<v;w++){var b=g.pfValue[w],E=m.pfValue[w],C=1-b,S="node-position"===f?u:c,A={x:S.x1*C+S.x2*b,y:S.y1*C+S.y2*b};o.segpts.push(A.x+d.x*E,A.y+d.y*E)}},mr.findLoopPoints=function(s,i,o,u){var c=s._private.rscratch,d=i.dirCounts,f=i.srcPos,g=s.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,v=s.pstyle("loop-direction").pfValue,w=s.pstyle("loop-sweep").pfValue,b=s.pstyle("control-point-step-size").pfValue;c.edgeType="self";var E=o,C=b;u&&(E=0,C=m);var _=v-Math.PI/2,S=_-w/2,A=_+w/2,x=String(v+"_"+w);E=void 0===d[x]?d[x]=0:++d[x],c.ctrlpts=[f.x+1.4*Math.cos(S)*C*(E/3+1),f.y+1.4*Math.sin(S)*C*(E/3+1),f.x+1.4*Math.cos(A)*C*(E/3+1),f.y+1.4*Math.sin(A)*C*(E/3+1)]},mr.findCompoundLoopPoints=function(s,i,o,u){var c=s._private.rscratch;c.edgeType="compound";var d=i.srcPos,f=i.tgtPos,g=i.srcW,m=i.srcH,v=i.tgtW,w=i.tgtH,b=s.pstyle("control-point-step-size").pfValue,E=s.pstyle("control-point-distances"),_=o,S=b;u&&(_=0,S=E?E.pfValue[0]:void 0);var x={x:d.x-g/2,y:d.y-m/2},I={x:f.x-v/2,y:f.y-w/2},P={x:Math.min(x.x,I.x),y:Math.min(x.y,I.y)},B=Math.max(.5,Math.log(.01*g)),z=Math.max(.5,Math.log(.01*v));c.ctrlpts=[P.x,P.y-(1+Math.pow(50,1.12)/100)*S*(_/3+1)*B,P.x-(1+Math.pow(50,1.12)/100)*S*(_/3+1)*z,P.y]},mr.findStraightEdgePoints=function(s){s._private.rscratch.edgeType="straight"},mr.findBezierPoints=function(s,i,o,u,c){var d=s._private.rscratch,f=i.vectorNormInverse,g=i.posPts,m=i.intersectionPts,v=s.pstyle("edge-distances").value,w=s.pstyle("control-point-step-size").pfValue,b=s.pstyle("control-point-distances"),E=s.pstyle("control-point-weights"),C=b&&E?Math.min(b.value.length,E.value.length):1,_=b?b.pfValue[0]:void 0,S=E.value[0],A=u;d.edgeType=A?"multibezier":"bezier",d.ctrlpts=[];for(var x=0;x<C;x++){var P,I=(.5-i.eles.length/2+o)*w*(c?-1:1),N=mv(I);A&&(_=b?b.pfValue[x]:w,S=E.value[x]);var B=void 0!==(P=u?_:void 0!==_?N*_:void 0)?P:I,z=1-S,$="node-position"===v?g:m,F={x:$.x1*z+$.x2*S,y:$.y1*z+$.y2*S};d.ctrlpts.push(F.x+f.x*B,F.y+f.y*B)}},mr.findTaxiPoints=function(s,i){var o=s._private.rscratch;o.edgeType="segments";var u="vertical",c="horizontal",d="leftward",f="rightward",g="downward",m="upward",w=i.posPts,b=i.srcW,E=i.srcH,C=i.tgtW,_=i.tgtH,A="node-position"!==s.pstyle("edge-distances").value,x=s.pstyle("taxi-direction").value,I=x,P=s.pstyle("taxi-turn"),N="%"===P.units,B=P.pfValue,z=B<0,R=s.pstyle("taxi-turn-min-distance").pfValue,F=A?(E+_)/2:0,j=w.x2-w.x1,U=w.y2-w.y1,L=function(Oe,Et){return Oe>0?Math.max(Oe-Et,0):Math.min(Oe+Et,0)},q=L(j,A?(b+C)/2:0),V=L(U,F),Y=!1;"auto"===I?x=Math.abs(q)>Math.abs(V)?c:u:I===m||I===g?(x=u,Y=!0):(I===d||I===f)&&(x=c,Y=!0);var ee,G=x===u,K=G?V:q,X=G?U:j,J=mv(X),oe=!1;(!Y||!N&&!z)&&(I===g&&X<0||I===m&&X>0||I===d&&X>0||I===f&&X<0)&&(K=(J*=-1)*Math.abs(K),oe=!0);var ve=function(Oe){return Math.abs(Oe)<R||Math.abs(Oe)>=Math.abs(K)},pe=ve(ee=N?(B<0?1+B:B)*K:(B<0?K:0)+B*J),ue=ve(Math.abs(K)-Math.abs(ee));if(!pe&&!ue||oe)if(G){var O=w.y1+ee+(A?E/2*J:0);o.segpts=[w.x1,O,w.x2,O]}else{var ce=w.x1+ee+(A?b/2*J:0);o.segpts=[ce,w.y1,ce,w.y2]}else if(G){var se=Math.abs(X)<=E/2,ge=Math.abs(j)<=C/2;if(se){var Ce=(w.x1+w.x2)/2;o.segpts=[Ce,w.y1,Ce,w.y2]}else if(ge){var Ge=(w.y1+w.y2)/2;o.segpts=[w.x1,Ge,w.x2,Ge]}else o.segpts=[w.x1,w.y2]}else{var Qe=Math.abs(X)<=b/2,ze=Math.abs(U)<=_/2;if(Qe){var Fe=(w.y1+w.y2)/2;o.segpts=[w.x1,Fe,w.x2,Fe]}else if(ze){var bt=(w.x1+w.x2)/2;o.segpts=[bt,w.y1,bt,w.y2]}else o.segpts=[w.x2,w.y1]}},mr.tryToCorrectInvalidPoints=function(s,i){var o=s._private.rscratch;if("bezier"===o.edgeType){var u=i.srcPos,c=i.tgtPos,d=i.srcW,f=i.srcH,g=i.tgtW,m=i.tgtH,v=i.srcShape,w=i.tgtShape,b=!Ee(o.startX)||!Ee(o.startY),E=!Ee(o.arrowStartX)||!Ee(o.arrowStartY),C=!Ee(o.endX)||!Ee(o.endY),_=!Ee(o.arrowEndX)||!Ee(o.arrowEndY),x=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,I=mo({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.startX,y:o.startY}),P=I<x,N=mo({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.endX,y:o.endY}),B=N<x,z=!1;if(b||E||P){z=!0;var R={x:o.ctrlpts[0]-u.x,y:o.ctrlpts[1]-u.y},$=Math.sqrt(R.x*R.x+R.y*R.y),F={x:R.x/$,y:R.y/$},j=Math.max(d,f),U={x:o.ctrlpts[0]+2*F.x*j,y:o.ctrlpts[1]+2*F.y*j},L=v.intersectLine(u.x,u.y,d,f,U.x,U.y,0);P?(o.ctrlpts[0]=o.ctrlpts[0]+F.x*(x-I),o.ctrlpts[1]=o.ctrlpts[1]+F.y*(x-I)):(o.ctrlpts[0]=L[0]+F.x*x,o.ctrlpts[1]=L[1]+F.y*x)}if(C||_||B){z=!0;var q={x:o.ctrlpts[0]-c.x,y:o.ctrlpts[1]-c.y},V=Math.sqrt(q.x*q.x+q.y*q.y),Y={x:q.x/V,y:q.y/V},G=Math.max(d,f),K={x:o.ctrlpts[0]+2*Y.x*G,y:o.ctrlpts[1]+2*Y.y*G},X=w.intersectLine(c.x,c.y,g,m,K.x,K.y,0);B?(o.ctrlpts[0]=o.ctrlpts[0]+Y.x*(x-N),o.ctrlpts[1]=o.ctrlpts[1]+Y.y*(x-N)):(o.ctrlpts[0]=X[0]+Y.x*x,o.ctrlpts[1]=X[1]+Y.y*x)}z&&this.findEndpoints(s)}},mr.storeAllpts=function(s){var i=s._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var o=0;o+1<i.ctrlpts.length;o+=2)i.allpts.push(i.ctrlpts[o],i.ctrlpts[o+1]),o+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[o]+i.ctrlpts[o+2])/2,(i.ctrlpts[o+1]+i.ctrlpts[o+3])/2);var u;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[u=i.allpts.length/2-1],i.midY=i.allpts[u+1]):(i.midX=Zn(i.allpts[u=i.allpts.length/2-3],i.allpts[u+2],i.allpts[u+4],.5),i.midY=Zn(i.allpts[u+1],i.allpts[u+3],i.allpts[u+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var d=i.segpts.length/2,f=d-2;i.midX=(i.segpts[f]+i.segpts[d])/2,i.midY=(i.segpts[f+1]+i.segpts[d+1])/2}else{var g=i.segpts.length/2-1;i.midX=i.segpts[g],i.midY=i.segpts[g+1]}},mr.checkForInvalidEdgeWarning=function(s){var i=s[0]._private.rscratch;i.nodesOverlap||Ee(i.startX)&&Ee(i.startY)&&Ee(i.endX)&&Ee(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,Kt("Edge `"+s.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},mr.findEdgeControlPoints=function(s){var i=this;if(s&&0!==s.length){for(var o=this,c=o.cy.hasCompoundNodes(),d={map:new Vi,get:function(R){var $=this.map.get(R[0]);return null!=$?$.get(R[1]):null},set:function(R,$){var F=this.map.get(R[0]);null==F&&(F=new Vi,this.map.set(R[0],F)),F.set(R[1],$)}},f=[],g=[],m=0;m<s.length;m++){var v=s[m],w=v._private,b=v.pstyle("curve-style").value;if(!v.removed()&&v.takesUpSpace()){if("haystack"===b){g.push(v);continue}var E="unbundled-bezier"===b||"segments"===b||"straight"===b||"straight-triangle"===b||"taxi"===b,C="unbundled-bezier"===b||"bezier"===b,S=w.target,I=[w.source.poolIndex(),S.poolIndex()].sort(),P=d.get(I);null==P&&(d.set(I,P={eles:[]}),f.push(I)),P.eles.push(v),E&&(P.hasUnbundled=!0),C&&(P.hasBezier=!0)}}for(var N=function(R){var F=d.get(f[R]),j=void 0;if(!F.hasUnbundled){var U=F.eles[0].parallelEdges().filter(function(_e){return _e.isBundledBezier()});Pc(F.eles),U.forEach(function(_e){return F.eles.push(_e)}),F.eles.sort(function(_e,O){return _e.poolIndex()-O.poolIndex()})}var L=F.eles[0],q=L.source(),V=L.target();if(q.poolIndex()>V.poolIndex()){var Y=q;q=V,V=Y}var G=F.srcPos=q.position(),K=F.tgtPos=V.position(),X=F.srcW=q.outerWidth(),J=F.srcH=q.outerHeight(),oe=F.tgtW=V.outerWidth(),ee=F.tgtH=V.outerHeight(),re=F.srcShape=o.nodeShapes[i.getNodeShape(q)],he=F.tgtShape=o.nodeShapes[i.getNodeShape(V)];F.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ve=0;ve<F.eles.length;ve++){var pe=F.eles[ve],ue=pe[0]._private.rscratch,Q=pe.pstyle("curve-style").value,se="unbundled-bezier"===Q||"segments"===Q||"taxi"===Q,ge=!q.same(pe.source());if(!F.calculatedIntersection&&q!==V&&(F.hasBezier||F.hasUnbundled)){F.calculatedIntersection=!0;var Ce=re.intersectLine(G.x,G.y,X,J,K.x,K.y,0),Ae=F.srcIntn=Ce,st=he.intersectLine(K.x,K.y,oe,ee,G.x,G.y,0),Ge=F.tgtIntn=st,xe=F.intersectionPts={x1:Ce[0],x2:st[0],y1:Ce[1],y2:st[1]},Te=F.posPts={x1:G.x,x2:K.x,y1:G.y,y2:K.y},Qe=st[1]-Ce[1],ze=st[0]-Ce[0],Fe=Math.sqrt(ze*ze+Qe*Qe),je=F.vector={x:ze,y:Qe},Tt=F.vectorNorm={x:je.x/Fe,y:je.y/Fe},bt={x:-Tt.y,y:Tt.x};F.nodesOverlap=!Ee(Fe)||he.checkPoint(Ce[0],Ce[1],0,oe,ee,K.x,K.y)||re.checkPoint(st[0],st[1],0,X,J,G.x,G.y),F.vectorNormInverse=bt,j={nodesOverlap:F.nodesOverlap,dirCounts:F.dirCounts,calculatedIntersection:!0,hasBezier:F.hasBezier,hasUnbundled:F.hasUnbundled,eles:F.eles,srcPos:K,tgtPos:G,srcW:oe,srcH:ee,tgtW:X,tgtH:J,srcIntn:Ge,tgtIntn:Ae,srcShape:he,tgtShape:re,posPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},intersectionPts:{x1:xe.x2,y1:xe.y2,x2:xe.x1,y2:xe.y1},vector:{x:-je.x,y:-je.y},vectorNorm:{x:-Tt.x,y:-Tt.y},vectorNormInverse:{x:-bt.x,y:-bt.y}}}var ht=ge?j:F;ue.nodesOverlap=ht.nodesOverlap,ue.srcIntn=ht.srcIntn,ue.tgtIntn=ht.tgtIntn,c&&(q.isParent()||q.isChild()||V.isParent()||V.isChild())&&(q.parents().anySame(V)||V.parents().anySame(q)||q.same(V)&&q.isParent())?i.findCompoundLoopPoints(pe,ht,ve,se):q===V?i.findLoopPoints(pe,ht,ve,se):"segments"===Q?i.findSegmentsPoints(pe,ht):"taxi"===Q?i.findTaxiPoints(pe,ht):"straight"===Q||!se&&F.eles.length%2==1&&ve===Math.floor(F.eles.length/2)?i.findStraightEdgePoints(pe):i.findBezierPoints(pe,ht,ve,se,ge),i.findEndpoints(pe),i.tryToCorrectInvalidPoints(pe,ht),i.checkForInvalidEdgeWarning(pe),i.storeAllpts(pe),i.storeEdgeProjections(pe),i.calculateArrowAngles(pe),i.recalculateEdgeLabelProjections(pe),i.calculateLabelAngles(pe)}},B=0;B<f.length;B++)N(B);this.findHaystackPoints(g)}},mr.getSegmentPoints=function(s){var i=s[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(s),am(i.segpts)},mr.getControlPoints=function(s){var i=s[0]._private.rscratch,o=i.edgeType;if("bezier"===o||"multibezier"===o||"self"===o||"compound"===o)return this.recalculateRenderedStyle(s),am(i.ctrlpts)},mr.getEdgeMidpoint=function(s){var i=s[0]._private.rscratch;return this.recalculateRenderedStyle(s),{x:i.midX,y:i.midY}};var As={manualEndptToPx:function(s,i){var u=s.position(),c=s.outerWidth(),d=s.outerHeight();if(2===i.value.length){var f=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(f[0]=f[0]*c),"%"===i.units[1]&&(f[1]=f[1]*d),f[0]+=u.x,f[1]+=u.y,f}var g=i.pfValue[0];g=-Math.PI/2+g;var m=2*Math.max(c,d),v=[u.x+Math.cos(g)*m,u.y+Math.sin(g)*m];return this.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,c,d,v[0],v[1],0)},findEndpoints:function(s){var o,j,U,L,q,i=this,u=s.source()[0],c=s.target()[0],d=u.position(),f=c.position(),g=s.pstyle("target-arrow-shape").value,m=s.pstyle("source-arrow-shape").value,v=s.pstyle("target-distance-from-node").pfValue,w=s.pstyle("source-distance-from-node").pfValue,b=s.pstyle("curve-style").value,E=s._private.rscratch,C=E.edgeType,S="self"===C||"compound"===C,A="bezier"===C||"multibezier"===C||S,x="bezier"!==C,I="straight"===C||"segments"===C,P="segments"===C,N=A||x||I,B=S||"taxi"===b,z=s.pstyle("source-endpoint"),R=B?"outside-to-node":z.value,$=s.pstyle("target-endpoint"),F=B?"outside-to-node":$.value;if(E.srcManEndpt=z,E.tgtManEndpt=$,A){var V=[E.ctrlpts[0],E.ctrlpts[1]];j=x?[E.ctrlpts[E.ctrlpts.length-2],E.ctrlpts[E.ctrlpts.length-1]]:V,U=V}else if(I){var G=P?E.segpts.slice(0,2):[f.x,f.y];j=P?E.segpts.slice(E.segpts.length-2):[d.x,d.y],U=G}if("inside-to-node"===F)o=[f.x,f.y];else if($.units)o=this.manualEndptToPx(c,$);else if("outside-to-line"===F)o=E.tgtIntn;else if("outside-to-node"===F||"outside-to-node-or-label"===F?L=j:("outside-to-line"===F||"outside-to-line-or-label"===F)&&(L=[d.x,d.y]),o=i.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),L[0],L[1],0),"outside-to-node-or-label"===F||"outside-to-line-or-label"===F){var X=c._private.rscratch,ee=X.labelX,re=X.labelY,he=X.labelWidth/2,ve=X.labelHeight/2,pe=c.pstyle("text-valign").value;"top"===pe?re-=ve:"bottom"===pe&&(re+=ve);var ue=c.pstyle("text-halign").value;"left"===ue?ee-=he:"right"===ue&&(ee+=he);var Q=Dt(L[0],L[1],[ee-he,re-ve,ee+he,re-ve,ee+he,re+ve,ee-he,re+ve],f.x,f.y);if(Q.length>0){var se=d,ge=ss(se,Un(o)),Ce=ss(se,Un(Q)),Ae=ge;Ce<ge&&(o=Q,Ae=Ce),Q.length>2&&ss(se,{x:Q[2],y:Q[3]})<Ae&&(o=[Q[2],Q[3]])}}var Ge=us(o,j,i.arrowShapes[g].spacing(s)+v),xe=us(o,j,i.arrowShapes[g].gap(s)+v);if(E.endX=xe[0],E.endY=xe[1],E.arrowEndX=Ge[0],E.arrowEndY=Ge[1],"inside-to-node"===R)o=[d.x,d.y];else if(z.units)o=this.manualEndptToPx(u,z);else if("outside-to-line"===R)o=E.srcIntn;else if("outside-to-node"===R||"outside-to-node-or-label"===R?q=U:("outside-to-line"===R||"outside-to-line-or-label"===R)&&(q=[f.x,f.y]),o=i.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),q[0],q[1],0),"outside-to-node-or-label"===R||"outside-to-line-or-label"===R){var Te=u._private.rscratch,Fe=Te.labelX,je=Te.labelY,Tt=Te.labelWidth/2,bt=Te.labelHeight/2,ht=u.pstyle("text-valign").value;"top"===ht?je-=bt:"bottom"===ht&&(je+=bt);var _e=u.pstyle("text-halign").value;"left"===_e?Fe-=Tt:"right"===_e&&(Fe+=Tt);var O=Dt(q[0],q[1],[Fe-Tt,je-bt,Fe+Tt,je-bt,Fe+Tt,je+bt,Fe-Tt,je+bt],d.x,d.y);if(O.length>0){var te=f,me=ss(te,Un(o)),ce=ss(te,Un(O)),de=me;ce<me&&(o=[O[0],O[1]],de=ce),O.length>2&&ss(te,{x:O[2],y:O[3]})<de&&(o=[O[2],O[3]])}}var ye=us(o,U,i.arrowShapes[m].spacing(s)+w),Oe=us(o,U,i.arrowShapes[m].gap(s)+w);E.startX=Oe[0],E.startY=Oe[1],E.arrowStartX=ye[0],E.arrowStartY=ye[1],N&&(E.badLine=!(Ee(E.startX)&&Ee(E.startY)&&Ee(E.endX)&&Ee(E.endY)))},getSourceEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},Md={};function Sb(s,i,o){for(var u=function(v,w,b,E){return Zn(v,w,b,E)},d=i._private.rstyle.bezierPts,f=0;f<s.bezierProjPcts.length;f++){var g=s.bezierProjPcts[f];d.push({x:u(o[0],o[2],o[4],g),y:u(o[1],o[3],o[5],g)})}}Md.storeEdgeProjections=function(s){var i=s._private,o=i.rscratch,u=o.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===u||"bezier"===u||"self"===u||"compound"===u){i.rstyle.bezierPts=[];for(var c=0;c+5<o.allpts.length;c+=4)Sb(this,s,o.allpts.slice(c,c+6))}else if("segments"===u){var d=i.rstyle.linePts=[];for(c=0;c+1<o.allpts.length;c+=2)d.push({x:o.allpts[c],y:o.allpts[c+1]})}else if("haystack"===u){var f=o.haystackPts;i.rstyle.haystackPts=[{x:f[0],y:f[1]},{x:f[2],y:f[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth},Md.recalculateEdgeProjections=function(s){this.findEdgeControlPoints(s)};var Gi={recalculateNodeLabelProjection:function(s){var i=s.pstyle("label").strValue;if(!kn(i)){var o,u,c=s._private,d=s.width(),f=s.height(),g=s.padding(),m=s.position(),v=s.pstyle("text-halign").strValue,w=s.pstyle("text-valign").strValue,b=c.rscratch,E=c.rstyle;switch(v){case"left":o=m.x-d/2-g;break;case"right":o=m.x+d/2+g;break;default:o=m.x}switch(w){case"top":u=m.y-f/2-g;break;case"bottom":u=m.y+f/2+g;break;default:u=m.y}b.labelX=o,b.labelY=u,E.labelX=o,E.labelY=u,this.calculateLabelAngles(s),this.applyLabelDimensions(s)}}},$h=function(i,o){var u=Math.atan(o/i);return 0===i&&u<0&&(u*=-1),u},Hh=function(i,o){return $h(o.x-i.x,o.y-i.y)};Gi.recalculateEdgeLabelProjections=function(s){var i,o=s._private,u=o.rscratch,c=this,d={mid:s.pstyle("label").strValue,source:s.pstyle("source-label").strValue,target:s.pstyle("target-label").strValue};if(d.mid||d.source||d.target){var f=function(b,E,C){la(o.rscratch,b,E,C),la(o.rstyle,b,E,C)};f("labelX",null,(i={x:u.midX,y:u.midY}).x),f("labelY",null,i.y);var g=$h(u.midDispX,u.midDispY);f("labelAutoAngle",null,g);var m=function w(){if(w.cache)return w.cache;for(var b=[],E=0;E+5<u.allpts.length;E+=4)b.push({p0:{x:u.allpts[E],y:u.allpts[E+1]},p1:{x:u.allpts[E+2],y:u.allpts[E+3]},p2:{x:u.allpts[E+4],y:u.allpts[E+5]},startDist:0,length:0,segments:[]});var A=o.rstyle.bezierPts,x=c.bezierProjPcts.length;function I(R,$,F,j,U){var L=mo($,F),q=R.segments[R.segments.length-1];R.segments.push({p0:$,p1:F,t0:j,t1:U,startDist:q?q.startDist+q.length:0,length:L}),R.length+=L}for(var P=0;P<b.length;P++){var N=b[P],B=b[P-1];B&&(N.startDist=B.startDist+B.length),I(N,N.p0,A[P*x],0,c.bezierProjPcts[0]);for(var z=0;z<x-1;z++)I(N,A[P*x+z],A[P*x+z+1],c.bezierProjPcts[z],c.bezierProjPcts[z+1]);I(N,A[P*x+x-1],N.p2,c.bezierProjPcts[x-1],1)}return w.cache=b},v=function(b){var E,C="source"===b;if(d[b]){var _=s.pstyle(b+"-text-offset").pfValue;switch(u.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,S=m(),x=0,I=0,P=0;P<S.length;P++){for(var N=S[C?P:S.length-1-P],B=0;B<N.segments.length;B++){var z=N.segments[C?B:N.segments.length-1-B];if(x=I,(I+=z.length)>=_||P===S.length-1&&B===N.segments.length-1){A={cp:N,segment:z};break}}if(A)break}var $=A.cp,F=A.segment,j=(_-x)/F.length,U=F.t1-F.t0,L=C?F.t0+U*j:F.t1-U*j;L=nu(0,L,1),i=jn($.p0,$.p1,$.p2,L),E=function(i,o,u,c){var d=nu(0,c-.001,1),f=nu(0,c+.001,1),g=jn(i,o,u,d),m=jn(i,o,u,f);return Hh(g,m)}($.p0,$.p1,$.p2,L);break;case"straight":case"segments":case"haystack":for(var V,Y,G,K,q=0,X=u.allpts.length,J=0;J+3<X&&(C?(G={x:u.allpts[J],y:u.allpts[J+1]},K={x:u.allpts[J+2],y:u.allpts[J+3]}):(G={x:u.allpts[X-2-J],y:u.allpts[X-1-J]},K={x:u.allpts[X-4-J],y:u.allpts[X-3-J]}),Y=q,!((q+=V=mo(G,K))>=_));J+=2);var ee=(_-Y)/V;ee=nu(0,ee,1),i=function(i,o,u,c){var d_x=o.x-i.x,d_y=o.y-i.y,f=mo(i,o);return u=null==u?0:u,{x:i.x+d_x/f*(c=null!=c?c:u*f),y:i.y+d_y/f*c}}(G,K,ee),E=Hh(G,K)}f("labelX",b,i.x),f("labelY",b,i.y),f("labelAutoAngle",b,E)}};v("source"),v("target"),this.applyLabelDimensions(s)}},Gi.applyLabelDimensions=function(s){this.applyPrefixedLabelDimensions(s),s.isEdge()&&(this.applyPrefixedLabelDimensions(s,"source"),this.applyPrefixedLabelDimensions(s,"target"))},Gi.applyPrefixedLabelDimensions=function(s,i){var o=s._private,u=this.getLabelText(s,i),c=this.calculateLabelDimensions(s,u),d=s.pstyle("line-height").pfValue,f=s.pstyle("text-wrap").strValue,g=vi(o.rscratch,"labelWrapCachedLines",i)||[],m="wrap"!==f?1:Math.max(g.length,1),v=c.height/m,w=v*d,b=c.width,E=c.height+(m-1)*(d-1)*v;la(o.rstyle,"labelWidth",i,b),la(o.rscratch,"labelWidth",i,b),la(o.rstyle,"labelHeight",i,E),la(o.rscratch,"labelHeight",i,E),la(o.rscratch,"labelLineHeight",i,w)},Gi.getLabelText=function(s,i){var o=s._private,c=s.pstyle((i?i+"-":"")+"label").strValue,d=s.pstyle("text-transform").value,f=function(oe,ee){return ee?(la(o.rscratch,oe,i,ee),ee):vi(o.rscratch,oe,i)};if(!c)return"";"none"==d||("uppercase"==d?c=c.toUpperCase():"lowercase"==d&&(c=c.toLowerCase()));var g=s.pstyle("text-wrap").value;if("wrap"===g){var m=f("labelKey");if(null!=m&&f("labelWrapKey")===m)return f("labelWrapCachedText");for(var w=c.split("\n"),b=s.pstyle("text-max-width").pfValue,C="anywhere"===s.pstyle("text-overflow-wrap").value,_=[],S=/[\s\u200b]+/,A=C?"":" ",x=0;x<w.length;x++){var I=w[x],N=this.calculateLabelDimensions(s,I).width;if(C){var B=I.split("").join("\u200b");I=B}if(N>b){for(var z=I.split(S),R="",$=0;$<z.length;$++){var F=z[$];this.calculateLabelDimensions(s,0===R.length?F:R+A+F).width<=b?R+=F+A:(R&&_.push(R),R=F+A)}R.match(/^[\s\u200b]+$/)||_.push(R)}else _.push(I)}f("labelWrapCachedLines",_),c=f("labelWrapCachedText",_.join("\n")),f("labelWrapKey",m)}else if("ellipsis"===g){var q=s.pstyle("text-max-width").pfValue,V="",G=!1;if(this.calculateLabelDimensions(s,c).width<q)return c;for(var K=0;K<c.length&&!(this.calculateLabelDimensions(s,V+c[K]+"\u2026").width>q);K++)V+=c[K],K===c.length-1&&(G=!0);return G||(V+="\u2026"),V}return c},Gi.getLabelJustification=function(s){var i=s.pstyle("text-justification").strValue,o=s.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!s.isNode())return"center";switch(o){case"left":return"right";case"right":return"left";default:return"center"}},Gi.calculateLabelDimensions=function(s,i){var u=vo(i,s._private.labelDimsKey),c=this.labelDimCache||(this.labelDimCache=[]),d=c[u];if(null!=d)return d;var g=s.pstyle("font-style").strValue,m=s.pstyle("font-size").pfValue,v=s.pstyle("font-family").strValue,w=s.pstyle("font-weight").strValue,b=this.labelCalcCanvas,E=this.labelCalcCanvasContext;if(!b){b=this.labelCalcCanvas=document.createElement("canvas"),E=this.labelCalcCanvasContext=b.getContext("2d");var C=b.style;C.position="absolute",C.left="-9999px",C.top="-9999px",C.zIndex="-1",C.visibility="hidden",C.pointerEvents="none"}E.font="".concat(g," ").concat(w," ").concat(m,"px ").concat(v);for(var _=0,S=0,A=i.split("\n"),x=0;x<A.length;x++){var P=E.measureText(A[x]),N=Math.ceil(P.width),B=m;_=Math.max(N,_),S+=B}return c[u]={width:_+=0,height:S+=0}},Gi.calculateLabelAngle=function(s,i){var u=s._private.rscratch,c=s.isEdge(),f=s.pstyle((i?i+"-":"")+"text-rotation"),g=f.strValue;return"none"===g?0:c&&"autorotate"===g?u.labelAutoAngle:"autorotate"===g?0:f.pfValue},Gi.calculateLabelAngles=function(s){var i=this,o=s.isEdge(),c=s._private.rscratch;c.labelAngle=i.calculateLabelAngle(s),o&&(c.sourceLabelAngle=i.calculateLabelAngle(s,"source"),c.targetLabelAngle=i.calculateLabelAngle(s,"target"))};var Ad={},xd=!1;Ad.getNodeShape=function(s){var o=s.pstyle("shape").value;if("cutrectangle"===o&&(s.width()<28||s.height()<28))return xd||(Kt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),xd=!0),"rectangle";if(s.isParent())return"rectangle"===o||"roundrectangle"===o||"round-rectangle"===o||"cutrectangle"===o||"cut-rectangle"===o||"barrel"===o?o:"rectangle";if("polygon"===o){var u=s.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(u).name}return o};var Dl={updateCachedGrabbedEles:function(){var s=this.cachedZSortedEles;if(s){s.drag=[],s.nondrag=[];for(var i=[],o=0;o<s.length;o++){var c=(u=s[o])._private.rscratch;u.grabbed()&&!u.isParent()?i.push(u):c.inDragLayer?s.drag.push(u):s.nondrag.push(u)}for(o=0;o<i.length;o++){var u;s.drag.push(u=i[o])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(s){if(s||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(To),i.interactive=i.filter(function(o){return o.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},om={};[si,Ba,mr,As,Md,Gi,Ad,{registerCalculationListeners:function(){var s=this.cy,i=s.collection(),o=this,u=function(f){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(f),g)for(var m=0;m<f.length;m++){var v=f[m],w=v._private,b=w.rstyle;b.clean=!1,b.cleanConnected=!1}};o.binder(s).on("bounds.* dirty.*",function(f){u(f.target)}).on("style.* background.*",function(f){u(f.target,!1)});var c=function(f){if(f){var g=o.onUpdateEleCalcsFns;i.cleanStyle();for(var m=0;m<i.length;m++){var v=i[m],w=v._private.rstyle;v.isNode()&&!w.cleanConnected&&(u(v.connectedEdges()),w.cleanConnected=!0)}if(g)for(var b=0;b<g.length;b++)(0,g[b])(f,i);o.recalculateRenderedStyle(i),i=s.collection()}};o.flushRenderedStyleQueue=function(){c(!0)},o.beforeRender(c,o.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(s){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(s)},recalculateRenderedStyle:function(s,i){var o=function(N){return N._private.rstyle.cleanConnected},u=[],c=[];if(!this.destroyed){void 0===i&&(i=!0);for(var d=0;d<s.length;d++){var f=s[d],g=f._private,m=g.rstyle;f.isEdge()&&(!o(f.source())||!o(f.target()))&&(m.clean=!1),!(i&&m.clean||f.removed())&&"none"!==f.pstyle("display").value&&("nodes"===g.group?c.push(f):u.push(f),m.clean=!0)}for(var v=0;v<c.length;v++){var w=c[v],E=w._private.rstyle,C=w.position();this.recalculateNodeLabelProjection(w),E.nodeX=C.x,E.nodeY=C.y,E.nodeW=w.pstyle("width").pfValue,E.nodeH=w.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(var _=0;_<u.length;_++){var A=u[_]._private,x=A.rstyle,I=A.rscratch;x.srcX=I.arrowStartX,x.srcY=I.arrowStartY,x.tgtX=I.arrowEndX,x.tgtY=I.arrowEndY,x.midX=I.midX,x.midY=I.midY,x.labelAngle=I.labelAngle,x.sourceLabelAngle=I.sourceLabelAngle,x.targetLabelAngle=I.targetLabelAngle}}}},Dl].forEach(function(s){Ke(om,s)});var El={getCachedImage:function(s,i,o){var c=this.imageCache=this.imageCache||{},d=c[s];if(d)return d.image.complete||d.image.addEventListener("load",o),d.image;var f=(d=c[s]=c[s]||{}).image=new Image;f.addEventListener("load",o),f.addEventListener("error",function(){f.error=!0});var g="data:";return s.substring(0,g.length).toLowerCase()===g||(f.crossOrigin=i),f.src=s,f}},$a={registerBinding:function(s,i,o,u){var c=Array.prototype.slice.apply(arguments,[1]),d=this.binder(s);return d.on.apply(d,c)},binder:function(s){var i=this,o=s===window||s===document||s===document.body||function(i){return"undefined"!=typeof HTMLElement&&i instanceof HTMLElement}(s);if(null==i.supportsPassiveEvents){var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){return u=!0,!0}});window.addEventListener("test",null,c)}catch(f){}i.supportsPassiveEvents=u}var d=function(g,m,v){var w=Array.prototype.slice.call(arguments);return o&&i.supportsPassiveEvents&&(w[2]={capture:null!=v&&v,passive:!1,once:!1}),i.bindings.push({target:s,args:w}),(s.addEventListener||s.on).apply(s,w),this};return{on:d,addEventListener:d,addListener:d,bind:d}},nodeIsDraggable:function(s){return s&&s.isNode()&&!s.locked()&&s.grabbable()},nodeIsGrabbable:function(s){return this.nodeIsDraggable(s)&&s.interactive()}};$a.load=function(){var s=this,i=function(O){return O.selected()},o=function(O,te,me,ce){null==O&&(O=s.cy);for(var de=0;de<te.length;de++)O.emit({originalEvent:me,type:te[de],position:ce})},u=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},c=function(O,te){var me=!0;if(s.cy.hasCompoundNodes()&&O&&O.pannable()){for(var ce=0;te&&ce<te.length;ce++)if((O=te[ce]).isNode()&&O.isParent()&&!O.pannable()){me=!1;break}}else me=!0;return me},g=function(O){O[0]._private.rscratch.inDragLayer=!0},v=function(O){O[0]._private.rscratch.isGrabTarget=!0},b=function(O,te){var me=te.addToList;me.has(O)||(me.merge(O),function(O){O[0]._private.grabbed=!0}(O))},C=function(O,te){te=te||{};var me=O.cy().hasCompoundNodes();te.inDragLayer&&(O.forEach(g),O.neighborhood().stdFilter(function(ce){return!me||ce.isEdge()}).forEach(g)),te.addToList&&O.forEach(function(ce){b(ce,te)}),function(O,te){if(O.cy().hasCompoundNodes()&&(null!=te.inDragLayer||null!=te.addToList)){var me=O.descendants();te.inDragLayer&&(me.forEach(g),me.connectedEdges().forEach(g)),te.addToList&&te.addToList.unmerge(me)}}(O,te),A(O,{inDragLayer:te.inDragLayer}),s.updateCachedGrabbedEles()},_=C,S=function(O){!O||(s.getCachedZSortedEles().forEach(function(te){(function(O){O[0]._private.grabbed=!1})(te),function(O){O[0]._private.rscratch.inDragLayer=!1}(te),function(O){O[0]._private.rscratch.isGrabTarget=!1}(te)}),s.updateCachedGrabbedEles())},A=function(O,te){if((null!=te.inDragLayer||null!=te.addToList)&&O.cy().hasCompoundNodes()){var me=O.ancestors().orphans();if(!me.same(O)){var ce=me.descendants().spawnSelf().merge(me).unmerge(O).unmerge(O.descendants()),de=ce.connectedEdges();te.inDragLayer&&(de.forEach(g),ce.forEach(g)),te.addToList&&ce.forEach(function(ut){b(ut,te)})}}},x=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},I="undefined"!=typeof MutationObserver,P="undefined"!=typeof ResizeObserver;I?(s.removeObserver=new MutationObserver(function(_e){for(var O=0;O<_e.length;O++){var me=_e[O].removedNodes;if(me)for(var ce=0;ce<me.length;ce++)if(me[ce]===s.container){s.destroy();break}}}),s.container.parentNode&&s.removeObserver.observe(s.container.parentNode,{childList:!0})):s.registerBinding(s.container,"DOMNodeRemoved",function(_e){s.destroy()});var N=Qr(function(){s.cy.resize()},100);I&&(s.styleObserver=new MutationObserver(N),s.styleObserver.observe(s.container,{attributes:!0})),s.registerBinding(window,"resize",N),P&&(s.resizeObserver=new ResizeObserver(N),s.resizeObserver.observe(s.container));var z=function(){s.invalidateContainerClientCoordsCache()};(function(O,te){for(;null!=O;)s.registerBinding(_e=O,"transitionend",z),s.registerBinding(_e,"animationend",z),s.registerBinding(_e,"scroll",z),O=O.parentNode;var _e})(s.container),s.registerBinding(s.container,"contextmenu",function(_e){_e.preventDefault()});var F,j,U,$=function(O){for(var te=s.findContainerClientCoords(),me=te[0],ce=te[1],de=te[2],ut=te[3],ye=O.touches?O.touches:[O],Oe=!1,Et=0;Et<ye.length;Et++){var Ut=ye[Et];if(me<=Ut.clientX&&Ut.clientX<=me+de&&ce<=Ut.clientY&&Ut.clientY<=ce+ut){Oe=!0;break}}if(!Oe)return!1;for(var gt=s.container,ct=O.target.parentNode,ft=!1;ct;){if(ct===gt){ft=!0;break}ct=ct.parentNode}return!!ft};s.registerBinding(s.container,"mousedown",function(O){if($(O)){O.preventDefault(),x(),s.hoverData.capture=!0,s.hoverData.which=O.which;var te=s.cy,me=[O.clientX,O.clientY],ce=s.projectIntoViewport(me[0],me[1]),de=s.selection,ut=s.findNearestElements(ce[0],ce[1],!0,!1),ye=ut[0],Oe=s.dragData.possibleDragElements;if(s.hoverData.mdownPos=ce,s.hoverData.mdownGPos=me,3==O.which){s.hoverData.cxtStarted=!0;var Ut={originalEvent:O,type:"cxttapstart",position:{x:ce[0],y:ce[1]}};ye?(ye.activate(),ye.emit(Ut),s.hoverData.down=ye):te.emit(Ut),s.hoverData.downTime=(new Date).getTime(),s.hoverData.cxtDragged=!1}else if(1==O.which){if(ye&&ye.activate(),null!=ye&&s.nodeIsGrabbable(ye)){var gt=function(rn){return{originalEvent:O,type:rn,position:{x:ce[0],y:ce[1]}}};if(v(ye),ye.selected()){Oe=s.dragData.possibleDragElements=te.collection();var ct=te.$(function(ft){return ft.isNode()&&ft.selected()&&s.nodeIsGrabbable(ft)});C(ct,{addToList:Oe}),ye.emit(gt("grabon")),ct.forEach(function(rn){rn.emit(gt("grab"))})}else Oe=s.dragData.possibleDragElements=te.collection(),_(ye,{addToList:Oe}),ye.emit(gt("grabon")).emit(gt("grab"));s.redrawHint("eles",!0),s.redrawHint("drag",!0)}s.hoverData.down=ye,s.hoverData.downs=ut,s.hoverData.downTime=(new Date).getTime(),o(ye,["mousedown","tapstart","vmousedown"],O,{x:ce[0],y:ce[1]}),null==ye?(de[4]=1,s.data.bgActivePosistion={x:ce[0],y:ce[1]},s.redrawHint("select",!0),s.redraw()):ye.pannable()&&(de[4]=1),s.hoverData.tapholdCancelled=!1,clearTimeout(s.hoverData.tapholdTimeout),s.hoverData.tapholdTimeout=setTimeout(function(){if(!s.hoverData.tapholdCancelled){var rn=s.hoverData.down;rn?rn.emit({originalEvent:O,type:"taphold",position:{x:ce[0],y:ce[1]}}):te.emit({originalEvent:O,type:"taphold",position:{x:ce[0],y:ce[1]}})}},s.tapholdDuration)}de[0]=de[2]=ce[0],de[1]=de[3]=ce[1]}},!1),s.registerBinding(window,"mousemove",function(O){var Ka;if(s.hoverData.capture||$(O)){var me=!1,ce=s.cy,de=ce.zoom(),ut=[O.clientX,O.clientY],ye=s.projectIntoViewport(ut[0],ut[1]),Oe=s.hoverData.mdownPos,Et=s.hoverData.mdownGPos,Ut=s.selection,gt=null;!s.hoverData.draggingEles&&!s.hoverData.dragging&&!s.hoverData.selecting&&(gt=s.findNearestElement(ye[0],ye[1],!0,!1));var hr,Ht=s.hoverData.last,ct=s.hoverData.down,ft=[ye[0]-Ut[2],ye[1]-Ut[3]],rn=s.dragData.possibleDragElements;if(Et){var li=ut[0]-Et[0],Wn=ut[1]-Et[1];s.hoverData.isOverThresholdDrag=hr=li*li+Wn*Wn>=s.desktopTapThreshold2}var Bn=u(O);hr&&(s.hoverData.tapholdCancelled=!0),me=!0,o(gt,["mousemove","vmousemove","tapdrag"],O,{x:ye[0],y:ye[1]});var Lo=function(){s.data.bgActivePosistion=void 0,s.hoverData.selecting||ce.emit({originalEvent:O,type:"boxstart",position:{x:ye[0],y:ye[1]}}),Ut[4]=1,s.hoverData.selecting=!0,s.redrawHint("select",!0),s.redraw()};if(3===s.hoverData.which){if(hr){var Vo={originalEvent:O,type:"cxtdrag",position:{x:ye[0],y:ye[1]}};ct?ct.emit(Vo):ce.emit(Vo),s.hoverData.cxtDragged=!0,(!s.hoverData.cxtOver||gt!==s.hoverData.cxtOver)&&(s.hoverData.cxtOver&&s.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:ye[0],y:ye[1]}}),s.hoverData.cxtOver=gt,gt&&gt.emit({originalEvent:O,type:"cxtdragover",position:{x:ye[0],y:ye[1]}}))}}else if(s.hoverData.dragging){if(me=!0,ce.panningEnabled()&&ce.userPanningEnabled()){var Ps;if(s.hoverData.justStartedPan){var zu=s.hoverData.mdownPos;Ps={x:(ye[0]-zu[0])*de,y:(ye[1]-zu[1])*de},s.hoverData.justStartedPan=!1}else Ps={x:ft[0]*de,y:ft[1]*de};ce.panBy(Ps),ce.emit("dragpan"),s.hoverData.dragged=!0}ye=s.projectIntoViewport(O.clientX,O.clientY)}else if(1!=Ut[4]||null!=ct&&!ct.pannable()){if(ct&&ct.pannable()&&ct.active()&&ct.unactivate(),(!ct||!ct.grabbed())&&gt!=Ht&&(Ht&&o(Ht,["mouseout","tapdragout"],O,{x:ye[0],y:ye[1]}),gt&&o(gt,["mouseover","tapdragover"],O,{x:ye[0],y:ye[1]}),s.hoverData.last=gt),ct)if(hr){if(ce.boxSelectionEnabled()&&Bn)ct&&ct.grabbed()&&(S(rn),ct.emit("freeon"),rn.emit("free"),s.dragData.didDrag&&(ct.emit("dragfreeon"),rn.emit("dragfree"))),Lo();else if(ct&&ct.grabbed()&&s.nodeIsDraggable(ct)){var wr=!s.dragData.didDrag;wr&&s.redrawHint("eles",!0),s.dragData.didDrag=!0;var jr=ce.collection();s.hoverData.draggingEles||C(rn,{inDragLayer:!0});var Ar={x:0,y:0};if(Ee(ft[0])&&Ee(ft[1])&&(Ar.x+=ft[0],Ar.y+=ft[1],wr)){var Wa=s.hoverData.dragDelta;Wa&&Ee(Wa[0])&&Ee(Wa[1])&&(Ar.x+=Wa[0],Ar.y+=Wa[1])}for(var We=0;We<rn.length;We++){var $o=rn[We];s.nodeIsDraggable($o)&&$o.grabbed()&&jr.push($o)}s.hoverData.draggingEles=!0,jr.silentShift(Ar).emit("position drag"),s.redrawHint("drag",!0),s.redraw()}}else 0===(Ka=s.hoverData.dragDelta=s.hoverData.dragDelta||[]).length?(Ka.push(ft[0]),Ka.push(ft[1])):(Ka[0]+=ft[0],Ka[1]+=ft[1]);me=!0}else hr&&(s.hoverData.dragging||!ce.boxSelectionEnabled()||!Bn&&ce.panningEnabled()&&ce.userPanningEnabled()?!s.hoverData.selecting&&ce.panningEnabled()&&ce.userPanningEnabled()&&c(ct,s.hoverData.downs)&&(s.hoverData.dragging=!0,s.hoverData.justStartedPan=!0,Ut[4]=0,s.data.bgActivePosistion=Un(Oe),s.redrawHint("select",!0),s.redraw()):Lo(),ct&&ct.pannable()&&ct.active()&&ct.unactivate());if(Ut[2]=ye[0],Ut[3]=ye[1],me)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1),s.registerBinding(window,"mouseup",function(O){if(s.hoverData.capture){s.hoverData.capture=!1;var me=s.cy,ce=s.projectIntoViewport(O.clientX,O.clientY),de=s.selection,ut=s.findNearestElement(ce[0],ce[1],!0,!1),ye=s.dragData.possibleDragElements,Oe=s.hoverData.down,Et=u(O);if(s.data.bgActivePosistion&&(s.redrawHint("select",!0),s.redraw()),s.hoverData.tapholdCancelled=!0,s.data.bgActivePosistion=void 0,Oe&&Oe.unactivate(),3===s.hoverData.which){var Ut={originalEvent:O,type:"cxttapend",position:{x:ce[0],y:ce[1]}};if(Oe?Oe.emit(Ut):me.emit(Ut),!s.hoverData.cxtDragged){var gt={originalEvent:O,type:"cxttap",position:{x:ce[0],y:ce[1]}};Oe?Oe.emit(gt):me.emit(gt)}s.hoverData.cxtDragged=!1,s.hoverData.which=null}else if(1===s.hoverData.which){if(o(ut,["mouseup","tapend","vmouseup"],O,{x:ce[0],y:ce[1]}),!s.dragData.didDrag&&!s.hoverData.dragged&&!s.hoverData.selecting&&!s.hoverData.isOverThresholdDrag&&(o(Oe,["click","tap","vclick"],O,{x:ce[0],y:ce[1]}),j=!1,O.timeStamp-U<=me.multiClickDebounceTime()?(F&&clearTimeout(F),j=!0,U=null,o(Oe,["dblclick","dbltap","vdblclick"],O,{x:ce[0],y:ce[1]})):(F=setTimeout(function(){j||o(Oe,["oneclick","onetap","voneclick"],O,{x:ce[0],y:ce[1]})},me.multiClickDebounceTime()),U=O.timeStamp)),null==Oe&&!s.dragData.didDrag&&!s.hoverData.selecting&&!s.hoverData.dragged&&!u(O)&&(me.$(i).unselect(["tapunselect"]),ye.length>0&&s.redrawHint("eles",!0),s.dragData.possibleDragElements=ye=me.collection()),ut==Oe&&!s.dragData.didDrag&&!s.hoverData.selecting&&null!=ut&&ut._private.selectable&&(s.hoverData.dragging||("additive"===me.selectionType()||Et?ut.selected()?ut.unselect(["tapunselect"]):ut.select(["tapselect"]):Et||(me.$(i).unmerge(ut).unselect(["tapunselect"]),ut.select(["tapselect"]))),s.redrawHint("eles",!0)),s.hoverData.selecting){var Ht=me.collection(s.getAllInBox(de[0],de[1],de[2],de[3]));s.redrawHint("select",!0),Ht.length>0&&s.redrawHint("eles",!0),me.emit({type:"boxend",originalEvent:O,position:{x:ce[0],y:ce[1]}}),"additive"===me.selectionType()||Et||me.$(i).unmerge(Ht).unselect(),Ht.emit("box").stdFilter(function(hr){return hr.selectable()&&!hr.selected()}).select().emit("boxselect"),s.redraw()}if(s.hoverData.dragging&&(s.hoverData.dragging=!1,s.redrawHint("select",!0),s.redrawHint("eles",!0),s.redraw()),!de[4]){s.redrawHint("drag",!0),s.redrawHint("eles",!0);var ft=Oe&&Oe.grabbed();S(ye),ft&&(Oe.emit("freeon"),ye.emit("free"),s.dragData.didDrag&&(Oe.emit("dragfreeon"),ye.emit("dragfree")))}}de[4]=0,s.hoverData.down=null,s.hoverData.cxtStarted=!1,s.hoverData.draggingEles=!1,s.hoverData.selecting=!1,s.hoverData.isOverThresholdDrag=!1,s.dragData.didDrag=!1,s.hoverData.dragged=!1,s.hoverData.dragDelta=[],s.hoverData.mdownPos=null,s.hoverData.mdownGPos=null}},!1);var L=function(O){if(!s.scrollingPage){var te=s.cy,me=te.zoom(),ce=te.pan(),de=s.projectIntoViewport(O.clientX,O.clientY),ut=[de[0]*me+ce.x,de[1]*me+ce.y];if(s.hoverData.draggingEles||s.hoverData.dragging||s.hoverData.cxtStarted||0!==s.selection[4])return void O.preventDefault();if(te.panningEnabled()&&te.userPanningEnabled()&&te.zoomingEnabled()&&te.userZoomingEnabled()){var ye;O.preventDefault(),s.data.wheelZooming=!0,clearTimeout(s.data.wheelTimeout),s.data.wheelTimeout=setTimeout(function(){s.data.wheelZooming=!1,s.redrawHint("eles",!0),s.redraw()},150),ye=null!=O.deltaY?O.deltaY/-250:null!=O.wheelDeltaY?O.wheelDeltaY/1e3:O.wheelDelta/1e3,ye*=s.wheelSensitivity,1===O.deltaMode&&(ye*=33);var Et=te.zoom()*Math.pow(10,ye);"gesturechange"===O.type&&(Et=s.gestureStartZoom*O.scale),te.zoom({level:Et,renderedPosition:{x:ut[0],y:ut[1]}}),te.emit("gesturechange"===O.type?"pinchzoom":"scrollzoom")}}};s.registerBinding(s.container,"wheel",L,!0),s.registerBinding(window,"scroll",function(O){s.scrollingPage=!0,clearTimeout(s.scrollingPageTimeout),s.scrollingPageTimeout=setTimeout(function(){s.scrollingPage=!1},250)},!0),s.registerBinding(s.container,"gesturestart",function(O){s.gestureStartZoom=s.cy.zoom(),s.hasTouchStarted||O.preventDefault()},!0),s.registerBinding(s.container,"gesturechange",function(_e){s.hasTouchStarted||L(_e)},!0),s.registerBinding(s.container,"mouseout",function(O){var te=s.projectIntoViewport(O.clientX,O.clientY);s.cy.emit({originalEvent:O,type:"mouseout",position:{x:te[0],y:te[1]}})},!1),s.registerBinding(s.container,"mouseover",function(O){var te=s.projectIntoViewport(O.clientX,O.clientY);s.cy.emit({originalEvent:O,type:"mouseover",position:{x:te[0],y:te[1]}})},!1);var q,V,Y,G,K,X,J,oe,ee,re,he,ve,pe,se,ge,Ce,Ae,st,Ge,xe,ue=function(O,te,me,ce){return Math.sqrt((me-O)*(me-O)+(ce-te)*(ce-te))},Q=function(O,te,me,ce){return(me-O)*(me-O)+(ce-te)*(ce-te)};if(s.registerBinding(s.container,"touchstart",se=function(O){if(s.hasTouchStarted=!0,$(O)){x(),s.touchData.capture=!0,s.data.bgActivePosistion=void 0;var te=s.cy,me=s.touchData.now,ce=s.touchData.earlier;if(O.touches[0]){var de=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);me[0]=de[0],me[1]=de[1]}if(O.touches[1]&&(de=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),me[2]=de[0],me[3]=de[1]),O.touches[2]&&(de=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),me[4]=de[0],me[5]=de[1]),O.touches[1]){s.touchData.singleTouchMoved=!0,S(s.dragData.touchDragEles);var ut=s.findContainerClientCoords();he=ut[2],ve=ut[3],V=O.touches[0].clientY-(re=ut[1]),Y=O.touches[1].clientX-(ee=ut[0]),G=O.touches[1].clientY-re,pe=0<=(q=O.touches[0].clientX-ee)&&q<=he&&0<=Y&&Y<=he&&0<=V&&V<=ve&&0<=G&&G<=ve;var ye=te.pan(),Oe=te.zoom();if(K=ue(q,V,Y,G),X=Q(q,V,Y,G),oe=[((J=[(q+Y)/2,(V+G)/2])[0]-ye.x)/Oe,(J[1]-ye.y)/Oe],X<4e4&&!O.touches[2]){var gt=s.findNearestElement(me[0],me[1],!0,!0),Ht=s.findNearestElement(me[2],me[3],!0,!0);return gt&&gt.isNode()?(gt.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:me[0],y:me[1]}}),s.touchData.start=gt):Ht&&Ht.isNode()?(Ht.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:me[0],y:me[1]}}),s.touchData.start=Ht):te.emit({originalEvent:O,type:"cxttapstart",position:{x:me[0],y:me[1]}}),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!0,s.touchData.cxtDragged=!1,s.data.bgActivePosistion=void 0,void s.redraw()}}if(O.touches[2])te.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]&&O.touches[0]){var ct=s.findNearestElements(me[0],me[1],!0,!0),ft=ct[0];if(null!=ft&&(ft.activate(),s.touchData.start=ft,s.touchData.starts=ct,s.nodeIsGrabbable(ft))){var rn=s.dragData.touchDragEles=te.collection(),hr=null;s.redrawHint("eles",!0),s.redrawHint("drag",!0),ft.selected()?(hr=te.$(function(yr){return yr.selected()&&s.nodeIsGrabbable(yr)}),C(hr,{addToList:rn})):_(ft,{addToList:rn}),v(ft);var li=function(Bn){return{originalEvent:O,type:Bn,position:{x:me[0],y:me[1]}}};ft.emit(li("grabon")),hr?hr.forEach(function(yr){yr.emit(li("grab"))}):ft.emit(li("grab"))}o(ft,["touchstart","tapstart","vmousedown"],O,{x:me[0],y:me[1]}),null==ft&&(s.data.bgActivePosistion={x:de[0],y:de[1]},s.redrawHint("select",!0),s.redraw()),s.touchData.singleTouchMoved=!1,s.touchData.singleTouchStartTime=+new Date,clearTimeout(s.touchData.tapholdTimeout),s.touchData.tapholdTimeout=setTimeout(function(){!1===s.touchData.singleTouchMoved&&!s.pinching&&!s.touchData.selecting&&o(s.touchData.start,["taphold"],O,{x:me[0],y:me[1]})},s.tapholdDuration)}if(O.touches.length>=1){for(var Mi=s.touchData.startPosition=[],Wn=0;Wn<me.length;Wn++)Mi[Wn]=ce[Wn]=me[Wn];var ui=O.touches[0];s.touchData.startGPosition=[ui.clientX,ui.clientY]}}},!1),s.registerBinding(window,"touchmove",ge=function(O){var te=s.touchData.capture;if(te||$(O)){var me=s.selection,ce=s.cy,de=s.touchData.now,ut=s.touchData.earlier,ye=ce.zoom();if(O.touches[0]){var Oe=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);de[0]=Oe[0],de[1]=Oe[1]}O.touches[1]&&(Oe=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),de[2]=Oe[0],de[3]=Oe[1]),O.touches[2]&&(Oe=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),de[4]=Oe[0],de[5]=Oe[1]);var Ut,Et=s.touchData.startGPosition;if(te&&O.touches[0]&&Et){for(var gt=[],Ht=0;Ht<de.length;Ht++)gt[Ht]=de[Ht]-ut[Ht];var ct=O.touches[0].clientX-Et[0],rn=O.touches[0].clientY-Et[1];Ut=ct*ct+rn*rn>=s.touchTapThreshold2}if(te&&s.touchData.cxt){O.preventDefault();var Bn=Q(Mi=O.touches[0].clientX-ee,Wn=O.touches[0].clientY-re,ui=O.touches[1].clientX-ee,yr=O.touches[1].clientY-re);if(Bn/X>=2.25||Bn>=22500){s.touchData.cxt=!1,s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var Bo={originalEvent:O,type:"cxttapend",position:{x:de[0],y:de[1]}};s.touchData.start?(s.touchData.start.unactivate().emit(Bo),s.touchData.start=null):ce.emit(Bo)}}if(te&&s.touchData.cxt){Bo={originalEvent:O,type:"cxtdrag",position:{x:de[0],y:de[1]}},s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.touchData.start?s.touchData.start.emit(Bo):ce.emit(Bo),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxtDragged=!0;var wr=s.findNearestElement(de[0],de[1],!0,!0);(!s.touchData.cxtOver||wr!==s.touchData.cxtOver)&&(s.touchData.cxtOver&&s.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:de[0],y:de[1]}}),s.touchData.cxtOver=wr,wr&&wr.emit({originalEvent:O,type:"cxtdragover",position:{x:de[0],y:de[1]}}))}else if(te&&O.touches[2]&&ce.boxSelectionEnabled())O.preventDefault(),s.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,s.touchData.selecting||ce.emit({originalEvent:O,type:"boxstart",position:{x:de[0],y:de[1]}}),s.touchData.selecting=!0,s.touchData.didSelect=!0,me[4]=1,me&&0!==me.length&&void 0!==me[0]?(me[2]=(de[0]+de[2]+de[4])/3,me[3]=(de[1]+de[3]+de[5])/3):(me[0]=(de[0]+de[2]+de[4])/3,me[1]=(de[1]+de[3]+de[5])/3,me[2]=(de[0]+de[2]+de[4])/3+1,me[3]=(de[1]+de[3]+de[5])/3+1),s.redrawHint("select",!0),s.redraw();else if(te&&O.touches[1]&&!s.touchData.didSelect&&ce.zoomingEnabled()&&ce.panningEnabled()&&ce.userZoomingEnabled()&&ce.userPanningEnabled()){if(O.preventDefault(),s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),jr=s.dragData.touchDragEles){s.redrawHint("drag",!0);for(var Ar=0;Ar<jr.length;Ar++){var Wa=jr[Ar]._private;Wa.grabbed=!1,Wa.rscratch.inDragLayer=!1}}var Mi,Wn,ui,yr,We=s.touchData.start,$o=ue(Mi=O.touches[0].clientX-ee,Wn=O.touches[0].clientY-re,ui=O.touches[1].clientX-ee,yr=O.touches[1].clientY-re),Uu=$o/K;if(pe){var Tm=(Mi-q+(ui-Y))/2,fp=(Wn-V+(yr-G))/2,Pl=ce.zoom(),jd=Pl*Uu,qd=ce.pan(),Gd=oe[0]*Pl+qd.x,Wd=oe[1]*Pl+qd.y,Mm={x:-jd/Pl*(Gd-qd.x-Tm)+Gd,y:-jd/Pl*(Wd-qd.y-fp)+Wd};We&&We.active()&&(S(jr=s.dragData.touchDragEles),s.redrawHint("drag",!0),s.redrawHint("eles",!0),We.unactivate().emit("freeon"),jr.emit("free"),s.dragData.didDrag&&(We.emit("dragfreeon"),jr.emit("dragfree"))),ce.viewport({zoom:jd,pan:Mm,cancelOnFailedZoom:!0}),ce.emit("pinchzoom"),K=$o,q=Mi,V=Wn,Y=ui,G=yr,s.pinching=!0}O.touches[0]&&(Oe=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),de[0]=Oe[0],de[1]=Oe[1]),O.touches[1]&&(Oe=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),de[2]=Oe[0],de[3]=Oe[1]),O.touches[2]&&(Oe=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),de[4]=Oe[0],de[5]=Oe[1])}else if(O.touches[0]&&!s.touchData.didSelect){var ci=s.touchData.start,ju=s.touchData.last;if(!s.hoverData.draggingEles&&!s.swipePanning&&(wr=s.findNearestElement(de[0],de[1],!0,!0)),te&&null!=ci&&O.preventDefault(),te&&null!=ci&&s.nodeIsDraggable(ci))if(Ut){var jr=s.dragData.touchDragEles,qu=!s.dragData.didDrag;qu&&C(jr,{inDragLayer:!0}),s.dragData.didDrag=!0;var Gu={x:0,y:0};Ee(gt[0])&&Ee(gt[1])&&(Gu.x+=gt[0],Gu.y+=gt[1],qu)&&(s.redrawHint("eles",!0),(Ai=s.touchData.dragDelta)&&Ee(Ai[0])&&Ee(Ai[1])&&(Gu.x+=Ai[0],Gu.y+=Ai[1])),s.hoverData.draggingEles=!0,jr.silentShift(Gu).emit("position drag"),s.redrawHint("drag",!0),s.touchData.startPosition[0]==ut[0]&&s.touchData.startPosition[1]==ut[1]&&s.redrawHint("eles",!0),s.redraw()}else{var Ai;0===(Ai=s.touchData.dragDelta=s.touchData.dragDelta||[]).length?(Ai.push(gt[0]),Ai.push(gt[1])):(Ai[0]+=gt[0],Ai[1]+=gt[1])}if(o(ci||wr,["touchmove","tapdrag","vmousemove"],O,{x:de[0],y:de[1]}),(!ci||!ci.grabbed())&&wr!=ju&&(ju&&ju.emit({originalEvent:O,type:"tapdragout",position:{x:de[0],y:de[1]}}),wr&&wr.emit({originalEvent:O,type:"tapdragover",position:{x:de[0],y:de[1]}})),s.touchData.last=wr,te)for(Ar=0;Ar<de.length;Ar++)de[Ar]&&s.touchData.startPosition[Ar]&&Ut&&(s.touchData.singleTouchMoved=!0);te&&(null==ci||ci.pannable())&&ce.panningEnabled()&&ce.userPanningEnabled()&&(c(ci,s.touchData.starts)&&(O.preventDefault(),s.data.bgActivePosistion||(s.data.bgActivePosistion=Un(s.touchData.startPosition)),s.swipePanning?(ce.panBy({x:gt[0]*ye,y:gt[1]*ye}),ce.emit("dragpan")):Ut&&(s.swipePanning=!0,ce.panBy({x:ct*ye,y:rn*ye}),ce.emit("dragpan"),ci&&(ci.unactivate(),s.redrawHint("select",!0),s.touchData.start=null))),Oe=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),de[0]=Oe[0],de[1]=Oe[1])}for(Ht=0;Ht<de.length;Ht++)ut[Ht]=de[Ht];te&&O.touches.length>0&&!s.hoverData.draggingEles&&!s.swipePanning&&null!=s.data.bgActivePosistion&&(s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.redraw())}},!1),s.registerBinding(window,"touchcancel",Ce=function(O){var te=s.touchData.start;s.touchData.capture=!1,te&&te.unactivate()}),s.registerBinding(window,"touchend",Ae=function(O){var te=s.touchData.start;if(s.touchData.capture){0===O.touches.length&&(s.touchData.capture=!1),O.preventDefault();var ce=s.selection;s.swipePanning=!1,s.hoverData.draggingEles=!1;var Ut,de=s.cy,ut=de.zoom(),ye=s.touchData.now,Oe=s.touchData.earlier;if(O.touches[0]){var Et=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ye[0]=Et[0],ye[1]=Et[1]}if(O.touches[1]&&(Et=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),ye[2]=Et[0],ye[3]=Et[1]),O.touches[2]&&(Et=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),ye[4]=Et[0],ye[5]=Et[1]),te&&te.unactivate(),s.touchData.cxt){if(Ut={originalEvent:O,type:"cxttapend",position:{x:ye[0],y:ye[1]}},te?te.emit(Ut):de.emit(Ut),!s.touchData.cxtDragged){var gt={originalEvent:O,type:"cxttap",position:{x:ye[0],y:ye[1]}};te?te.emit(gt):de.emit(gt)}return s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!1,s.touchData.start=null,void s.redraw()}if(!O.touches[2]&&de.boxSelectionEnabled()&&s.touchData.selecting){s.touchData.selecting=!1;var Ht=de.collection(s.getAllInBox(ce[0],ce[1],ce[2],ce[3]));ce[0]=void 0,ce[1]=void 0,ce[2]=void 0,ce[3]=void 0,ce[4]=0,s.redrawHint("select",!0),de.emit({type:"boxend",originalEvent:O,position:{x:ye[0],y:ye[1]}}),Ht.emit("box").stdFilter(function(Vo){return Vo.selectable()&&!Vo.selected()}).select().emit("boxselect"),Ht.nonempty()&&s.redrawHint("eles",!0),s.redraw()}if(null!=te&&te.unactivate(),O.touches[2])s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);else if(!O.touches[1]&&!O.touches[0]&&!O.touches[0]){s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var ft=s.dragData.touchDragEles;if(null!=te){var rn=te._private.grabbed;S(ft),s.redrawHint("drag",!0),s.redrawHint("eles",!0),rn&&(te.emit("freeon"),ft.emit("free"),s.dragData.didDrag&&(te.emit("dragfreeon"),ft.emit("dragfree"))),o(te,["touchend","tapend","vmouseup","tapdragout"],O,{x:ye[0],y:ye[1]}),te.unactivate(),s.touchData.start=null}else{var hr=s.findNearestElement(ye[0],ye[1],!0,!0);o(hr,["touchend","tapend","vmouseup","tapdragout"],O,{x:ye[0],y:ye[1]})}var li=s.touchData.startPosition[0]-ye[0],Wn=s.touchData.startPosition[1]-ye[1],Bn=(li*li+Wn*Wn)*ut*ut;s.touchData.singleTouchMoved||(te||de.$(":selected").unselect(["tapunselect"]),o(te,["tap","vclick"],O,{x:ye[0],y:ye[1]}),st=!1,O.timeStamp-xe<=de.multiClickDebounceTime()?(Ge&&clearTimeout(Ge),st=!0,xe=null,o(te,["dbltap","vdblclick"],O,{x:ye[0],y:ye[1]})):(Ge=setTimeout(function(){st||o(te,["onetap","voneclick"],O,{x:ye[0],y:ye[1]})},de.multiClickDebounceTime()),xe=O.timeStamp)),null!=te&&!s.dragData.didDrag&&te._private.selectable&&Bn<s.touchTapThreshold2&&!s.pinching&&("single"===de.selectionType()?(de.$(i).unmerge(te).unselect(["tapunselect"]),te.select(["tapselect"])):te.selected()?te.unselect(["tapunselect"]):te.select(["tapselect"]),s.redrawHint("eles",!0)),s.touchData.singleTouchMoved=!0}for(var Ga=0;Ga<ye.length;Ga++)Oe[Ga]=ye[Ga];s.dragData.didDrag=!1,0===O.touches.length&&(s.touchData.dragDelta=[],s.touchData.startPosition=null,s.touchData.startGPosition=null,s.touchData.didSelect=!1),O.touches.length<2&&(1===O.touches.length&&(s.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),s.pinching=!1,s.redrawHint("eles",!0),s.redraw())}},!1),"undefined"==typeof TouchEvent){var Te=[],Qe=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},je=function(O){for(var te=0;te<Te.length;te++)if(Te[te].event.pointerId===O.pointerId)return void Te.splice(te,1)},bt=function(O){O.touches=Te.map(function(te){return te.touch})},ht=function(O){return"mouse"===O.pointerType||4===O.pointerType};s.registerBinding(s.container,"pointerdown",function(_e){ht(_e)||(_e.preventDefault(),Te.push(function(O){return{event:O,touch:Qe(O)}}(_e)),bt(_e),se(_e))}),s.registerBinding(s.container,"pointerup",function(_e){ht(_e)||(je(_e),bt(_e),Ae(_e))}),s.registerBinding(s.container,"pointercancel",function(_e){ht(_e)||(je(_e),bt(_e),Ce())}),s.registerBinding(s.container,"pointermove",function(_e){var O,te;ht(_e)||(_e.preventDefault(),O=_e,(te=Te.filter(function(me){return me.event.pointerId===O.pointerId})[0]).event=O,te.touch=Qe(O),bt(_e),ge(_e))})}};var Tr={generatePolygon:function(s,i){return this.nodeShapes[s]={renderer:this,name:s,points:i,draw:function(u,c,d,f,g){this.renderer.nodeShapeImpl("polygon",u,c,d,f,g,this.points)},intersectLine:function(u,c,d,f,g,m,v){return Dt(g,m,this.points,u,c,d/2,f/2,v)},checkPoint:function(u,c,d,f,g,m,v){return lr(u,c,this.points,m,v,f,g,[0,-1],d)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){return function(i,o,u,c,d,f){var g=u-i,m=c-o;g/=d,m/=f;var v=Math.sqrt(g*g+m*m),w=v-1;if(w<0)return[];var b=w/v;return[(u-i)*b+i,(c-o)*b+o]}(d,f,i,o,u/2+g,c/2+g)},checkPoint:function(i,o,u,c,d,f,g){return St(i,o,c,d,f,g,u)}}},generateRoundPolygon:function(s,i){for(var o=new Array(2*i.length),u=0;u<i.length/2;u++){var d,c=2*u;d=u<i.length/2-1?2*(u+1):0,o[4*u]=i[c],o[4*u+1]=i[c+1];var f=i[d]-i[c],g=i[d+1]-i[c+1],m=Math.sqrt(f*f+g*g);o[4*u+2]=f/m,o[4*u+3]=g/m}return this.nodeShapes[s]={renderer:this,name:s,points:o,draw:function(w,b,E,C,_){this.renderer.nodeShapeImpl("round-polygon",w,b,E,C,_,this.points)},intersectLine:function(w,b,E,C,_,S,A){return function(i,o,u,c,d,f,g,m){for(var w,v=[],b=new Array(u.length),E=f/2,C=g/2,_=$c(f,g),S=0;S<u.length/4;S++){var x,A;A=0===S?u.length-2:4*S-2,x=4*S+2;var I=c+E*u[4*S],P=d+C*u[4*S+1],B=_/Math.tan(Math.acos(-u[A]*u[x]-u[A+1]*u[x+1])/2),z=I-B*u[A],R=P-B*u[A+1],$=I+B*u[x],F=P+B*u[x+1];0===S?(b[u.length-2]=z,b[u.length-1]=R):(b[4*S-2]=z,b[4*S-1]=R),b[4*S]=$,b[4*S+1]=F;var j=u[A+1],U=-u[A];j*u[x]+U*u[x+1]<0&&(j*=-1,U*=-1),0!==(w=ou(i,o,c,d,z+j*_,R+U*_,_)).length&&v.push(w[0],w[1])}for(var Y=0;Y<b.length/4;Y++)0!==(w=Vr(i,o,c,d,b[4*Y],b[4*Y+1],b[4*Y+2],b[4*Y+3],!1)).length&&v.push(w[0],w[1]);if(v.length>2){for(var G=[v[0],v[1]],K=Math.pow(G[0]-i,2)+Math.pow(G[1]-o,2),X=1;X<v.length/2;X++){var J=Math.pow(v[2*X]-i,2)+Math.pow(v[2*X+1]-o,2);J<=K&&(G[0]=v[2*X],G[1]=v[2*X+1],K=J)}return G}return v}(_,S,this.points,w,b,E,C)},checkPoint:function(w,b,E,C,_,S,A){return function(i,o,u,c,d,f,g){for(var m=new Array(u.length),v=f/2,w=g/2,b=$c(f,g),E=b*b,C=0;C<u.length/4;C++){var S,_;_=0===C?u.length-2:4*C-2,S=4*C+2;var A=c+v*u[4*C],x=d+w*u[4*C+1],P=b/Math.tan(Math.acos(-u[_]*u[S]-u[_+1]*u[S+1])/2),N=A-P*u[_],B=x-P*u[_+1],z=A+P*u[S],R=x+P*u[S+1];m[4*C]=N,m[4*C+1]=B,m[4*C+2]=z,m[4*C+3]=R;var $=u[_+1],F=-u[_];$*u[S]+F*u[S+1]<0&&($*=-1,F*=-1);var L=B+F*b;if(Math.pow(N+$*b-i,2)+Math.pow(L-o,2)<=E)return!0}return Lr(i,o,m)}(w,b,this.points,S,A,C,_)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Xn(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){return Lc(d,f,i,o,u,c,g)},checkPoint:function(i,o,u,c,d,f,g){var m=ca(c,d),v=2*m;return!!(lr(i,o,this.points,f,g,c,d-v,[0,-1],u)||lr(i,o,this.points,f,g,c-v,d,[0,-1],u)||St(i,o,v,v,f-c/2+m,g-d/2+m,u)||St(i,o,v,v,f+c/2-m,g-d/2+m,u)||St(i,o,v,v,f+c/2-m,g+d/2-m,u)||St(i,o,v,v,f-c/2+m,g+d/2-m,u))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Xn(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},generateCutTrianglePts:function(i,o,u,c){var d=this.cornerLength,f=o/2,g=i/2,m=u-g,v=u+g,w=c-f,b=c+f;return{topLeft:[m,w+d,m+d,w,m+d,w+d],topRight:[v-d,w,v,w+d,v-d,w+d],bottomRight:[v,b-d,v-d,b,v-d,b-d],bottomLeft:[m+d,b,m,b-d,m+d,b-d]}},intersectLine:function(i,o,u,c,d,f,g){var m=this.generateCutTrianglePts(u+2*g,c+2*g,i,o),v=[].concat.apply([],[m.topLeft.splice(0,4),m.topRight.splice(0,4),m.bottomRight.splice(0,4),m.bottomLeft.splice(0,4)]);return Dt(d,f,v,i,o)},checkPoint:function(i,o,u,c,d,f,g){if(lr(i,o,this.points,f,g,c,d-2*this.cornerLength,[0,-1],u)||lr(i,o,this.points,f,g,c-2*this.cornerLength,d,[0,-1],u))return!0;var m=this.generateCutTrianglePts(c,d,f,g);return Lr(i,o,m.topLeft)||Lr(i,o,m.topRight)||Lr(i,o,m.bottomRight)||Lr(i,o,m.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Xn(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){var b=this.generateBarrelBezierPts(u+2*g,c+2*g,i,o),E=function(S){var A=jn({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.15),x=jn({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.5),I=jn({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.85);return[S[0],S[1],A.x,A.y,x.x,x.y,I.x,I.y,S[4],S[5]]},C=[].concat(E(b.topLeft),E(b.topRight),E(b.bottomRight),E(b.bottomLeft));return Dt(d,f,C,i,o)},generateBarrelBezierPts:function(i,o,u,c){var d=o/2,f=i/2,g=u-f,m=u+f,v=c-d,w=c+d,b=lu(i,o),E=b.heightOffset,C=b.widthOffset,_=b.ctrlPtOffsetPct*i,S={topLeft:[g,v+E,g+_,v,g+C,v],topRight:[m-C,v,m-_,v,m,v+E],bottomRight:[m,w-E,m-_,w,m-C,w],bottomLeft:[g+C,w,g+_,w,g,w-E]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(i,o,u,c,d,f,g){var m=lu(c,d),w=m.widthOffset;if(lr(i,o,this.points,f,g,c,d-2*m.heightOffset,[0,-1],u)||lr(i,o,this.points,f,g,c-2*w,d,[0,-1],u))return!0;for(var b=this.generateBarrelBezierPts(c,d,f,g),E=function(R,$,F){var j=F[4],U=F[2],L=F[0],q=F[5],V=F[1],Y=Math.min(j,L),G=Math.max(j,L),K=Math.min(q,V),X=Math.max(q,V);if(Y<=R&&R<=G&&K<=$&&$<=X){var J=function(i,o,u){return[i-2*o+u,2*(o-i),i]}(j,U,L),oe=function(i,o,u,c){var d=o*o-4*i*(u-=c);if(d<0)return[];var f=Math.sqrt(d),g=2*i;return[(-o+f)/g,(-o-f)/g]}(J[0],J[1],J[2],R),ee=oe.filter(function(re){return 0<=re&&re<=1});if(ee.length>0)return ee[0]}return null},C=Object.keys(b),_=0;_<C.length;_++){var A=b[C[_]],x=E(i,o,A);if(null!=x){var B=Zn(A[5],A[3],A[1],x);if(A.isTop&&B<=o||A.isBottom&&o<=B)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Xn(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){var v=o-(c/2+g),E=Vr(d,f,i,o,i-(u/2+g),v,i+(u/2+g),v,!1);return E.length>0?E:Lc(d,f,i,o,u,c,g)},checkPoint:function(i,o,u,c,d,f,g){var m=ca(c,d),v=2*m;if(lr(i,o,this.points,f,g,c,d-v,[0,-1],u)||lr(i,o,this.points,f,g,c-v,d,[0,-1],u))return!0;var w=c/2+2*u,b=d/2+2*u;return!!(Lr(i,o,[f-w,g-b,f-w,g,f+w,g,f+w,g-b])||St(i,o,v,v,f+c/2-m,g+d/2-m,u)||St(i,o,v,v,f-c/2+m,g+d/2-m,u))}}},registerNodeShapes:function(){var s=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",Xn(3,0)),this.generateRoundPolygon("round-triangle",Xn(3,0)),this.generatePolygon("rectangle",Xn(4,0)),s.square=s.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var o=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",o),this.generateRoundPolygon("round-diamond",o),this.generatePolygon("pentagon",Xn(5,0)),this.generateRoundPolygon("round-pentagon",Xn(5,0)),this.generatePolygon("hexagon",Xn(6,0)),this.generateRoundPolygon("round-hexagon",Xn(6,0)),this.generatePolygon("heptagon",Xn(7,0)),this.generateRoundPolygon("round-heptagon",Xn(7,0)),this.generatePolygon("octagon",Xn(8,0)),this.generateRoundPolygon("round-octagon",Xn(8,0));var u=new Array(20),c=wi(5,0),d=wi(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var g=0;g<d.length/2;g++)d[2*g]*=f,d[2*g+1]*=f;for(g=0;g<5;g++)u[4*g]=c[2*g],u[4*g+1]=c[2*g+1],u[4*g+2]=d[2*g],u[4*g+3]=d[2*g+1];u=Bc(u),this.generatePolygon("star",u),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var m=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",m),this.generateRoundPolygon("round-tag",m),s.makePolygon=function(v){var E,b="polygon-"+v.join("$");return(E=this[b])?E:i.generatePolygon(b,v)}}},Cl={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(s){s=s||Ic();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=s},beforeRender:function(s,i){if(!this.destroyed){null==i&&qt("Priority is not optional for beforeRender");var o=this.beforeRenderCallbacks;o.push({fn:s,priority:i}),o.sort(function(u,c){return c.priority-u.priority})}}},Uh=function(i,o,u){for(var c=i.beforeRenderCallbacks,d=0;d<c.length;d++)c[d].fn(o,u)};Cl.startRenderLoop=function(){var s=this,i=s.cy;s.renderLoopStarted||(s.renderLoopStarted=!0,Tc(function u(c){if(!s.destroyed){if(!i.batching())if(s.requestedFrame&&!s.skipFrame){Uh(s,!0,c);var d=Fi();s.render(s.renderOptions);var f=s.lastDrawTime=Fi();void 0===s.averageRedrawTime&&(s.averageRedrawTime=f-d),void 0===s.redrawCount&&(s.redrawCount=0),s.redrawCount++,void 0===s.redrawTotalTime&&(s.redrawTotalTime=0);var g=f-d;s.redrawTotalTime+=g,s.lastRedrawTime=g,s.averageRedrawTime=s.averageRedrawTime/2+g/2,s.requestedFrame=!1}else Uh(s,!1,c);s.skipFrame=!1,Tc(u)}}))};var _l=function(i){this.init(i)},Ha=_l.prototype;Ha.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Ha.init=function(s){var i=this;i.options=s,i.cy=s.cy;var o=i.container=s.cy.container();if(jt){var u=jt.document,c=u.head,d="__________cytoscape_stylesheet",f="__________cytoscape_container",g=null!=u.getElementById(d);if(o.className.indexOf(f)<0&&(o.className=(o.className||"")+" "+f),!g){var m=u.createElement("style");m.id=d,m.innerHTML="."+f+" { position: relative; }",c.insertBefore(m,c.children[0])}"static"===jt.getComputedStyle(o).getPropertyValue("position")&&Kt("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=s.showFps,i.debug=s.debug,i.hideEdgesOnViewport=s.hideEdgesOnViewport,i.textureOnViewport=s.textureOnViewport,i.wheelSensitivity=s.wheelSensitivity,i.motionBlurEnabled=s.motionBlur,i.forcedPixelRatio=Ee(s.pixelRatio)?s.pixelRatio:null,i.motionBlur=s.motionBlur,i.motionBlurOpacity=s.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=s.desktopTapThreshold,i.desktopTapThreshold2=s.desktopTapThreshold*s.desktopTapThreshold,i.touchTapThreshold=s.touchTapThreshold,i.touchTapThreshold2=s.touchTapThreshold*s.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Ha.notify=function(s,i){var o=this,u=o.cy;if(!this.destroyed){if("init"===s)return void o.load();if("destroy"===s)return void o.destroy();("add"===s||"remove"===s||"move"===s&&u.hasCompoundNodes()||"load"===s||"zorder"===s||"mount"===s)&&o.invalidateCachedZSortedEles(),"viewport"===s&&o.redrawHint("select",!0),("load"===s||"resize"===s||"mount"===s)&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container)),o.redrawHint("eles",!0),o.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Ha.destroy=function(){var s=this;s.destroyed=!0,s.cy.stopAnimationLoop();for(var i=0;i<s.bindings.length;i++){var o=s.bindings[i],c=o.target;(c.off||c.removeEventListener).apply(c,o.args)}if(s.bindings=[],s.beforeRenderCallbacks=[],s.onUpdateEleCalcsFns=[],s.removeObserver&&s.removeObserver.disconnect(),s.styleObserver&&s.styleObserver.disconnect(),s.resizeObserver&&s.resizeObserver.disconnect(),s.labelCalcDiv)try{document.body.removeChild(s.labelCalcDiv)}catch(d){}},Ha.isHeadless=function(){return!1},[Td,om,El,$a,Tr,Cl].forEach(function(s){Ke(Ha,s)});var Fu=1e3/60,Pd_setupDequeueing=function(i){return function(){var u=this,c=this.renderer;if(!u.dequeueingSetup){u.dequeueingSetup=!0;var d=Qr(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},i.deqRedrawThreshold);c.beforeRender(function(v,w){var b=Fi(),E=c.averageRedrawTime,C=c.lastRedrawTime,_=[],S=c.cy.extent(),A=c.getPixelRatio();for(v||c.flushRenderedStyleQueue();;){var x=Fi(),I=x-b,P=x-w;if(C<Fu){if(P>=i.deqFastCost*(Fu-(v?E:0)))break}else if(v){if(I>=i.deqCost*C||I>=i.deqAvgCost*E)break}else if(P>=i.deqNoDrawCost*Fu)break;var B=i.deq(u,A,S);if(!(B.length>0))break;for(var z=0;z<B.length;z++)_.push(B[z])}_.length>0&&(i.onDeqd(u,_),!v&&i.shouldRedraw(u,_,A,S)&&d())},(i.priority||Ma)(u))}}},jh=function(){function s(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zl;Dn(this,s),this.idsByKey=new Vi,this.keyForId=new Vi,this.cachesByLvl=new Vi,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=o}return gi(s,[{key:"getIdsFor",value:function(o){null==o&&qt("Can not get id list for null key");var u=this.idsByKey,c=this.idsByKey.get(o);return c||(c=new Bi,u.set(o,c)),c}},{key:"addIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).add(u)}},{key:"deleteIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).delete(u)}},{key:"getNumberOfIdsForKey",value:function(o){return null==o?0:this.getIdsFor(o).size}},{key:"updateKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u),d=this.getKey(o);this.deleteIdForKey(c,u),this.addIdForKey(d,u),this.keyForId.set(u,d)}},{key:"deleteKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteIdForKey(c,u),this.keyForId.delete(u)}},{key:"keyHasChangedFor",value:function(o){var u=o.id();return this.keyForId.get(u)!==this.getKey(o)}},{key:"isInvalid",value:function(o){return this.keyHasChangedFor(o)||this.doesEleInvalidateKey(o)}},{key:"getCachesAt",value:function(o){var u=this.cachesByLvl,c=this.lvls,d=u.get(o);return d||(d=new Vi,u.set(o,d),c.push(o)),d}},{key:"getCache",value:function(o,u){return this.getCachesAt(u).get(o)}},{key:"get",value:function(o,u){var c=this.getKey(o),d=this.getCache(c,u);return null!=d&&this.updateKeyMappingFor(o),d}},{key:"getForCachedKey",value:function(o,u){var c=this.keyForId.get(o.id());return this.getCache(c,u)}},{key:"hasCache",value:function(o,u){return this.getCachesAt(u).has(o)}},{key:"has",value:function(o,u){var c=this.getKey(o);return this.hasCache(c,u)}},{key:"setCache",value:function(o,u,c){c.key=o,this.getCachesAt(u).set(o,c)}},{key:"set",value:function(o,u,c){var d=this.getKey(o);this.setCache(d,u,c),this.updateKeyMappingFor(o)}},{key:"deleteCache",value:function(o,u){this.getCachesAt(u).delete(o)}},{key:"delete",value:function(o,u){var c=this.getKey(o);this.deleteCache(c,u)}},{key:"invalidateKey",value:function(o){var u=this;this.lvls.forEach(function(c){return u.deleteCache(o,c)})}},{key:"invalidate",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteKeyMappingFor(o);var d=this.doesEleInvalidateKey(o);return d&&this.invalidateKey(c),d||0===this.getNumberOfIdsForKey(c)}}]),s}(),xs={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Rb=zn({getKey:null,doesEleInvalidateKey:Zl,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Li,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Tl=function(i,o){var u=this;u.renderer=i,u.onDequeues=[];var c=Rb(o);Ke(u,c),u.lookup=new jh(c.getKey,c.doesEleInvalidateKey),u.setupDequeueing()},gn=Tl.prototype;gn.reasons=xs,gn.getTextureQueue=function(s){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[s]=i.eleImgCaches[s]||[]},gn.getRetiredTextureQueue=function(s){var o=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return o[s]=o[s]||[]},gn.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new Yr(function(o,u){return u.reqs-o.reqs})},gn.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},gn.getElement=function(s,i,o,u,c){var d=this,f=this.renderer,g=f.cy.zoom(),m=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!s.visible()||s.removed()||!d.allowEdgeTxrCaching&&s.isEdge()||!d.allowParentTxrCaching&&s.isParent())return null;if(null==u&&(u=Math.ceil(Xf(g*o))),u<-4)u=-4;else if(g>=7.99||u>3)return null;var v=Math.pow(2,u),w=i.h*v,b=i.w*v,E=f.eleTextBiggerThanMin(s,v);if(!this.isVisible(s,E))return null;var _,C=m.get(s,u);if(C&&C.invalidated&&(C.invalidated=!1,C.texture.invalidatedWidth-=C.width),C)return C;if(_=w<=25?25:w<=50?50:50*Math.ceil(w/50),w>1024||b>1024)return null;var S=d.getTextureQueue(_),A=S[S.length-2],x=function(){return d.recycleTexture(_,b)||d.addTexture(_,b)};A||(A=S[S.length-1]),A||(A=x()),A.width-A.usedWidth<b&&(A=x());for(var z,I=function(G){return G&&G.scaledLabelShown===E},P=c&&c===xs.dequeue,N=c&&c===xs.highQuality,B=c&&c===xs.downscale,R=u+1;R<=3;R++){var $=m.get(s,R);if($){z=$;break}}var F=z&&z.level===u+1?z:null,j=function(){A.context.drawImage(F.texture.canvas,F.x,0,F.width,F.height,A.usedWidth,0,b,w)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,b,_),I(F))j();else if(I(z)){if(!N)return d.queueElement(s,z.level-1),z;for(var U=z.level;U>u;U--)F=d.getElement(s,i,o,U,xs.downscale);j()}else{var L;if(!P&&!N&&!B)for(var q=u-1;q>=-4;q--){var V=m.get(s,q);if(V){L=V;break}}if(I(L))return d.queueElement(s,u),L;A.context.translate(A.usedWidth,0),A.context.scale(v,v),this.drawElement(A.context,s,i,E,!1),A.context.scale(1/v,1/v),A.context.translate(-A.usedWidth,0)}return C={x:A.usedWidth,texture:A,level:u,scale:v,width:b,height:w,scaledLabelShown:E},A.usedWidth+=Math.ceil(b+8),A.eleCaches.push(C),m.set(s,u,C),d.checkTextureFullness(A),C},gn.invalidateElements=function(s){for(var i=0;i<s.length;i++)this.invalidateElement(s[i])},gn.invalidateElement=function(s){var i=this,o=i.lookup,u=[];if(o.isInvalid(s)){for(var d=-4;d<=3;d++){var f=o.getForCachedKey(s,d);f&&u.push(f)}if(o.invalidate(s))for(var m=0;m<u.length;m++){var v=u[m],w=v.texture;w.invalidatedWidth+=v.width,v.invalidated=!0,i.checkTextureUtility(w)}i.removeFromQueue(s)}},gn.checkTextureUtility=function(s){s.invalidatedWidth>=.2*s.width&&this.retireTexture(s)},gn.checkTextureFullness=function(s){var o=this.getTextureQueue(s.height);s.usedWidth/s.width>.8&&s.fullnessChecks>=10?Aa(o,s):s.fullnessChecks++},gn.retireTexture=function(s){var o=s.height,u=this.getTextureQueue(o),c=this.lookup;Aa(u,s),s.retired=!0;for(var d=s.eleCaches,f=0;f<d.length;f++){var g=d[f];c.deleteCache(g.key,g.level)}Pc(d),this.getRetiredTextureQueue(o).push(s)},gn.addTexture=function(s,i){var c={};return this.getTextureQueue(s).push(c),c.eleCaches=[],c.height=s,c.width=Math.max(1024,i),c.usedWidth=0,c.invalidatedWidth=0,c.fullnessChecks=0,c.canvas=this.renderer.makeOffscreenCanvas(c.width,c.height),c.context=c.canvas.getContext("2d"),c},gn.recycleTexture=function(s,i){for(var u=this.getTextureQueue(s),c=this.getRetiredTextureQueue(s),d=0;d<c.length;d++){var f=c[d];if(f.width>=i)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,Pc(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),Aa(c,f),u.push(f),f}},gn.queueElement=function(s,i){var u=this.getElementQueue(),c=this.getElementKeyToQueue(),d=this.getKey(s),f=c[d];if(f)f.level=Math.max(f.level,i),f.eles.merge(s),f.reqs++,u.updateItem(f);else{var g={eles:s.spawn().merge(s),level:i,reqs:1,key:d};u.push(g),c[d]=g}},gn.dequeue=function(s){for(var i=this,o=i.getElementQueue(),u=i.getElementKeyToQueue(),c=[],d=i.lookup,f=0;f<1&&o.size()>0;f++){var g=o.pop(),m=g.key,v=g.eles[0],w=d.hasCache(v,g.level);if(u[m]=null,!w){c.push(g);var b=i.getBoundingBox(v);i.getElement(v,b,s,g.level,xs.dequeue)}}return c},gn.removeFromQueue=function(s){var o=this.getElementQueue(),u=this.getElementKeyToQueue(),c=this.getKey(s),d=u[c];null!=d&&(1===d.eles.length?(d.reqs=xc,o.updateItem(d),o.pop(),u[c]=null):d.eles.unmerge(s))},gn.onDequeue=function(s){this.onDequeues.push(s)},gn.offDequeue=function(s){Aa(this.onDequeues,s)},gn.setupDequeueing=Pd_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,o,u){return i.dequeue(o,u)},onDeqd:function(i,o){for(var u=0;u<i.onDequeues.length;u++)(0,i.onDequeues[u])(o)},shouldRedraw:function(i,o,u,c){for(var d=0;d<o.length;d++)for(var f=o[d].eles,g=0;g<f.length;g++){var m=f[g].boundingBox();if(Oc(m,c))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var Od=function(i){var o=this,u=o.renderer=i,c=u.cy;o.layersByLevel={},o.firstGet=!0,o.lastInvalidationTime=Fi()-500,o.skipping=!1,o.eleTxrDeqs=c.collection(),o.scheduleElementRefinement=Qr(function(){o.refineElementTextures(o.eleTxrDeqs),o.eleTxrDeqs.unmerge(o.eleTxrDeqs)},50),u.beforeRender(function(f,g){o.skipping=g-o.lastInvalidationTime<=250},u.beforeRenderPriorities.lyrTxrSkip),o.layersQueue=new Yr(function(g,m){return m.reqs-g.reqs}),o.setupDequeueing()},ir=Od.prototype,Yh=0,hm=Math.pow(2,53)-1;ir.makeLayer=function(s,i){var o=Math.pow(2,i),u=Math.ceil(s.w*o),c=Math.ceil(s.h*o),d=this.renderer.makeOffscreenCanvas(u,c),f={id:Yh=++Yh%hm,bb:s,level:i,width:u,height:c,canvas:d,context:d.getContext("2d"),eles:[],elesQueue:[],reqs:0},g=f.context,m=-f.bb.x1,v=-f.bb.y1;return g.scale(o,o),g.translate(m,v),f},ir.getLayers=function(s,i,o){var u=this,f=u.renderer.cy.zoom(),g=u.firstGet;if(u.firstGet=!1,null==o)if((o=Math.ceil(Xf(f*i)))<-4)o=-4;else if(f>=3.99||o>2)return null;u.validateLayersElesOrdering(o,s);var b,C,m=u.layersByLevel,v=Math.pow(2,o),w=m[o]=m[o]||[];if(u.levelIsComplete(o,s))return w;!function(){var j=function(Y){if(u.validateLayersElesOrdering(Y,s),u.levelIsComplete(Y,s))return C=m[Y],!0},U=function(Y){if(!C)for(var G=o+Y;-4<=G&&G<=2&&!j(G);G+=Y);};U(1),U(-1);for(var L=w.length-1;L>=0;L--){var q=w[L];q.invalid&&Aa(w,q)}}();var A=function(j){var U=(j=j||{}).after;if(function(){if(!b){b=Or();for(var j=0;j<s.length;j++)ib(b,s[j].boundingBox())}}(),b.w*v*(b.h*v)>16e6)return null;var q=u.makeLayer(b,o);if(null!=U){var V=w.indexOf(U)+1;w.splice(V,0,q)}else(void 0===j.insert||j.insert)&&w.unshift(q);return q};if(u.skipping&&!g)return null;for(var x=null,I=s.length/1,P=!g,N=0;N<s.length;N++){var B=s[N],z=B._private.rscratch,R=z.imgLayerCaches=z.imgLayerCaches||{},$=R[o];if($)x=$;else{if((!x||x.eles.length>=I||!au(x.bb,B.boundingBox()))&&!(x=A({insert:!0,after:x})))return null;C||P?u.queueLayer(x,B):u.drawEleInLayer(x,B,o,i),x.eles.push(B),R[o]=x}}return C||(P?null:w)},ir.getEleLevelForLayerLevel=function(s,i){return s},ir.drawEleInLayer=function(s,i,o,u){var d=this.renderer,f=s.context,g=i.boundingBox();0===g.w||0===g.h||!i.visible()||(o=this.getEleLevelForLayerLevel(o,u),d.setImgSmoothing(f,!1),d.drawCachedElement(f,i,null,null,o,!0),d.setImgSmoothing(f,!0))},ir.levelIsComplete=function(s,i){var u=this.layersByLevel[s];if(!u||0===u.length)return!1;for(var c=0,d=0;d<u.length;d++){var f=u[d];if(f.reqs>0||f.invalid)return!1;c+=f.eles.length}return c===i.length},ir.validateLayersElesOrdering=function(s,i){var o=this.layersByLevel[s];if(o)for(var u=0;u<o.length;u++){for(var c=o[u],d=-1,f=0;f<i.length;f++)if(c.eles[0]===i[f]){d=f;break}if(d<0)this.invalidateLayer(c);else{var g=d;for(f=0;f<c.eles.length;f++)if(c.eles[f]!==i[g+f]){this.invalidateLayer(c);break}}}},ir.updateElementsInLayers=function(s,i){for(var u=Vt(s[0]),c=0;c<s.length;c++)for(var d=u?null:s[c],f=u?s[c]:s[c].ele,g=f._private.rscratch,m=g.imgLayerCaches=g.imgLayerCaches||{},v=-4;v<=2;v++){var w=m[v];!w||d&&this.getEleLevelForLayerLevel(w.level)!==d.level||i(w,f,d)}},ir.haveLayers=function(){for(var i=!1,o=-4;o<=2;o++){var u=this.layersByLevel[o];if(u&&u.length>0){i=!0;break}}return i},ir.invalidateElements=function(s){var i=this;0!==s.length&&(i.lastInvalidationTime=Fi(),0!==s.length&&i.haveLayers()&&i.updateElementsInLayers(s,function(u,c,d){i.invalidateLayer(u)}))},ir.invalidateLayer=function(s){if(this.lastInvalidationTime=Fi(),!s.invalid){var i=s.level,o=s.eles;Aa(this.layersByLevel[i],s),s.elesQueue=[],s.invalid=!0,s.replacement&&(s.replacement.invalid=!0);for(var c=0;c<o.length;c++){var d=o[c]._private.rscratch.imgLayerCaches;d&&(d[i]=null)}}},ir.refineElementTextures=function(s){var i=this;i.updateElementsInLayers(s,function(u,c,d){var f=u.replacement;if(f||((f=u.replacement=i.makeLayer(u.bb,u.level)).replaces=u,f.eles=u.eles),!f.reqs)for(var g=0;g<f.eles.length;g++)i.queueLayer(f,f.eles[g])})},ir.enqueueElementRefinement=function(s){this.eleTxrDeqs.merge(s),this.scheduleElementRefinement()},ir.queueLayer=function(s,i){var u=this.layersQueue,c=s.elesQueue,d=c.hasId=c.hasId||{};if(!s.replacement){if(i){if(d[i.id()])return;c.push(i),d[i.id()]=!0}s.reqs?(s.reqs++,u.updateItem(s)):(s.reqs=1,u.push(s))}},ir.dequeue=function(s){for(var i=this,o=i.layersQueue,u=[],c=0;c<1&&0!==o.size();){var d=o.peek();if(d.replacement)o.pop();else if(d.replaces&&d!==d.replaces.replacement)o.pop();else if(d.invalid)o.pop();else{var f=d.elesQueue.shift();f&&(i.drawEleInLayer(d,f,d.level,s),c++),0===u.length&&u.push(!0),0===d.elesQueue.length&&(o.pop(),d.reqs=0,d.replaces&&i.applyLayerReplacement(d),i.requestRedraw())}}return u},ir.applyLayerReplacement=function(s){var o=this.layersByLevel[s.level],u=s.replaces,c=o.indexOf(u);if(!(c<0||u.invalid)){o[c]=s;for(var d=0;d<s.eles.length;d++){var f=s.eles[d]._private,g=f.imgLayerCaches=f.imgLayerCaches||{};g&&(g[s.level]=s)}this.requestRedraw()}},ir.requestRedraw=Qr(function(){var s=this.renderer;s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.redraw()},100),ir.setupDequeueing=Pd_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,o){return i.dequeue(o)},onDeqd:Ma,shouldRedraw:Li,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ld,Zh={};function Bu(s,i){for(var o=0;o<i.length;o++){var u=i[o];s.lineTo(u.x,u.y)}}function pm(s,i,o){for(var u,c=0;c<i.length;c++){var d=i[c];0===c&&(u=d),s.lineTo(d.x,d.y)}s.quadraticCurveTo(o.x,o.y,u.x,u.y)}function $u(s,i,o){s.beginPath&&s.beginPath();for(var u=i,c=0;c<u.length;c++)s.lineTo((d=u[c]).x,d.y);var f=o,g=o[0];for(s.moveTo(g.x,g.y),c=1;c<f.length;c++){var d;s.lineTo((d=f[c]).x,d.y)}s.closePath&&s.closePath()}function gm(s,i,o,u,c){s.beginPath&&s.beginPath(),s.arc(o,u,c,0,2*Math.PI,!1);var d=i,f=d[0];s.moveTo(f.x,f.y);for(var g=0;g<d.length;g++){var m=d[g];s.lineTo(m.x,m.y)}s.closePath&&s.closePath()}function Mn(s,i,o,u){s.arc(i,o,u,0,2*Math.PI,!1)}Zh.arrowShapeImpl=function(s){return(Ld||(Ld={polygon:Bu,"triangle-backcurve":pm,"triangle-tee":$u,"circle-triangle":gm,"triangle-cross":$u,circle:Mn}))[s]};var Wi={drawElement:function(s,i,o,u,c,d){i.isNode()?this.drawNode(s,i,o,u,c,d):this.drawEdge(s,i,o,u,c,d)},drawElementOverlay:function(s,i){i.isNode()?this.drawNodeOverlay(s,i):this.drawEdgeOverlay(s,i)},drawElementUnderlay:function(s,i){i.isNode()?this.drawNodeUnderlay(s,i):this.drawEdgeUnderlay(s,i)},drawCachedElementPortion:function(s,i,o,u,c,d,f,g){var m=this,v=o.getBoundingBox(i);if(0!==v.w&&0!==v.h){var w=o.getElement(i,v,u,c,d);if(null!=w){var b=g(m,i);if(0===b)return;var x,I,P,N,B,$,E=f(m,i),C=v.x1,_=v.y1,S=v.w,A=v.h;if(0!==E){var z=o.getRotationPoint(i);s.translate(P=z.x,N=z.y),s.rotate(E),(B=m.getImgSmoothing(s))||m.setImgSmoothing(s,!0);var R=o.getRotationOffset(i);x=R.x,I=R.y}else x=C,I=_;1!==b&&(s.globalAlpha=($=s.globalAlpha)*b),s.drawImage(w.texture.canvas,w.x,0,w.width,w.height,x,I,S,A),1!==b&&(s.globalAlpha=$),0!==E&&(s.rotate(-E),s.translate(-P,-N),B||m.setImgSmoothing(s,!1))}else o.drawElement(s,i)}}},vm=function(){return 0},Vd=function(i,o){return i.getTextAngle(o,null)},Xh=function(i,o){return i.getTextAngle(o,"source")},mm=function(i,o){return i.getTextAngle(o,"target")},ym=function(i,o){return o.effectiveOpacity()},Bd=function(i,o){return o.pstyle("text-opacity").pfValue*o.effectiveOpacity()};Wi.drawCachedElement=function(s,i,o,u,c,d){var f=this,g=f.data,m=g.eleTxrCache,v=g.lblTxrCache,w=g.slbTxrCache,b=g.tlbTxrCache,E=i.boundingBox(),C=!0===d?m.reasons.highQuality:null;if(0!==E.w&&0!==E.h&&i.visible()&&(!u||Oc(E,u))){var _=i.isEdge(),S=i.element()._private.rscratch.badLine;f.drawElementUnderlay(s,i),f.drawCachedElementPortion(s,i,m,o,c,C,vm,ym),(!_||!S)&&f.drawCachedElementPortion(s,i,v,o,c,C,Vd,Bd),_&&!S&&(f.drawCachedElementPortion(s,i,w,o,c,C,Xh,Bd),f.drawCachedElementPortion(s,i,b,o,c,C,mm,Bd)),f.drawElementOverlay(s,i)}},Wi.drawElements=function(s,i){for(var u=0;u<i.length;u++)this.drawElement(s,i[u])},Wi.drawCachedElements=function(s,i,o,u){for(var d=0;d<i.length;d++)this.drawCachedElement(s,i[d],o,u)},Wi.drawCachedNodes=function(s,i,o,u){for(var d=0;d<i.length;d++){var f=i[d];!f.isNode()||this.drawCachedElement(s,f,o,u)}},Wi.drawLayeredElements=function(s,i,o,u){var d=this.data.lyrTxrCache.getLayers(i,o);if(d)for(var f=0;f<d.length;f++){var g=d[f],m=g.bb;0===m.w||0===m.h||s.drawImage(g.canvas,m.x1,m.y1,m.w,m.h)}else this.drawCachedElements(s,i,o,u)};var va={drawEdge:function(s,i,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,g=i._private.rscratch;if((!d||i.visible())&&!g.badLine&&null!=g.allpts&&!isNaN(g.allpts[0])){var m;o&&s.translate(-(m=o).x1,-m.y1);var v=d?i.pstyle("opacity").value:1,w=d?i.pstyle("line-opacity").value:1,b=i.pstyle("curve-style").value,E=i.pstyle("line-style").value,C=i.pstyle("width").pfValue,_=i.pstyle("line-cap").value,S=v*w,A=v*w,x=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;"straight-triangle"===b?(f.eleStrokeStyle(s,i,L),f.drawEdgeTrianglePath(i,s,g.allpts)):(s.lineWidth=C,s.lineCap=_,f.eleStrokeStyle(s,i,L),f.drawEdgePath(i,s,g.allpts,E),s.lineCap="butt")},I=function(){!c||f.drawEdgeOverlay(s,i)},P=function(){!c||f.drawEdgeUnderlay(s,i)},N=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;f.drawArrowheads(s,i,L)},B=function(){f.drawElementText(s,i,null,u)};s.lineJoin="round";var z="yes"===i.pstyle("ghost").value;if(z){var R=i.pstyle("ghost-offset-x").pfValue,$=i.pstyle("ghost-offset-y").pfValue,F=i.pstyle("ghost-opacity").value,j=S*F;s.translate(R,$),x(j),N(j),s.translate(-R,-$)}P(),x(),N(),I(),B(),o&&s.translate(m.x1,m.y1)}}},Jh=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(o,u){if(u.visible()){var c=u.pstyle("".concat(i,"-opacity")).value;if(0!==c){var d=this,f=d.usePaths(),g=u._private.rscratch,v=2*u.pstyle("".concat(i,"-padding")).pfValue,w=u.pstyle("".concat(i,"-color")).value;o.lineWidth=v,o.lineCap="self"!==g.edgeType||f?"round":"butt",d.colorStrokeStyle(o,w[0],w[1],w[2],c),d.drawEdgePath(u,o,g.allpts,"solid")}}}};va.drawEdgeOverlay=Jh("overlay"),va.drawEdgeUnderlay=Jh("underlay"),va.drawEdgePath=function(s,i,o,u){var f,c=s._private.rscratch,d=i,g=!1,m=this.usePaths(),v=s.pstyle("line-dash-pattern").pfValue,w=s.pstyle("line-dash-offset").pfValue;if(m){var b=o.join("$");c.pathCacheKey&&c.pathCacheKey===b?(f=i=c.pathCache,g=!0):(f=i=new Path2D,c.pathCacheKey=b,c.pathCache=f)}if(d.setLineDash)switch(u){case"dotted":d.setLineDash([1,1]);break;case"dashed":d.setLineDash(v),d.lineDashOffset=w;break;case"solid":d.setLineDash([])}if(!g&&!c.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(o[0],o[1]),c.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var C=2;C+3<o.length;C+=4)i.quadraticCurveTo(o[C],o[C+1],o[C+2],o[C+3]);break;case"straight":case"segments":case"haystack":for(var _=2;_+1<o.length;_+=2)i.lineTo(o[_],o[_+1])}i=d,m?i.stroke(f):i.stroke(),i.setLineDash&&i.setLineDash([])},va.drawEdgeTrianglePath=function(s,i,o){i.fillStyle=i.strokeStyle;for(var u=s.pstyle("width").pfValue,c=0;c+1<o.length;c+=2){var d=[o[c+2]-o[c],o[c+3]-o[c+1]],f=Math.sqrt(d[0]*d[0]+d[1]*d[1]),g=[d[1]/f,-d[0]/f],m=[g[0]*u/2,g[1]*u/2];i.beginPath(),i.moveTo(o[c]-m[0],o[c+1]-m[1]),i.lineTo(o[c]+m[0],o[c+1]+m[1]),i.lineTo(o[c+2],o[c+3]),i.closePath(),i.fill()}},va.drawArrowheads=function(s,i,o){var u=i._private.rscratch,c="haystack"===u.edgeType;c||this.drawArrowhead(s,i,"source",u.arrowStartX,u.arrowStartY,u.srcArrowAngle,o),this.drawArrowhead(s,i,"mid-target",u.midX,u.midY,u.midtgtArrowAngle,o),this.drawArrowhead(s,i,"mid-source",u.midX,u.midY,u.midsrcArrowAngle,o),c||this.drawArrowhead(s,i,"target",u.arrowEndX,u.arrowEndY,u.tgtArrowAngle,o)},va.drawArrowhead=function(s,i,o,u,c,d,f){if(!(isNaN(u)||null==u||isNaN(c)||null==c||isNaN(d)||null==d)){var g=this,m=i.pstyle(o+"-arrow-shape").value;if("none"!==m){var v="hollow"===i.pstyle(o+"-arrow-fill").value?"both":"filled",w=i.pstyle(o+"-arrow-fill").value,b=i.pstyle("width").pfValue,E=i.pstyle("opacity").value;void 0===f&&(f=E);var C=s.globalCompositeOperation;(1!==f||"hollow"===w)&&(s.globalCompositeOperation="destination-out",g.colorFillStyle(s,255,255,255,1),g.colorStrokeStyle(s,255,255,255,1),g.drawArrowShape(i,s,v,b,m,u,c,d),s.globalCompositeOperation=C);var _=i.pstyle(o+"-arrow-color").value;g.colorFillStyle(s,_[0],_[1],_[2],f),g.colorStrokeStyle(s,_[0],_[1],_[2],f),g.drawArrowShape(i,s,w,b,m,u,c,d)}}},va.drawArrowShape=function(s,i,o,u,c,d,f,g){var b,m=this,v=this.usePaths()&&"triangle-cross"!==c,w=!1,E=i,C={x:d,y:f},_=s.pstyle("arrow-scale").value,S=this.getArrowWidth(u,_),A=m.arrowShapes[c];if(v){var x=m.arrowPathCache=m.arrowPathCache||[],I=vo(c),P=x[I];null!=P?(b=i=P,w=!0):(b=i=new Path2D,x[I]=b)}w||(i.beginPath&&i.beginPath(),v?A.draw(i,1,0,{x:0,y:0},1):A.draw(i,S,g,C,u),i.closePath&&i.closePath()),i=E,v&&(i.translate(d,f),i.rotate(g),i.scale(S,S)),("filled"===o||"both"===o)&&(v?i.fill(b):i.fill()),("hollow"===o||"both"===o)&&(i.lineWidth=(A.matchEdgeWidth?u:1)/(v?S:1),i.lineJoin="miter",v?i.stroke(b):i.stroke()),v&&(i.scale(1/S,1/S),i.rotate(-g),i.translate(-d,-f))};var ep={safeDrawImage:function(s,i,o,u,c,d,f,g,m,v){c<=0||d<=0||m<=0||v<=0||s.drawImage(i,o,u,c,d,f,g,m,v)},drawInscribedImage:function(s,i,o,u,c){var d=this,f=o.position(),g=f.x,m=f.y,v=o.cy().style(),w=v.getIndexedStyle.bind(v),b=w(o,"background-fit","value",u),E=w(o,"background-repeat","value",u),C=o.width(),_=o.height(),S=2*o.padding(),A=C+("inner"===w(o,"background-width-relative-to","value",u)?0:S),x=_+("inner"===w(o,"background-height-relative-to","value",u)?0:S),I=o._private.rscratch,N="node"===w(o,"background-clip","value",u),B=w(o,"background-image-opacity","value",u)*c,z=w(o,"background-image-smoothing","value",u),R=i.width||i.cachedW,$=i.height||i.cachedH;(null==R||null==$)&&(document.body.appendChild(i),R=i.cachedW=i.width||i.offsetWidth,$=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var F=R,j=$;if("auto"!==w(o,"background-width","value",u)&&(F="%"===w(o,"background-width","units",u)?w(o,"background-width","pfValue",u)*A:w(o,"background-width","pfValue",u)),"auto"!==w(o,"background-height","value",u)&&(j="%"===w(o,"background-height","units",u)?w(o,"background-height","pfValue",u)*x:w(o,"background-height","pfValue",u)),0!==F&&0!==j){if("contain"===b)F*=U=Math.min(A/F,x/j),j*=U;else if("cover"===b){var U;F*=U=Math.max(A/F,x/j),j*=U}var L=g-A/2,q=w(o,"background-position-x","units",u),V=w(o,"background-position-x","pfValue",u);L+="%"===q?(A-F)*V:V;var Y=w(o,"background-offset-x","units",u),G=w(o,"background-offset-x","pfValue",u);L+="%"===Y?(A-F)*G:G;var K=m-x/2,X=w(o,"background-position-y","units",u),J=w(o,"background-position-y","pfValue",u);K+="%"===X?(x-j)*J:J;var oe=w(o,"background-offset-y","units",u),ee=w(o,"background-offset-y","pfValue",u);K+="%"===oe?(x-j)*ee:ee,I.pathCache&&(L-=g,K-=m,g=0,m=0);var re=s.globalAlpha;s.globalAlpha=B;var he=d.getImgSmoothing(s),ve=!1;if("no"===z&&he?(d.setImgSmoothing(s,!1),ve=!0):"yes"===z&&!he&&(d.setImgSmoothing(s,!0),ve=!0),"no-repeat"===E)N&&(s.save(),I.pathCache?s.clip(I.pathCache):(d.nodeShapes[d.getNodeShape(o)].draw(s,g,m,A,x),s.clip())),d.safeDrawImage(s,i,0,0,R,$,L,K,F,j),N&&s.restore();else{var pe=s.createPattern(i,E);s.fillStyle=pe,d.nodeShapes[d.getNodeShape(o)].draw(s,g,m,A,x),s.translate(L,K),s.fill(),s.translate(-L,-K)}s.globalAlpha=re,ve&&d.setImgSmoothing(s,he)}}},Is={};function Ml(s,i,o,u,c){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;s.beginPath(),s.moveTo(i+d,o),s.lineTo(i+u-d,o),s.quadraticCurveTo(i+u,o,i+u,o+d),s.lineTo(i+u,o+c-d),s.quadraticCurveTo(i+u,o+c,i+u-d,o+c),s.lineTo(i+d,o+c),s.quadraticCurveTo(i,o+c,i,o+c-d),s.lineTo(i,o+d),s.quadraticCurveTo(i,o,i+d,o),s.closePath(),s.fill()}Is.eleTextBiggerThanMin=function(s,i){if(!i){var o=s.cy().zoom(),u=this.getPixelRatio(),c=Math.ceil(Xf(o*u));i=Math.pow(2,c)}return!(s.pstyle("font-size").pfValue*i<s.pstyle("min-zoomed-font-size").pfValue)},Is.drawElementText=function(s,i,o,u,c){var d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this;if(null==u){if(d&&!f.eleTextBiggerThanMin(i))return}else if(!1===u)return;if(i.isNode()){var g=i.pstyle("label");if(!g||!g.value)return;var m=f.getLabelJustification(i);s.textAlign=m,s.textBaseline="bottom"}else{var v=i.element()._private.rscratch.badLine,w=i.pstyle("label"),b=i.pstyle("source-label"),E=i.pstyle("target-label");if(v||(!w||!w.value)&&(!b||!b.value)&&(!E||!E.value))return;s.textAlign="center",s.textBaseline="bottom"}var _,C=!o;o&&s.translate(-(_=o).x1,-_.y1),null==c?(f.drawText(s,i,null,C,d),i.isEdge()&&(f.drawText(s,i,"source",C,d),f.drawText(s,i,"target",C,d))):f.drawText(s,i,c,C,d),o&&s.translate(_.x1,_.y1)},Is.getFontCache=function(s){var i;this.fontCaches=this.fontCaches||[];for(var o=0;o<this.fontCaches.length;o++)if((i=this.fontCaches[o]).context===s)return i;return this.fontCaches.push(i={context:s}),i},Is.setupTextStyle=function(s,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=i.pstyle("font-style").strValue,c=i.pstyle("font-size").pfValue+"px",d=i.pstyle("font-family").strValue,f=i.pstyle("font-weight").strValue,g=o?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,m=i.pstyle("text-outline-opacity").value*g,v=i.pstyle("color").value,w=i.pstyle("text-outline-color").value;s.font=u+" "+f+" "+c+" "+d,s.lineJoin="round",this.colorFillStyle(s,v[0],v[1],v[2],g),this.colorStrokeStyle(s,w[0],w[1],w[2],m)},Is.getTextAngle=function(s,i){var c=s._private.rscratch,f=s.pstyle((i?i+"-":"")+"text-rotation"),g=vi(c,"labelAngle",i);return"autorotate"===f.strValue?s.isEdge()?g:0:"none"===f.strValue?0:f.pfValue},Is.drawText=function(s,i,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=i._private,f=d.rscratch,g=c?i.effectiveOpacity():1;if(!c||0!==g&&0!==i.pstyle("text-opacity").value){"main"===o&&(o=null);var w,b,m=vi(f,"labelX",o),v=vi(f,"labelY",o),E=this.getLabelText(i,o);if(null!=E&&""!==E&&!isNaN(m)&&!isNaN(v)){this.setupTextStyle(s,i,c);var B,C=o?o+"-":"",_=vi(f,"labelWidth",o),S=vi(f,"labelHeight",o),A=i.pstyle(C+"text-margin-x").pfValue,x=i.pstyle(C+"text-margin-y").pfValue,I=i.isEdge(),P=i.pstyle("text-halign").value,N=i.pstyle("text-valign").value;switch(I&&(P="center",N="center"),m+=A,v+=x,0!==(B=u?this.getTextAngle(i,o):0)&&(s.translate(w=m,b=v),s.rotate(B),m=0,v=0),N){case"top":break;case"center":v+=S/2;break;case"bottom":v+=S}var z=i.pstyle("text-background-opacity").value,R=i.pstyle("text-border-opacity").value,$=i.pstyle("text-border-width").pfValue,F=i.pstyle("text-background-padding").pfValue;if(z>0||$>0&&R>0){var j=m-F;switch(P){case"left":j-=_;break;case"center":j-=_/2}var U=v-S-F,L=_+2*F,q=S+2*F;if(z>0){var V=s.fillStyle,Y=i.pstyle("text-background-color").value;s.fillStyle="rgba("+Y[0]+","+Y[1]+","+Y[2]+","+z*g+")";var G=i.pstyle("text-background-shape").strValue;0===G.indexOf("round")?Ml(s,j,U,L,q,2):s.fillRect(j,U,L,q),s.fillStyle=V}if($>0&&R>0){var K=s.strokeStyle,X=s.lineWidth,J=i.pstyle("text-border-color").value,oe=i.pstyle("text-border-style").value;if(s.strokeStyle="rgba("+J[0]+","+J[1]+","+J[2]+","+R*g+")",s.lineWidth=$,s.setLineDash)switch(oe){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"double":s.lineWidth=$/4,s.setLineDash([]);break;case"solid":s.setLineDash([])}if(s.strokeRect(j,U,L,q),"double"===oe){var ee=$/2;s.strokeRect(j+ee,U+ee,L-2*ee,q-2*ee)}s.setLineDash&&s.setLineDash([]),s.lineWidth=X,s.strokeStyle=K}}var re=2*i.pstyle("text-outline-width").pfValue;if(re>0&&(s.lineWidth=re),"wrap"===i.pstyle("text-wrap").value){var he=vi(f,"labelWrapCachedLines",o),ve=vi(f,"labelLineHeight",o),pe=_/2,ue=this.getLabelJustification(i);switch("auto"===ue||("left"===P?"left"===ue?m+=-_:"center"===ue&&(m+=-pe):"center"===P?"left"===ue?m+=-pe:"right"===ue&&(m+=pe):"right"===P&&("center"===ue?m+=pe:"right"===ue&&(m+=_))),N){case"top":case"center":case"bottom":v-=(he.length-1)*ve}for(var Q=0;Q<he.length;Q++)re>0&&s.strokeText(he[Q],m,v),s.fillText(he[Q],m,v),v+=ve}else re>0&&s.strokeText(E,m,v),s.fillText(E,m,v);0!==B&&(s.rotate(-B),s.translate(-w,-b))}}};var ja={drawNode:function(s,i,o){var g,m,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,v=i._private,w=v.rscratch,b=i.position();if(Ee(b.x)&&Ee(b.y)&&(!d||i.visible())){var _,x,E=d?i.effectiveOpacity():1,C=f.usePaths(),S=!1,A=i.padding();g=i.width()+2*A,m=i.height()+2*A,o&&s.translate(-(x=o).x1,-x.y1);for(var I=i.pstyle("background-image"),P=I.value,N=new Array(P.length),B=new Array(P.length),z=0,R=0;R<P.length;R++){var $=P[R],F=N[R]=null!=$&&"none"!==$;if(F){var j=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",R);z++,B[R]=f.getCachedImage($,j,function(){v.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var U=i.pstyle("background-blacken").value,L=i.pstyle("border-width").pfValue,q=i.pstyle("background-opacity").value*E,V=i.pstyle("border-color").value,Y=i.pstyle("border-style").value,G=i.pstyle("border-opacity").value*E;s.lineJoin="miter";var K=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;f.eleFillStyle(s,i,Fe)},X=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;f.colorStrokeStyle(s,V[0],V[1],V[2],Fe)},J=i.pstyle("shape").strValue,oe=i.pstyle("shape-polygon-points").pfValue;if(C){s.translate(b.x,b.y);var ee=f.nodePathCache=f.nodePathCache||[],re=Kf("polygon"===J?J+","+oe.join(","):J,""+m,""+g),he=ee[re];null!=he?(S=!0,w.pathCache=_=he):(_=new Path2D,ee[re]=w.pathCache=_)}var ve=function(){if(!S){var Fe=b;C&&(Fe={x:0,y:0}),f.nodeShapes[f.getNodeShape(i)].draw(_||s,Fe.x,Fe.y,g,m)}C?s.fill(_):s.fill()},pe=function(){for(var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,je=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Tt=v.backgrounding,bt=0,ht=0;ht<B.length;ht++){var _e=i.cy().style().getIndexedStyle(i,"background-image-containment","value",ht);je&&"over"===_e||!je&&"inside"===_e?bt++:N[ht]&&B[ht].complete&&!B[ht].error&&(bt++,f.drawInscribedImage(s,B[ht],i,ht,Fe))}v.backgrounding=bt!==z,Tt!==v.backgrounding&&i.updateStyle(!1)},ue=function(){var Fe=arguments.length>0&&void 0!==arguments[0]&&arguments[0],je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;f.hasPie(i)&&(f.drawPie(s,i,je),Fe&&(C||f.nodeShapes[f.getNodeShape(i)].draw(s,b.x,b.y,g,m)))},Q=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,je=(U>0?U:-U)*Fe,Tt=U>0?0:255;0!==U&&(f.colorFillStyle(s,Tt,Tt,Tt,je),C?s.fill(_):s.fill())},se=function(){if(L>0){if(s.lineWidth=L,s.lineCap="butt",s.setLineDash)switch(Y){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"solid":case"double":s.setLineDash([])}if(C?s.stroke(_):s.stroke(),"double"===Y){s.lineWidth=L/3;var Fe=s.globalCompositeOperation;s.globalCompositeOperation="destination-out",C?s.stroke(_):s.stroke(),s.globalCompositeOperation=Fe}s.setLineDash&&s.setLineDash([])}},ge=function(){c&&f.drawNodeOverlay(s,i,b,g,m)},Ce=function(){c&&f.drawNodeUnderlay(s,i,b,g,m)},Ae=function(){f.drawElementText(s,i,null,u)},st="yes"===i.pstyle("ghost").value;if(st){var Ge=i.pstyle("ghost-offset-x").pfValue,xe=i.pstyle("ghost-offset-y").pfValue,Te=i.pstyle("ghost-opacity").value,Qe=Te*E;s.translate(Ge,xe),K(Te*q),ve(),pe(Qe,!0),X(Te*G),se(),ue(0!==U||0!==L),pe(Qe,!1),Q(Qe),s.translate(-Ge,-xe)}C&&s.translate(-b.x,-b.y),Ce(),C&&s.translate(b.x,b.y),K(),ve(),pe(E,!0),X(),se(),ue(0!==U||0!==L),pe(E,!1),Q(),C&&s.translate(-b.x,-b.y),Ae(),ge(),o&&s.translate(x.x1,x.y1)}}},tp=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(o,u,c,d,f){if(u.visible()){var m=u.pstyle("".concat(i,"-padding")).pfValue,v=u.pstyle("".concat(i,"-opacity")).value,w=u.pstyle("".concat(i,"-color")).value,b=u.pstyle("".concat(i,"-shape")).value;if(v>0){if(c=c||u.position(),null==d||null==f){var E=u.padding();d=u.width()+2*E,f=u.height()+2*E}this.colorFillStyle(o,w[0],w[1],w[2],v),this.nodeShapes[b].draw(o,c.x,c.y,d+2*m,f+2*m),o.fill()}}}};ja.drawNodeOverlay=tp("overlay"),ja.drawNodeUnderlay=tp("underlay"),ja.hasPie=function(s){return(s=s[0])._private.hasPie},ja.drawPie=function(s,i,o,u){i=i[0],u=u||i.position();var c=i.cy().style(),d=i.pstyle("pie-size"),f=u.x,g=u.y,m=i.width(),v=i.height(),w=Math.min(m,v)/2,b=0;this.usePaths()&&(f=0,g=0),"%"===d.units?w*=d.pfValue:void 0!==d.pfValue&&(w=d.pfValue/2);for(var C=1;C<=c.pieBackgroundN;C++){var _=i.pstyle("pie-"+C+"-background-size").value,S=i.pstyle("pie-"+C+"-background-color").value,A=i.pstyle("pie-"+C+"-background-opacity").value*o,x=_/100;x+b>1&&(x=1-b);var I=1.5*Math.PI+2*Math.PI*b,N=I+2*Math.PI*x;0===_||b>=1||b+x>1||(s.beginPath(),s.moveTo(f,g),s.arc(f,g,w,I,N),s.closePath(),this.colorFillStyle(s,S[0],S[1],S[2],A),s.fill(),b+=x)}};for(var Ur={getPixelRatio:function(){var s=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(s.backingStorePixelRatio||s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)},paintCache:function(s){for(var u,i=this.paintCaches=this.paintCaches||[],o=!0,c=0;c<i.length;c++)if((u=i[c]).context===s){o=!1;break}return o&&i.push(u={context:s}),u},createGradientStyleFor:function(s,i,o,u,c){var d,f=this.usePaths(),g=o.pstyle(i+"-gradient-stop-colors").value,m=o.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===u)if(o.isEdge()){var v=o.sourceEndpoint(),w=o.targetEndpoint(),b=o.midpoint(),E=mo(v,b),C=mo(w,b);d=s.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(E,C))}else{var _=f?{x:0,y:0}:o.position(),S=o.paddedWidth(),A=o.paddedHeight();d=s.createRadialGradient(_.x,_.y,0,_.x,_.y,Math.max(S,A))}else if(o.isEdge()){var x=o.sourceEndpoint(),I=o.targetEndpoint();d=s.createLinearGradient(x.x,x.y,I.x,I.y)}else{var P=f?{x:0,y:0}:o.position(),z=o.paddedWidth()/2,R=o.paddedHeight()/2;switch(o.pstyle("background-gradient-direction").value){case"to-bottom":d=s.createLinearGradient(P.x,P.y-R,P.x,P.y+R);break;case"to-top":d=s.createLinearGradient(P.x,P.y+R,P.x,P.y-R);break;case"to-left":d=s.createLinearGradient(P.x+z,P.y,P.x-z,P.y);break;case"to-right":d=s.createLinearGradient(P.x-z,P.y,P.x+z,P.y);break;case"to-bottom-right":case"to-right-bottom":d=s.createLinearGradient(P.x-z,P.y-R,P.x+z,P.y+R);break;case"to-top-right":case"to-right-top":d=s.createLinearGradient(P.x-z,P.y+R,P.x+z,P.y-R);break;case"to-bottom-left":case"to-left-bottom":d=s.createLinearGradient(P.x+z,P.y-R,P.x-z,P.y+R);break;case"to-top-left":case"to-left-top":d=s.createLinearGradient(P.x+z,P.y+R,P.x-z,P.y-R)}}if(!d)return null;for(var F=m.length===g.length,j=g.length,U=0;U<j;U++)d.addColorStop(F?m[U]:U/(j-1),"rgba("+g[U][0]+","+g[U][1]+","+g[U][2]+","+c+")");return d},gradientFillStyle:function(s,i,o,u){var c=this.createGradientStyleFor(s,"background",i,o,u);if(!c)return null;s.fillStyle=c},colorFillStyle:function(s,i,o,u,c){s.fillStyle="rgba("+i+","+o+","+u+","+c+")"},eleFillStyle:function(s,i,o){var u=i.pstyle("background-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientFillStyle(s,i,u,o);else{var c=i.pstyle("background-color").value;this.colorFillStyle(s,c[0],c[1],c[2],o)}},gradientStrokeStyle:function(s,i,o,u){var c=this.createGradientStyleFor(s,"line",i,o,u);if(!c)return null;s.strokeStyle=c},colorStrokeStyle:function(s,i,o,u,c){s.strokeStyle="rgba("+i+","+o+","+u+","+c+")"},eleStrokeStyle:function(s,i,o){var u=i.pstyle("line-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientStrokeStyle(s,i,u,o);else{var c=i.pstyle("line-color").value;this.colorStrokeStyle(s,c[0],c[1],c[2],o)}},matchCanvasSize:function(s){var i=this,o=i.data,u=i.findContainerClientCoords(),c=u[2],d=u[3],f=i.getPixelRatio();(s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(f=i.motionBlurPxRatio);var w,m=c*f,v=d*f;if(m!==i.canvasWidth||v!==i.canvasHeight){i.fontCaches=null;var b=o.canvasContainer;b.style.width=c+"px",b.style.height=d+"px";for(var E=0;E<i.CANVAS_LAYERS;E++)(w=o.canvases[E]).width=m,w.height=v,w.style.width=c+"px",w.style.height=d+"px";for(E=0;E<i.BUFFER_COUNT;E++)(w=o.bufferCanvases[E]).width=m,w.height=v,w.style.width=c+"px",w.style.height=d+"px";i.textureMult=1,f<=1&&(w=o.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,w.width=m*i.textureMult,w.height=v*i.textureMult),i.canvasWidth=m,i.canvasHeight=v}},renderTo:function(s,i,o,u){this.render({forcedContext:s,forcedZoom:i,forcedPan:o,drawAllLayers:!0,forcedPxRatio:u})},render:function(s){var i=(s=s||Ic()).forcedContext,o=s.drawAllLayers,u=s.drawOnlyNodeLayer,c=s.forcedZoom,d=s.forcedPan,f=this,g=void 0===s.forcedPxRatio?this.getPixelRatio():s.forcedPxRatio,m=f.cy,v=f.data,w=v.canvasNeedsRedraw,b=f.textureOnViewport&&!i&&(f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming),E=void 0!==s.motionBlur?s.motionBlur:f.motionBlur,C=f.motionBlurPxRatio,_=m.hasCompoundNodes(),S=f.hoverData.draggingEles,x=E=E&&!i&&f.motionBlurEnabled&&!(f.hoverData.selecting||f.touchData.selecting);i||(f.prevPxRatio!==g&&(f.invalidateContainerClientCoordsCache(),f.matchCanvasSize(f.container),f.redrawHint("eles",!0),f.redrawHint("drag",!0)),f.prevPxRatio=g),!i&&f.motionBlurTimeout&&clearTimeout(f.motionBlurTimeout),E&&(null==f.mbFrames&&(f.mbFrames=0),f.mbFrames++,f.mbFrames<3&&(x=!1),f.mbFrames>f.minMbLowQualFrames&&(f.motionBlurPxRatio=f.mbPxRBlurry)),f.clearingMotionBlur&&(f.motionBlurPxRatio=1),f.textureDrawLastFrame&&!b&&(w[f.NODE]=!0,w[f.SELECT_BOX]=!0);var I=m.style(),P=m.zoom(),N=void 0!==c?c:P,B=m.pan(),z={x:B.x,y:B.y},R={zoom:P,pan:{x:B.x,y:B.y}},$=f.prevViewport;!(void 0===$||R.zoom!==$.zoom||R.pan.x!==$.pan.x||R.pan.y!==$.pan.y)&&!(S&&!_)&&(f.motionBlurPxRatio=1),d&&(z=d),N*=g,z.x*=g,z.y*=g;var j=f.getCachedZSortedEles();function U(xe,Te,Qe,ze,Fe){var je=xe.globalCompositeOperation;xe.globalCompositeOperation="destination-out",f.colorFillStyle(xe,255,255,255,f.motionBlurTransparency),xe.fillRect(Te,Qe,ze,Fe),xe.globalCompositeOperation=je}function L(xe,Te){var Qe,ze,Fe,je;f.clearingMotionBlur||xe!==v.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]&&xe!==v.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]?(Qe=z,ze=N,Fe=f.canvasWidth,je=f.canvasHeight):(Qe={x:B.x*C,y:B.y*C},ze=P*C,Fe=f.canvasWidth*C,je=f.canvasHeight*C),xe.setTransform(1,0,0,1,0,0),"motionBlur"===Te?U(xe,0,0,Fe,je):!i&&(void 0===Te||Te)&&xe.clearRect(0,0,Fe,je),o||(xe.translate(Qe.x,Qe.y),xe.scale(ze,ze)),d&&xe.translate(d.x,d.y),c&&xe.scale(c,c)}if(b||(f.textureDrawLastFrame=!1),b){if(f.textureDrawLastFrame=!0,!f.textureCache){f.textureCache={},f.textureCache.bb=m.mutableElements().boundingBox(),f.textureCache.texture=f.data.bufferCanvases[f.TEXTURE_BUFFER];var q=f.data.bufferContexts[f.TEXTURE_BUFFER];q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,f.canvasWidth*f.textureMult,f.canvasHeight*f.textureMult),f.render({forcedContext:q,drawOnlyNodeLayer:!0,forcedPxRatio:g*f.textureMult}),(R=f.textureCache.viewport={zoom:m.zoom(),pan:m.pan(),width:f.canvasWidth,height:f.canvasHeight}).mpan={x:(0-R.pan.x)/R.zoom,y:(0-R.pan.y)/R.zoom}}w[f.DRAG]=!1,w[f.NODE]=!1;var Y=f.textureCache.texture;R=f.textureCache.viewport,(V=v.contexts[f.NODE]).setTransform(1,0,0,1,0,0),E?U(V,0,0,R.width,R.height):V.clearRect(0,0,R.width,R.height);var G=I.core("outside-texture-bg-color").value,K=I.core("outside-texture-bg-opacity").value;f.colorFillStyle(V,G[0],G[1],G[2],K),V.fillRect(0,0,R.width,R.height),P=m.zoom(),L(V,!1),V.clearRect(R.mpan.x,R.mpan.y,R.width/R.zoom/g,R.height/R.zoom/g),V.drawImage(Y,R.mpan.x,R.mpan.y,R.width/R.zoom/g,R.height/R.zoom/g)}else f.textureOnViewport&&!i&&(f.textureCache=null);var X=m.extent(),J=f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming||f.hoverData.draggingEles||f.cy.animated(),oe=f.hideEdgesOnViewport&&J,ee=[];if(ee[f.NODE]=!w[f.NODE]&&E&&!f.clearedForMotionBlur[f.NODE]||f.clearingMotionBlur,ee[f.NODE]&&(f.clearedForMotionBlur[f.NODE]=!0),ee[f.DRAG]=!w[f.DRAG]&&E&&!f.clearedForMotionBlur[f.DRAG]||f.clearingMotionBlur,ee[f.DRAG]&&(f.clearedForMotionBlur[f.DRAG]=!0),w[f.NODE]||o||u||ee[f.NODE]){var re=E&&!ee[f.NODE]&&1!==C;L(V=i||(re?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]:v.contexts[f.NODE]),E&&!re?"motionBlur":void 0),oe?f.drawCachedNodes(V,j.nondrag,g,X):f.drawLayeredElements(V,j.nondrag,g,X),f.debug&&f.drawDebugPoints(V,j.nondrag),!o&&!E&&(w[f.NODE]=!1)}if(!u&&(w[f.DRAG]||o||ee[f.DRAG])&&(re=E&&!ee[f.DRAG]&&1!==C,L(V=i||(re?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]:v.contexts[f.DRAG]),E&&!re?"motionBlur":void 0),oe?f.drawCachedNodes(V,j.drag,g,X):f.drawCachedElements(V,j.drag,g,X),f.debug&&f.drawDebugPoints(V,j.drag),!o&&!E&&(w[f.DRAG]=!1)),f.showFps||!u&&w[f.SELECT_BOX]&&!o){var V;if(L(V=i||v.contexts[f.SELECT_BOX]),1==f.selection[4]&&(f.hoverData.selecting||f.touchData.selecting)){P=f.cy.zoom();var ve=I.core("selection-box-border-width").value/P;V.lineWidth=ve,V.fillStyle="rgba("+I.core("selection-box-color").value[0]+","+I.core("selection-box-color").value[1]+","+I.core("selection-box-color").value[2]+","+I.core("selection-box-opacity").value+")",V.fillRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]),ve>0&&(V.strokeStyle="rgba("+I.core("selection-box-border-color").value[0]+","+I.core("selection-box-border-color").value[1]+","+I.core("selection-box-border-color").value[2]+","+I.core("selection-box-opacity").value+")",V.strokeRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]))}if(v.bgActivePosistion&&!f.hoverData.selecting){P=f.cy.zoom();var pe=v.bgActivePosistion;V.fillStyle="rgba("+I.core("active-bg-color").value[0]+","+I.core("active-bg-color").value[1]+","+I.core("active-bg-color").value[2]+","+I.core("active-bg-opacity").value+")",V.beginPath(),V.arc(pe.x,pe.y,I.core("active-bg-size").pfValue/P,0,2*Math.PI),V.fill()}var ue=f.lastRedrawTime;if(f.showFps&&ue){ue=Math.round(ue);var Q=Math.round(1e3/ue);V.setTransform(1,0,0,1,0,0),V.fillStyle="rgba(255, 0, 0, 0.75)",V.strokeStyle="rgba(255, 0, 0, 0.75)",V.lineWidth=1,V.fillText("1 frame = "+ue+" ms = "+Q+" fps",0,20),V.strokeRect(0,30,250,20),V.fillRect(0,30,250*Math.min(Q/60,1),20)}o||(w[f.SELECT_BOX]=!1)}if(E&&1!==C){var Ae=v.contexts[f.DRAG],st=f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_DRAG],Ge=function(Te,Qe,ze){Te.setTransform(1,0,0,1,0,0),ze||!x?Te.clearRect(0,0,f.canvasWidth,f.canvasHeight):U(Te,0,0,f.canvasWidth,f.canvasHeight),Te.drawImage(Qe,0,0,f.canvasWidth*C,f.canvasHeight*C,0,0,f.canvasWidth,f.canvasHeight)};(w[f.NODE]||ee[f.NODE])&&(Ge(v.contexts[f.NODE],f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_NODE],ee[f.NODE]),w[f.NODE]=!1),(w[f.DRAG]||ee[f.DRAG])&&(Ge(Ae,st,ee[f.DRAG]),w[f.DRAG]=!1)}f.prevViewport=R,f.clearingMotionBlur&&(f.clearingMotionBlur=!1,f.motionBlurCleared=!0,f.motionBlur=!0),E&&(f.motionBlurTimeout=setTimeout(function(){f.motionBlurTimeout=null,f.clearedForMotionBlur[f.NODE]=!1,f.clearedForMotionBlur[f.DRAG]=!1,f.motionBlur=!1,f.clearingMotionBlur=!b,f.mbFrames=0,w[f.NODE]=!0,w[f.DRAG]=!0,f.redraw()},100)),i||m.emit("render")}},ma={drawPolygonPath:function(s,i,o,u,c,d){var f=u/2,g=c/2;s.beginPath&&s.beginPath(),s.moveTo(i+f*d[0],o+g*d[1]);for(var m=1;m<d.length/2;m++)s.lineTo(i+f*d[2*m],o+g*d[2*m+1]);s.closePath()},drawRoundPolygonPath:function(s,i,o,u,c,d){var f=u/2,g=c/2,m=$c(u,c);s.beginPath&&s.beginPath();for(var v=0;v<d.length/4;v++){var b,w;w=0===v?d.length-2:4*v-2,b=4*v+2;var E=i+f*d[4*v],C=o+g*d[4*v+1],S=m/Math.tan(Math.acos(-d[w]*d[b]-d[w+1]*d[b+1])/2),A=E-S*d[w],x=C-S*d[w+1],I=E+S*d[b],P=C+S*d[b+1];0===v?s.moveTo(A,x):s.lineTo(A,x),s.arcTo(E,C,I,P,m)}s.closePath()},drawRoundRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2,g=ca(u,c);s.beginPath&&s.beginPath(),s.moveTo(i,o-f),s.arcTo(i+d,o-f,i+d,o,g),s.arcTo(i+d,o+f,i,o+f,g),s.arcTo(i-d,o+f,i-d,o,g),s.arcTo(i-d,o-f,i,o-f,g),s.lineTo(i,o-f),s.closePath()},drawBottomRoundRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2,g=ca(u,c);s.beginPath&&s.beginPath(),s.moveTo(i,o-f),s.lineTo(i+d,o-f),s.lineTo(i+d,o),s.arcTo(i+d,o+f,i,o+f,g),s.arcTo(i-d,o+f,i-d,o,g),s.lineTo(i-d,o-f),s.lineTo(i,o-f),s.closePath()},drawCutRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2;s.beginPath&&s.beginPath(),s.moveTo(i-d+8,o-f),s.lineTo(i+d-8,o-f),s.lineTo(i+d,o-f+8),s.lineTo(i+d,o+f-8),s.lineTo(i+d-8,o+f),s.lineTo(i-d+8,o+f),s.lineTo(i-d,o+f-8),s.lineTo(i-d,o-f+8),s.closePath()},drawBarrelPath:function(s,i,o,u,c){var d=u/2,f=c/2,g=i-d,m=i+d,v=o-f,w=o+f,b=lu(u,c),E=b.widthOffset,C=b.heightOffset,_=b.ctrlPtOffsetPct*E;s.beginPath&&s.beginPath(),s.moveTo(g,v+C),s.lineTo(g,w-C),s.quadraticCurveTo(g+_,w,g+E,w),s.lineTo(m-E,w),s.quadraticCurveTo(m-_,w,m,w-C),s.lineTo(m,v+C),s.quadraticCurveTo(m-_,v,m-E,v),s.lineTo(g+E,v),s.quadraticCurveTo(g+_,v,g,v+C),s.closePath()}},np=Math.sin(0),rp=Math.cos(0),ar={},Al={},$d=Math.PI/40,qa=0*Math.PI;qa<2*Math.PI;qa+=$d)ar[qa]=Math.sin(qa),Al[qa]=Math.cos(qa);ma.drawEllipsePath=function(s,i,o,u,c){if(s.beginPath&&s.beginPath(),s.ellipse)s.ellipse(i,o,u/2,c/2,0,0,2*Math.PI);else for(var d,f,g=u/2,m=c/2,v=0*Math.PI;v<2*Math.PI;v+=$d)d=i-g*ar[v]*np+g*Al[v]*rp,f=o+m*Al[v]*np+m*ar[v]*rp,0===v?s.moveTo(d,f):s.lineTo(d,f);s.closePath()};var An={};function Il(s){var i=s.indexOf(",");return s.substr(i+1)}function ip(s,i,o){var u=function(){return i.toDataURL(o,s.quality)};switch(s.output){case"blob-promise":return new er(function(c,d){try{i.toBlob(function(f){null!=f?c(f):d(new Error("`canvas.toBlob()` sent a null value in its callback"))},o,s.quality)}catch(f){d(f)}});case"blob":return function xl(s,i){for(var o=atob(s),u=new ArrayBuffer(o.length),c=new Uint8Array(u),d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return new Blob([u],{type:i})}(Il(u()),o);case"base64":return Il(u());default:return u()}}An.createBuffer=function(s,i){var o=document.createElement("canvas");return o.width=s,o.height=i,[o,o.getContext("2d")]},An.bufferCanvasImage=function(s){var i=this.cy,u=i.mutableElements().boundingBox(),c=this.findContainerClientCoords(),d=s.full?Math.ceil(u.w):c[2],f=s.full?Math.ceil(u.h):c[3],g=Ee(s.maxWidth)||Ee(s.maxHeight),m=this.getPixelRatio(),v=1;if(void 0!==s.scale)d*=s.scale,f*=s.scale,v=s.scale;else if(g){var w=1/0,b=1/0;Ee(s.maxWidth)&&(w=v*s.maxWidth/d),Ee(s.maxHeight)&&(b=v*s.maxHeight/f),d*=v=Math.min(w,b),f*=v}g||(d*=m,f*=m,v*=m);var E=document.createElement("canvas");E.width=d,E.height=f,E.style.width=d+"px",E.style.height=f+"px";var C=E.getContext("2d");if(d>0&&f>0){C.clearRect(0,0,d,f),C.globalCompositeOperation="source-over";var _=this.getCachedZSortedEles();if(s.full)C.translate(-u.x1*v,-u.y1*v),C.scale(v,v),this.drawElements(C,_),C.scale(1/v,1/v),C.translate(u.x1*v,u.y1*v);else{var S=i.pan(),A={x:S.x*v,y:S.y*v};v*=i.zoom(),C.translate(A.x,A.y),C.scale(v,v),this.drawElements(C,_),C.scale(1/v,1/v),C.translate(-A.x,-A.y)}s.bg&&(C.globalCompositeOperation="destination-over",C.fillStyle=s.bg,C.rect(0,0,d,f),C.fill())}return E},An.png=function(s){return ip(s,this.bufferCanvasImage(s),"image/png")},An.jpg=function(s){return ip(s,this.bufferCanvasImage(s),"image/jpeg")};var op=Hd,kt=Hd.prototype;function Hd(s){var i=this;i.data={canvases:new Array(kt.CANVAS_LAYERS),contexts:new Array(kt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(kt.CANVAS_LAYERS),bufferCanvases:new Array(kt.BUFFER_COUNT),bufferContexts:new Array(kt.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var c=i.data.canvasContainer.style;i.data.canvasContainer.style[o]=u,c.position="relative",c.zIndex="0",c.overflow="hidden";var d=s.cy.container();d.appendChild(i.data.canvasContainer),d.style[o]=u;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};ia&&ia.userAgent.match(/msie|trident|edge/i)&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var g=0;g<kt.CANVAS_LAYERS;g++){var m=i.data.canvases[g]=document.createElement("canvas");i.data.contexts[g]=m.getContext("2d"),Object.keys(f).forEach(function(ue){m.style[ue]=f[ue]}),m.style.position="absolute",m.setAttribute("data-id","layer"+g),m.style.zIndex=String(kt.CANVAS_LAYERS-g),i.data.canvasContainer.appendChild(m),i.data.canvasNeedsRedraw[g]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[kt.NODE].setAttribute("data-id","layer"+kt.NODE+"-node"),i.data.canvases[kt.SELECT_BOX].setAttribute("data-id","layer"+kt.SELECT_BOX+"-selectbox"),i.data.canvases[kt.DRAG].setAttribute("data-id","layer"+kt.DRAG+"-drag"),g=0;g<kt.BUFFER_COUNT;g++)i.data.bufferCanvases[g]=document.createElement("canvas"),i.data.bufferContexts[g]=i.data.bufferCanvases[g].getContext("2d"),i.data.bufferCanvases[g].style.position="absolute",i.data.bufferCanvases[g].setAttribute("data-id","buffer"+g),i.data.bufferCanvases[g].style.zIndex=String(-g-1),i.data.bufferCanvases[g].style.visibility="hidden";i.pathsEnabled=!0;var v=Or(),b=function(Q){return{x:-Q.w/2,y:-Q.h/2}},B=function(Q){return Q.boundingBox(),Q[0]._private.bodyBounds},z=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.main||v},R=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.source||v},$=function(Q){return Q.boundingBox(),Q[0]._private.labelBounds.target||v},F=function(Q,se){return se},U=function(Q,se,ge){var Ce=Q?Q+"-":"";return{x:se.x+ge.pstyle(Ce+"text-margin-x").pfValue,y:se.y+ge.pstyle(Ce+"text-margin-y").pfValue}},L=function(Q,se,ge){var Ce=Q[0]._private.rscratch;return{x:Ce[se],y:Ce[ge]}},oe=i.data.eleTxrCache=new Tl(i,{getKey:function(Q){return Q[0]._private.nodeKey},doesEleInvalidateKey:function(Q){var se=Q[0]._private;return!(se.oldBackgroundTimestamp===se.backgroundTimestamp)},drawElement:function(Q,se,ge,Ce,Ae){return i.drawElement(Q,se,ge,!1,!1,Ae)},getBoundingBox:B,getRotationPoint:function(Q){return function(Q){return{x:(Q.x1+Q.x2)/2,y:(Q.y1+Q.y2)/2}}(B(Q))},getRotationOffset:function(Q){return b(B(Q))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=i.data.lblTxrCache=new Tl(i,{getKey:function(Q){return Q[0]._private.labelStyleKey},drawElement:function(Q,se,ge,Ce,Ae){return i.drawElementText(Q,se,ge,Ce,"main",Ae)},getBoundingBox:z,getRotationPoint:function(Q){return U("",L(Q,"labelX","labelY"),Q)},getRotationOffset:function(Q){var se=z(Q),ge=b(z(Q));if(Q.isNode()){switch(Q.pstyle("text-halign").value){case"left":ge.x=-se.w;break;case"right":ge.x=0}switch(Q.pstyle("text-valign").value){case"top":ge.y=-se.h;break;case"bottom":ge.y=0}}return ge},isVisible:F}),re=i.data.slbTxrCache=new Tl(i,{getKey:function(Q){return Q[0]._private.sourceLabelStyleKey},drawElement:function(Q,se,ge,Ce,Ae){return i.drawElementText(Q,se,ge,Ce,"source",Ae)},getBoundingBox:R,getRotationPoint:function(Q){return U("source",L(Q,"sourceLabelX","sourceLabelY"),Q)},getRotationOffset:function(Q){return b(R(Q))},isVisible:F}),he=i.data.tlbTxrCache=new Tl(i,{getKey:function(Q){return Q[0]._private.targetLabelStyleKey},drawElement:function(Q,se,ge,Ce,Ae){return i.drawElementText(Q,se,ge,Ce,"target",Ae)},getBoundingBox:$,getRotationPoint:function(Q){return U("target",L(Q,"targetLabelX","targetLabelY"),Q)},getRotationOffset:function(Q){return b($(Q))},isVisible:F}),ve=i.data.lyrTxrCache=new Od(i);i.onUpdateEleCalcs(function(Q,se){oe.invalidateElements(se),ee.invalidateElements(se),re.invalidateElements(se),he.invalidateElements(se),ve.invalidateElements(se);for(var ge=0;ge<se.length;ge++){var Ce=se[ge]._private;Ce.oldBackgroundTimestamp=Ce.backgroundTimestamp}});var pe=function(Q){for(var se=0;se<Q.length;se++)ve.enqueueElementRefinement(Q[se].ele)};oe.onDequeue(pe),ee.onDequeue(pe),re.onDequeue(pe),he.onDequeue(pe)}kt.CANVAS_LAYERS=3,kt.SELECT_BOX=0,kt.DRAG=1,kt.NODE=2,kt.BUFFER_COUNT=3,kt.TEXTURE_BUFFER=0,kt.MOTIONBLUR_BUFFER_NODE=1,kt.MOTIONBLUR_BUFFER_DRAG=2,kt.redrawHint=function(s,i){var o=this;switch(s){case"eles":o.data.canvasNeedsRedraw[kt.NODE]=i;break;case"drag":o.data.canvasNeedsRedraw[kt.DRAG]=i;break;case"select":o.data.canvasNeedsRedraw[kt.SELECT_BOX]=i}};var bm="undefined"!=typeof Path2D;kt.path2dEnabled=function(s){if(void 0===s)return this.pathsEnabled;this.pathsEnabled=!!s},kt.usePaths=function(){return bm&&this.pathsEnabled},kt.setImgSmoothing=function(s,i){null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled=i:(s.webkitImageSmoothingEnabled=i,s.mozImageSmoothingEnabled=i,s.msImageSmoothingEnabled=i)},kt.getImgSmoothing=function(s){return null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled:s.webkitImageSmoothingEnabled||s.mozImageSmoothingEnabled||s.msImageSmoothingEnabled},kt.makeOffscreenCanvas=function(s,i){var o;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":yt(OffscreenCanvas))?o=new OffscreenCanvas(s,i):((o=document.createElement("canvas")).width=s,o.height=i),o},[Zh,Wi,va,ep,Is,ja,Ur,ma,An,{nodeShapeImpl:function(s,i,o,u,c,d,f){switch(s){case"ellipse":return this.drawEllipsePath(i,o,u,c,d);case"polygon":return this.drawPolygonPath(i,o,u,c,d,f);case"round-polygon":return this.drawRoundPolygonPath(i,o,u,c,d,f);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,o,u,c,d);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,o,u,c,d);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,o,u,c,d);case"barrel":return this.drawBarrelPath(i,o,u,c,d)}}}].forEach(function(s){Ke(kt,s)});var Dm=[{type:"layout",extensions:wl},{type:"renderer",extensions:[{name:"null",impl:bl},{name:"base",impl:_l},{name:"canvas",impl:op}]}],lp={},Hu={};function up(s,i,o){var u=o,c=function($){Kt("Can not register `"+i+"` for `"+s+"` since `"+$+"` already exists in the prototype and can not be overridden")};if("core"===s){if(Mu.prototype[i])return c(i);Mu.prototype[i]=o}else if("collection"===s){if(qn.prototype[i])return c(i);qn.prototype[i]=o}else if("layout"===s){for(var d=function($){this.options=$,o.call(this,$),Le(this._private)||(this._private={}),this._private.cy=$.cy,this._private.listeners=[],this.createEmitter()},f=d.prototype=Object.create(o.prototype),g=[],m=0;m<g.length;m++){var v=g[m];f[v]=f[v]||function(){return this}}f.start&&!f.run?f.run=function(){return this.start(),this}:!f.start&&f.run&&(f.start=function(){return this.run(),this});var w=o.prototype.stop;f.stop=function(){var R=this.options;if(R&&R.animate){var $=this.animations;if($)for(var F=0;F<$.length;F++)$[F].stop()}return w?w.call(this):this.emit("layoutstop"),this},f.destroy||(f.destroy=function(){return this}),f.cy=function(){return this._private.cy};var b=function($){return $._private.cy},E={addEventFields:function($,F){F.layout=$,F.cy=b($),F.target=$},bubble:function(){return!0},parent:function($){return b($)}};Ke(f,{createEmitter:function(){return this._private.emitter=new Ds(E,this),this},emitter:function(){return this._private.emitter},on:function($,F){return this.emitter().on($,F),this},one:function($,F){return this.emitter().one($,F),this},once:function($,F){return this.emitter().one($,F),this},removeListener:function($,F){return this.emitter().removeListener($,F),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function($,F){return this.emitter().emit($,F),this}}),Rt.eventAliasesOn(f),u=d}else if("renderer"===s&&"null"!==i&&"base"!==i){var C=cp("renderer","base"),_=C.prototype,S=o,A=o.prototype,x=function(){C.apply(this,arguments),S.apply(this,arguments)},I=x.prototype;for(var P in _){var N=_[P];if(null!=A[P])return c(P);I[P]=N}for(var z in A)I[z]=A[z];_.clientFunctions.forEach(function(R){I[R]=I[R]||function(){qt("Renderer does not implement `renderer."+R+"()` on its prototype")}}),u=x}return iv({map:lp,keys:[s,i],value:u})}function cp(s,i){return qf({map:lp,keys:[s,i]})}function zd(s,i,o,u,c){return iv({map:Hu,keys:[s,i,o,u],value:c})}function Em(s,i,o,u){return qf({map:Hu,keys:[s,i,o,u]})}var Ud=function(){return 2===arguments.length?cp.apply(null,arguments):3===arguments.length?up.apply(null,arguments):4===arguments.length?Em.apply(null,arguments):5===arguments.length?zd.apply(null,arguments):void qt("Invalid extension access syntax")};Mu.prototype.extension=Ud,Dm.forEach(function(s){s.extensions.forEach(function(i){up(s.type,i.name,i.impl)})});var ko=function s(){if(!(this instanceof s))return new s;this.length=0},Fo=ko.prototype;Fo.instanceString=function(){return"stylesheet"},Fo.selector=function(s){return this[this.length++]={selector:s,properties:[]},this},Fo.css=function(s,i){var o=this.length-1;if(le(s))this[o].properties.push({name:s,value:i});else if(Le(s))for(var u=s,c=Object.keys(u),d=0;d<c.length;d++){var f=c[d],g=u[f];if(null!=g){var m=rr.properties[f]||rr.properties[ln(f)];null!=m&&this[o].properties.push({name:m.name,value:g})}}return this},Fo.style=Fo.css,Fo.generateStyle=function(s){var i=new rr(s);return this.appendToStyle(i)},Fo.appendToStyle=function(s){for(var i=0;i<this.length;i++){var o=this[i],c=o.properties;s.selector(o.selector);for(var d=0;d<c.length;d++){var f=c[d];s.css(f.name,f.value)}}return s};var Oo=function(i){return void 0===i&&(i={}),Le(i)?new Mu(i):le(i)?Ud.apply(Ud,arguments):void 0};Oo.use=function(s){var i=Array.prototype.slice.call(arguments,1);return i.unshift(Oo),s.apply(null,i),this},Oo.warnings=function(s){return lv(s)},Oo.version="3.20.0",Oo.stylesheet=Oo.Stylesheet=ko,ta.exports=Oo},881:(ta,ts,Fr)=>{ta.exports=Fr(943)},943:function(ta,ts){var Fr,Ot,Qr;(function(){var Yr,yt,Dn,pi,gi,na,dn,ki,uo,ra,jt,ia,ns,Zr,Yn;Dn=Math.floor,ra=Math.min,yt=function(De,Ne){return De<Ne?-1:De>Ne?1:0},uo=function(De,Ne,we,le,He){var $e;if(null==we&&(we=0),null==He&&(He=yt),we<0)throw new Error("lo must be non-negative");for(null==le&&(le=De.length);we<le;)He(Ne,De[$e=Dn((we+le)/2)])<0?le=$e:we=$e+1;return[].splice.apply(De,[we,we-we].concat(Ne)),Ne},na=function(De,Ne,we){return null==we&&(we=yt),De.push(Ne),Zr(De,0,De.length-1,we)},gi=function(De,Ne){var we,le;return null==Ne&&(Ne=yt),we=De.pop(),De.length?(le=De[0],De[0]=we,Yn(De,0,Ne)):le=we,le},ki=function(De,Ne,we){var le;return null==we&&(we=yt),le=De[0],De[0]=Ne,Yn(De,0,we),le},dn=function(De,Ne,we){var le;return null==we&&(we=yt),De.length&&we(De[0],Ne)<0&&(Ne=(le=[De[0],Ne])[0],De[0]=le[1],Yn(De,0,we)),Ne},pi=function(De,Ne){var le,$e,fn,Ee,Xt;for(null==Ne&&(Ne=yt),Ee=[],le=0,$e=(fn=function(){Xt=[];for(var mn=0,Lt=Dn(De.length/2);0<=Lt?mn<Lt:mn>Lt;0<=Lt?mn++:mn--)Xt.push(mn);return Xt}.apply(this).reverse()).length;le<$e;le++)Ee.push(Yn(De,fn[le],Ne));return Ee},ns=function(De,Ne,we){var le;if(null==we&&(we=yt),-1!==(le=De.indexOf(Ne)))return Zr(De,0,le,we),Yn(De,le,we)},jt=function(De,Ne,we){var He,$e,Le,fn;if(null==we&&(we=yt),!(He=De.slice(0,Ne)).length)return He;for(pi(He,we),$e=0,Le=(fn=De.slice(Ne)).length;$e<Le;$e++)dn(He,fn[$e],we);return He.sort(we).reverse()},ia=function(De,Ne,we){var le,$e,Le,fn,Ee,Xt,mn,Lt,Vt;if(null==we&&(we=yt),10*Ne<=De.length){if(!(Le=De.slice(0,Ne).sort(we)).length)return Le;for($e=Le[Le.length-1],fn=0,Xt=(mn=De.slice(Ne)).length;fn<Xt;fn++)we(le=mn[fn],$e)<0&&(uo(Le,le,0,null,we),Le.pop(),$e=Le[Le.length-1]);return Le}for(pi(De,we),Vt=[],Ee=0,Lt=ra(Ne,De.length);0<=Lt?Ee<Lt:Ee>Lt;0<=Lt?++Ee:--Ee)Vt.push(gi(De,we));return Vt},Zr=function(De,Ne,we,le){var He,$e,Le;for(null==le&&(le=yt),He=De[we];we>Ne&&le(He,$e=De[Le=we-1>>1])<0;)De[we]=$e,we=Le;return De[we]=He},Yn=function(De,Ne,we){var le,He,$e,Le,fn;for(null==we&&(we=yt),He=De.length,fn=Ne,$e=De[Ne],le=2*Ne+1;le<He;)(Le=le+1)<He&&!(we(De[le],De[Le])<0)&&(le=Le),De[Ne]=De[le],le=2*(Ne=le)+1;return De[Ne]=$e,Zr(De,fn,Ne,we)},Yr=function(){function De(Ne){this.cmp=null!=Ne?Ne:yt,this.nodes=[]}return De.push=na,De.pop=gi,De.replace=ki,De.pushpop=dn,De.heapify=pi,De.updateItem=ns,De.nlargest=jt,De.nsmallest=ia,De.prototype.push=function(Ne){return na(this.nodes,Ne,this.cmp)},De.prototype.pop=function(){return gi(this.nodes,this.cmp)},De.prototype.peek=function(){return this.nodes[0]},De.prototype.contains=function(Ne){return-1!==this.nodes.indexOf(Ne)},De.prototype.replace=function(Ne){return ki(this.nodes,Ne,this.cmp)},De.prototype.pushpop=function(Ne){return dn(this.nodes,Ne,this.cmp)},De.prototype.heapify=function(){return pi(this.nodes,this.cmp)},De.prototype.updateItem=function(Ne){return ns(this.nodes,Ne,this.cmp)},De.prototype.clear=function(){return this.nodes=[]},De.prototype.empty=function(){return 0===this.nodes.length},De.prototype.size=function(){return this.nodes.length},De.prototype.clone=function(){var Ne;return(Ne=new De).nodes=this.nodes.slice(0),Ne},De.prototype.toArray=function(){return this.nodes.slice(0)},De.prototype.insert=De.prototype.push,De.prototype.top=De.prototype.peek,De.prototype.front=De.prototype.peek,De.prototype.has=De.prototype.contains,De.prototype.copy=De.prototype.clone,De}(),Ot=[],void 0===(Qr="function"==typeof(Fr=function(){return Yr})?Fr.apply(ts,Ot):Fr)||(ta.exports=Qr)}).call(this)},720:ta=>{var Qr=/^\s+|\s+$/g,Yr=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,Dn=/^0o[0-7]+$/i,pi=parseInt,gi="object"==typeof global&&global&&global.Object===Object&&global,na="object"==typeof self&&self&&self.Object===Object&&self,dn=gi||na||Function("return this")(),uo=Object.prototype.toString,ra=Math.max,jt=Math.min,ia=function(){return dn.Date.now()};function Zr(we){var le=typeof we;return!!we&&("object"==le||"function"==le)}function Ne(we){if("number"==typeof we)return we;if(function De(we){return"symbol"==typeof we||function Yn(we){return!!we&&"object"==typeof we}(we)&&"[object Symbol]"==uo.call(we)}(we))return NaN;if(Zr(we)){var le="function"==typeof we.valueOf?we.valueOf():we;we=Zr(le)?le+"":le}if("string"!=typeof we)return 0===we?we:+we;we=we.replace(Qr,"");var He=yt.test(we);return He||Dn.test(we)?pi(we.slice(2),He?2:8):Yr.test(we)?NaN:+we}ta.exports=function ns(we,le,He){var $e,Le,fn,Ee,Xt,mn,Lt=0,Vt=!1,aa=!1,co=!0;if("function"!=typeof we)throw new TypeError("Expected a function");function rs(ln){var Xr=$e,ho=Le;return $e=Le=void 0,Lt=ln,Ee=we.apply(ho,Xr)}function _c(ln){return Lt=ln,Xt=setTimeout(fo,le),Vt?rs(ln):Ee}function Gs(ln){var Xr=ln-mn;return void 0===mn||Xr>=le||Xr<0||aa&&ln-Lt>=fn}function fo(){var ln=ia();if(Gs(ln))return En(ln);Xt=setTimeout(fo,function kn(ln){var yn=le-(ln-mn);return aa?jt(yn,fn-(ln-Lt)):yn}(ln))}function En(ln){return Xt=void 0,co&&$e?rs(ln):($e=Le=void 0,Ee)}function oa(){var ln=ia(),Xr=Gs(ln);if($e=arguments,Le=this,mn=ln,Xr){if(void 0===Xt)return _c(mn);if(aa)return Xt=setTimeout(fo,le),rs(mn)}return void 0===Xt&&(Xt=setTimeout(fo,le)),Ee}return le=Ne(le)||0,Zr(He)&&(Vt=!!He.leading,fn=(aa="maxWait"in He)?ra(Ne(He.maxWait)||0,le):fn,co="trailing"in He?!!He.trailing:co),oa.cancel=function Cn(){void 0!==Xt&&clearTimeout(Xt),Lt=0,$e=mn=Le=Xt=void 0},oa.flush=function Pt(){return void 0===Xt?Ee:En(ia())},oa}}},ta=>{ta(ta.s=261)}]);