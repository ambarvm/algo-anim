var BB=Object.defineProperty,VB=Object.defineProperties,HB=Object.getOwnPropertyDescriptors,tA=Object.getOwnPropertySymbols,$B=Object.prototype.hasOwnProperty,UB=Object.prototype.propertyIsEnumerable,nA=(Pn,Rn,en)=>Rn in Pn?BB(Pn,Rn,{enumerable:!0,configurable:!0,writable:!0,value:en}):Pn[Rn]=en,ze=(Pn,Rn)=>{for(var en in Rn||(Rn={}))$B.call(Rn,en)&&nA(Pn,en,Rn[en]);if(tA)for(var en of tA(Rn))UB.call(Rn,en)&&nA(Pn,en,Rn[en]);return Pn},lr=(Pn,Rn)=>VB(Pn,HB(Rn));(self.webpackChunkalgo_anim=self.webpackChunkalgo_anim||[]).push([[179],{447:(Pn,Rn,en)=>{"use strict";function Bt(s){return s&&"object"==typeof s&&"default"in s?s.default:s}var jr=Bt(en(177)),qr=Bt(en(555));function yt(s){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(s)}function Cn(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function li(s,i){for(var o=0;o<i.length;o++){var u=i[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}function ui(s,i,o){return i&&li(s.prototype,i),o&&li(s,o),s}function Gi(s,i,o){return i in s?Object.defineProperty(s,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):s[i]=o,s}function ln(s,i){return function(s){if(Array.isArray(s))return s}(s)||function(s,i){var o=[],u=!0,c=!1,d=void 0;try{for(var g,f=s[Symbol.iterator]();!(u=(g=f.next()).done)&&(o.push(g.value),!i||o.length!==i);u=!0);}catch(m){c=!0,d=m}finally{try{!u&&null!=f.return&&f.return()}finally{if(c)throw d}}return o}(s,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ht="undefined"==typeof window?null:window,Ki=Ht?Ht.navigator:null,Gr=yt(""),Wn=yt({}),be=yt(function(){}),Re="undefined"==typeof HTMLElement?"undefined":yt(HTMLElement),ye=function(i){return i&&i.instanceString&&He(i.instanceString)?i.instanceString():null},le=function(i){return null!=i&&yt(i)==Gr},He=function(i){return null!=i&&yt(i)===be},Ve=function(i){return!Nt(i)&&(Array.isArray?Array.isArray(i):null!=i&&i instanceof Array)},Fe=function(i){return null!=i&&yt(i)===Wn&&!Ve(i)&&i.constructor===Object},Ce=function(i){return null!=i&&yt(i)===yt(1)&&!isNaN(i)},pn=function(i){if("undefined"!==Re)return null!=i&&i instanceof HTMLElement},Nt=function(i){return St(i)||Qi(i)},St=function(i){return"collection"===ye(i)&&i._private.single},Qi=function(i){return"collection"===ye(i)&&!i._private.single},ls=function(i){return"core"===ye(i)},Ks=function(i){return"stylesheet"===ye(i)},Vn=function(i){return null==i||!(""!==i&&!i.match(/^\s+$/))},_n=function(i){return function(i){return null!=i&&yt(i)===Wn}(i)&&He(i.then)},Mt=function(i,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);return d.join("$")});var u=function c(){var g,d=this,f=arguments,m=o.apply(d,f),v=c.cache;return(g=v[m])||(g=v[m]=i.apply(d,f)),g};return u.cache={},u},Yi=Mt(function(s){return s.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}),on=Mt(function(s){return s.replace(/(-\w)/g,function(i){return i[1].toUpperCase()})}),Wr=Mt(function(s,i){return s+i[0].toUpperCase()+i.substring(1)},function(s,i){return s+"$"+i}),cs=function(i){return Vn(i)?i:i.charAt(0).toUpperCase()+i.substring(1)},gn="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",Pc=function(i,o){return i<o?-1:i>o?1:0},Ge=null!=Object.assign?Object.assign.bind(Object):function(s){for(var i=arguments,o=1;o<i.length;o++){var u=i[o];if(null!=u)for(var c=Object.keys(u),d=0;d<c.length;d++){var f=c[d];s[f]=u[f]}}return s},Hg={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},$g=function(i){for(var o=i.map,u=i.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(Fe(f))throw Error("Tried to set map with object key");d<u.length-1?(null==o[f]&&(o[f]={}),o=o[f]):o[f]=i.value}},Nf=function(i){for(var o=i.map,u=i.keys,c=u.length,d=0;d<c;d++){var f=u[d];if(Fe(f))throw Error("Tried to get map with object key");if(null==(o=o[f]))return o}return o},kf=Ht?Ht.performance:null,Ug=kf&&kf.now?function(){return kf.now()}:function(){return Date.now()},kw=function(){if(Ht){if(Ht.requestAnimationFrame)return function(s){Ht.requestAnimationFrame(s)};if(Ht.mozRequestAnimationFrame)return function(s){Ht.mozRequestAnimationFrame(s)};if(Ht.webkitRequestAnimationFrame)return function(s){Ht.webkitRequestAnimationFrame(s)};if(Ht.msRequestAnimationFrame)return function(s){Ht.msRequestAnimationFrame(s)}}return function(s){s&&setTimeout(function(){s(Ug())},1e3/60)}}(),Rc=function(i){return kw(i)},Ti=Ug,fs=9261,Nc=65599,Qs=5381,kc=function(i){for(var c,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs,u=o;!(c=i.next()).done;)u=u*Nc+c.value|0;return u},Yo=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs;return o*Nc+i|0},Ys=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qs;return(o<<5)+o+i|0},Zi=function(i){return 2097152*i[0]+i[1]},Zo=function(i,o){return[Yo(i[0],o[0]),Ys(i[1],o[1])]},hs=function(i,o){var u={value:0,done:!1},c=0,d=i.length;return kc({next:function(){return c<d?u.value=i.charCodeAt(c++):u.done=!0,u}},o)},Of=function(){return zg(arguments)},zg=function(i){for(var o,u=0;u<i.length;u++){var c=i[u];o=0===u?hs(c):hs(c,o)}return o},Lf=!0,Bf=null!=console.warn,jg=null!=console.trace,Fc=Number.MAX_SAFE_INTEGER||9007199254740991,Mi=function(){return!0},au=function(){return!1},Nn=function(){return 0},ps=function(){},$t=function(i){throw new Error(i)},qg=function(i){if(void 0===i)return Lf;Lf=!!i},qt=function(i){!qg()||(Bf?console.warn(i):(console.log(i),jg&&console.trace()))},Kr=function(i){return null==i?i:Ve(i)?i.slice():Fe(i)?function(i){return Ge({},i)}(i):i},Zs=function(i,o){for(o=i="";i++<36;o+=51*i&52?(15^i?8^Math.random()*(20^i?16:4):4).toString(16):"-");return o},Wg={},Oc=function(){return Wg},Hn=function(i){var o=Object.keys(i);return function(u){for(var c={},d=0;d<o.length;d++){var f=o[d],g=null==u?void 0:u[f];c[f]=void 0===g?i[f]:g}return c}},Ea=function(i,o,u){for(var c=i.length-1;c>=0&&(i[c]!==o||(i.splice(c,1),!u));c--);},Lc=function(i){i.splice(0,i.length)},ci=function(i,o,u){return u&&(o=Wr(u,o)),i[o]},Xi=function(i,o,u,c){u&&(o=Wr(u,o)),i[o]=c},xi="undefined"!=typeof Map?Map:function(){function s(){Cn(this,s),this._obj={}}return ui(s,[{key:"set",value:function(o,u){return this._obj[o]=u,this}},{key:"delete",value:function(o){return this._obj[o]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(o){return void 0!==this._obj[o]}},{key:"get",value:function(o){return this._obj[o]}}]),s}(),Yg=function(){function s(i){if(Cn(this,s),this._obj=Object.create(null),this.size=0,null!=i){var o;o=null!=i.instanceString&&i.instanceString()===this.instanceString()?i.toArray():i;for(var u=0;u<o.length;u++)this.add(o[u])}}return ui(s,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(o){var u=this._obj;1!==u[o]&&(u[o]=1,this.size++)}},{key:"delete",value:function(o){var u=this._obj;1===u[o]&&(u[o]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(o){return 1===this._obj[o]}},{key:"toArray",value:function(){var o=this;return Object.keys(this._obj).filter(function(u){return o.has(u)})}},{key:"forEach",value:function(o,u){return this.toArray().forEach(o,u)}}]),s}(),Ji="undefined"!==("undefined"==typeof Set?"undefined":yt(Set))?Set:Yg,su=function(i,o){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==i&&void 0!==o&&ls(i)){var c=o.group;if(null==c&&(c=o.data&&null!=o.data.source&&null!=o.data.target?"edges":"nodes"),"nodes"===c||"edges"===c){this.length=1,this[0]=this;var d=this._private={cy:i,single:!0,data:o.data||{},position:o.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:c,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!o.selected,selectable:void 0===o.selectable||!!o.selectable,locked:!!o.locked,grabbed:!1,grabbable:void 0===o.grabbable||!!o.grabbable,pannable:void 0===o.pannable?"edges"===c:!!o.pannable,active:!1,classes:new Ji,animation:{current:[],queue:[]},rscratch:{},scratch:o.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==d.position.x&&(d.position.x=0),null==d.position.y&&(d.position.y=0),o.renderedPosition){var f=o.renderedPosition,g=i.pan(),m=i.zoom();d.position={x:(f.x-g.x)/m,y:(f.y-g.y)/m}}var v=[];Ve(o.classes)?v=o.classes:le(o.classes)&&(v=o.classes.split(/\s+/));for(var y=0,b=v.length;y<b;y++){var D=v[y];!D||""===D||d.classes.add(D)}this.createEmitter();var C=o.style||o.css;C&&(qt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(C)),(void 0===u||u)&&this.restore()}else $t("An element must be of type `nodes` or `edges`; you specified `"+c+"`")}else $t("An element must have a core reference and parameters set")},ou=function(i){return i={bfs:i.bfs||!i.dfs,dfs:i.dfs||!i.bfs},function(u,c,d){var f;Fe(u)&&!Nt(u)&&(u=(f=u).roots||f.root,c=f.visit,d=f.directed),d=2!==arguments.length||He(c)?d:c,c=He(c)?c:function(){};for(var S,g=this._private.cy,m=u=le(u)?this.filter(u):u,v=[],y=[],b={},D={},C={},_=0,A=this.byGroup(),M=A.nodes,P=A.edges,I=0;I<m.length;I++){var N=m[I],B=N.id();N.isNode()&&(v.unshift(N),i.bfs&&(C[B]=!0,y.push(N)),D[B]=0)}var U=function(){var q=i.bfs?v.shift():v.pop(),$=q.id();if(i.dfs){if(C[$])return"continue";C[$]=!0,y.push(q)}var ae,Z=D[$],W=b[$],X=null!=W?W.source():null,K=null!=W?W.target():null,Q=null==W?void 0:q.same(X)?K[0]:X[0];if(!0===(ae=c(q,W,Q,_++,Z)))return S=q,"break";if(!1===ae)return"break";for(var ee=q.connectedEdges().filter(function(se){return(!d||se.source().same(q))&&P.has(se)}),ie=0;ie<ee.length;ie++){var de=ee[ie],ve=de.connectedNodes().filter(function(se){return!se.same(q)&&M.has(se)}),he=ve.id();0!==ve.length&&!C[he]&&(v.push(ve=ve[0]),i.bfs&&(C[he]=!0,y.push(ve)),b[he]=de,D[he]=D[$]+1)}};e:for(;0!==v.length;){var R=U();switch(R){case"continue":continue;case"break":break e}}for(var V=g.collection(),F=0;F<y.length;F++){var j=y[F],z=b[j.id()];null!=z&&V.push(z),V.push(j)}return{path:g.collection(V),found:g.collection(S)}}},kt={breadthFirstSearch:ou({bfs:!0}),depthFirstSearch:ou({dfs:!0})};kt.bfs=kt.breadthFirstSearch,kt.dfs=kt.depthFirstSearch;var Bc=Hn({root:null,weight:function(i){return 1},directed:!1}),Tt={dijkstra:function(i){if(!Fe(i)){var o=arguments;i={root:o[0],weight:o[1],directed:o[2]}}var u=Bc(i),c=u.root,d=u.weight,f=u.directed,g=this,m=d,v=le(c)?this.filter(c)[0]:c[0],y={},b={},D={},C=this.byGroup(),_=C.nodes,S=C.edges;S.unmergeBy(function(Z){return Z.isLoop()});for(var A=function(W){return y[W.id()]},M=function(W,X){y[W.id()]=X,P.updateItem(W)},P=new qr(function(Z,W){return A(Z)-A(W)}),I=0;I<_.length;I++){var N=_[I];y[N.id()]=N.same(v)?0:1/0,P.push(N)}for(var B=function(W,X){for(var ae,K=(f?W.edgesTo(X):W.edgesWith(X)).intersect(S),Q=1/0,ee=0;ee<K.length;ee++){var ie=K[ee],de=m(ie);(de<Q||!ae)&&(Q=de,ae=ie)}return{edge:ae,dist:Q}};P.size()>0;){var U=P.pop(),R=A(U),V=U.id();if(D[V]=R,R!==1/0)for(var F=U.neighborhood().intersect(_),j=0;j<F.length;j++){var z=F[j],L=z.id(),q=B(U,z),$=R+q.dist;$<A(z)&&(M(z,$),b[L]={node:U,edge:q.edge})}}return{distanceTo:function(W){var X=le(W)?_.filter(W)[0]:W[0];return D[X.id()]},pathTo:function(W){var X=le(W)?_.filter(W)[0]:W[0],K=[],Q=X,ae=Q.id();if(X.length>0)for(K.unshift(X);b[ae];){var ee=b[ae];K.unshift(ee.edge),K.unshift(ee.node),ae=(Q=ee.node).id()}return g.spawn(K)}}}},Vc={kruskal:function(i){i=i||function(I){return 1};for(var o=this.byGroup(),u=o.nodes,c=o.edges,d=u.length,f=new Array(d),g=u,m=function(N){for(var B=0;B<f.length;B++)if(f[B].has(N))return B},v=0;v<d;v++)f[v]=this.spawn(u[v]);for(var y=c.sort(function(I,N){return i(I)-i(N)}),b=0;b<y.length;b++){var D=y[b],C=D.source()[0],_=D.target()[0],S=m(C),A=m(_),M=f[S],P=f[A];S!==A&&(g.merge(D),M.merge(P),f.splice(A,1))}return g}},Zg=Hn({root:null,goal:null,weight:function(i){return 1},heuristic:function(i){return 0},directed:!1}),Zt={aStar:function(i){var o=this.cy(),u=Zg(i),c=u.root,d=u.goal,f=u.heuristic,g=u.directed,m=u.weight;c=o.collection(c)[0],d=o.collection(d)[0];var I,N,v=c.id(),y=d.id(),b={},D={},C={},_=new qr(function(ae,ee){return D[ae.id()]-D[ee.id()]}),S=new Ji,A={},M={},P=function(ee,ie){_.push(ee),S.add(ie)};P(c,v),b[v]=0,D[v]=f(c);for(var R=0;_.size()>0;){if(N=(I=_.pop()).id(),S.delete(N),R++,N===y){for(var V=[],F=d,j=y,z=M[j];V.unshift(F),null!=z&&V.unshift(z),null!=(F=A[j]);)z=M[j=F.id()];return{found:!0,distance:b[N],path:this.spawn(V),steps:R}}C[N]=!0;for(var L=I._private.edges,q=0;q<L.length;q++){var $=L[q];if(this.hasElementWithId($.id())&&(!g||$.data("source")===N)){var Z=$.source(),W=$.target(),X=Z.id()!==N?Z:W,K=X.id();if(this.hasElementWithId(K)&&!C[K]){var Q=b[N]+m($);if(!S.has(K)){b[K]=Q,D[K]=Q+f(X),P(X,K),A[K]=I,M[K]=$;continue}Q<b[K]&&(b[K]=Q,D[K]=Q+f(X),A[K]=I,M[K]=$)}}}}return{found:!1,distance:void 0,path:void 0,steps:R}}},ct=Hn({weight:function(i){return 1},directed:!1}),Hf={floydWarshall:function(i){for(var o=this.cy(),u=ct(i),d=u.directed,f=u.weight,g=this.byGroup(),m=g.nodes,v=g.edges,y=m.length,b=y*y,D=function(de){return m.indexOf(de)},C=function(de){return m[de]},_=new Array(b),S=0;S<b;S++){var A=S%y;_[S]=(S-A)/y===A?0:1/0}for(var P=new Array(b),I=new Array(b),N=0;N<v.length;N++){var B=v[N],U=B.source()[0],R=B.target()[0];if(U!==R){var V=D(U),F=D(R),j=V*y+F,z=f(B);if(_[j]>z&&(_[j]=z,P[j]=F,I[j]=B),!d){var L=F*y+V;!d&&_[L]>z&&(_[L]=z,P[L]=V,I[L]=B)}}}for(var q=0;q<y;q++)for(var $=0;$<y;$++)for(var Z=$*y+q,W=0;W<y;W++){var X=$*y+W,K=q*y+W;_[Z]+_[K]<_[X]&&(_[X]=_[Z]+_[K],P[X]=P[Z])}var ae=function(de){return D(function(de){return(le(de)?o.filter(de):de)[0]}(de))};return{distance:function(de,ve){var he=ae(de),se=ae(ve);return _[he*y+se]},path:function(de,ve){var he=ae(de),se=ae(ve),Y=C(he);if(he===se)return Y.collection();if(null==P[he*y+se])return o.collection();var oe=o.collection();for(oe.merge(Y);he!==se;)oe.merge(I[he*y+(he=P[he*y+se])]),oe.merge(C(he));return oe}}}},Fw=Hn({weight:function(i){return 1},directed:!1,root:null}),xr={bellmanFord:function(i){var o=this,u=Fw(i),d=u.directed,f=u.root,g=u.weight,m=this,v=this.cy(),y=this.byGroup(),b=y.edges,D=y.nodes,C=D.length,_=new xi,S=!1;f=v.collection(f)[0],b.unmergeBy(function(se){return se.isLoop()});for(var M=b.length,P=function(Y){var oe=_.get(Y.id());return oe||(oe={},_.set(Y.id(),oe)),oe},I=function(Y){return(le(Y)?v.$(Y):Y)[0]},U=0;U<C;U++){var R=D[U],V=P(R);V.dist=R.same(f)?0:1/0,V.pred=null,V.edge=null}for(var F=!1,j=function(Y,oe,pe,Ee,Me,Ze){var it=Ee.dist+Ze;it<Me.dist&&!pe.same(Ee.edge)&&(Me.dist=it,Me.pred=Y,Me.edge=pe,F=!0)},z=1;z<C;z++){F=!1;for(var L=0;L<M;L++){var q=b[L],$=q.source(),Z=q.target(),W=g(q),X=P($),K=P(Z);j($,0,q,X,K,W),d||j(Z,0,q,K,X,W)}if(!F)break}if(F)for(var Q=0;Q<M;Q++){var ae=b[Q],ee=ae.source(),ie=ae.target(),de=g(ae),ve=P(ee).dist,he=P(ie).dist;if(ve+de<he||!d&&he+de<ve){qt("Graph contains a negative weight cycle for Bellman-Ford"),S=!0;break}}return{distanceTo:function(Y){return P(I(Y)).dist},pathTo:function(Y){for(var oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,pe=I(Y),Ee=[],Me=pe;;){if(null==Me)return o.spawn();var Ze=P(Me),it=Ze.edge,xe=Ze.pred;if(Ee.unshift(Me[0]),Me.same(oe)&&Ee.length>0)break;null!=it&&Ee.unshift(it),Me=xe}return m.spawn(Ee)},hasNegativeWeightCycle:S,negativeWeightCycles:[]}}},Ow=Math.sqrt(2),Hc=function(i,o,u){0===u.length&&$t("Karger-Stein must be run on a connected (sub)graph");for(var c=u[i],g=o[c[1]],m=o[c[2]],v=u,y=v.length-1;y>=0;y--){var b=v[y],D=b[1],C=b[2];(o[D]===g&&o[C]===m||o[D]===m&&o[C]===g)&&v.splice(y,1)}for(var _=0;_<v.length;_++){var S=v[_];S[1]===m?(v[_]=S.slice(),v[_][1]=g):S[2]===m&&(v[_]=S.slice(),v[_][2]=g)}for(var A=0;A<o.length;A++)o[A]===m&&(o[A]=g);return v},tt=function(i,o,u,c){for(;u>c;){var d=Math.floor(Math.random()*o.length);o=Hc(d,i,o),u--}return o},ur={kargerStein:function(){var i=this,o=this.byGroup(),u=o.nodes,c=o.edges;c.unmergeBy(function(K){return K.isLoop()});var d=u.length,f=c.length,g=Math.ceil(Math.pow(Math.log(d)/Math.LN2,2)),m=Math.floor(d/Ow);if(!(d<2)){for(var v=[],y=0;y<f;y++){var b=c[y];v.push([y,u.indexOf(b.source()),u.indexOf(b.target())])}for(var D=1/0,C=[],_=new Array(d),S=new Array(d),A=new Array(d),M=function(Q,ae){for(var ee=0;ee<d;ee++)ae[ee]=Q[ee]},P=0;P<=g;P++){for(var I=0;I<d;I++)S[I]=I;var N=tt(S,v.slice(),d,m),B=N.slice();M(S,A);var U=tt(S,N,m,2),R=tt(A,B,m,2);U.length<=R.length&&U.length<D?(D=U.length,C=U,M(S,_)):R.length<=U.length&&R.length<D&&(D=R.length,C=R,M(A,_))}for(var V=this.spawn(C.map(function(K){return c[K[0]]})),F=this.spawn(),j=this.spawn(),z=_[0],L=0;L<_.length;L++){var $=u[L];_[L]===z?F.merge($):j.merge($)}var Z=function(Q){var ae=i.spawn();return Q.forEach(function(ee){ae.merge(ee),ee.connectedEdges().forEach(function(ie){i.contains(ie)&&!V.contains(ie)&&ae.merge(ie)})}),ae},W=[Z(F),Z(j)];return{cut:V,components:W,partition1:F,partition2:j}}$t("At least 2 nodes are required for Karger-Stein algorithm")}},$c=function(i,o,u){return{x:i.x*o+u.x,y:i.y*o+u.y}},Jg=function(i,o,u){return{x:(i.x-u.x)/o,y:(i.y-u.y)/o}},ea=function(i){return{x:i[0],y:i[1]}},Uc=function(i,o){return Math.atan2(o,i)-Math.PI/2},$f=Math.log2||function(s){return Math.log(s)/Math.log(2)},tv=function(i){return i>0?1:i<0?-1:0},Xs=function(i,o){return Math.sqrt(gs(i,o))},gs=function(i,o){var u=o.x-i.x,c=o.y-i.y;return u*u+c*c},Vw=function(i){for(var o=i.length,u=0,c=0;c<o;c++)u+=i[c];for(var d=0;d<o;d++)i[d]=i[d]/u;return i},Un=function(i,o,u,c){return(1-c)*(1-c)*i+2*(1-c)*c*o+c*c*u},Xo=function(i,o,u,c){return{x:Un(i.x,o.x,u.x,c),y:Un(i.y,o.y,u.y,c)}},Ut=function(i,o,u){return Math.max(i,Math.min(u,o))},Rr=function(i){if(null==i)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=i.x1&&null!=i.y1){if(null!=i.x2&&null!=i.y2&&i.x2>=i.x1&&i.y2>=i.y1)return{x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2,w:i.x2-i.x1,h:i.y2-i.y1};if(null!=i.w&&null!=i.h&&i.w>=0&&i.h>=0)return{x1:i.x1,y1:i.y1,x2:i.x1+i.w,y2:i.y1+i.h,w:i.w,h:i.h}}},ft=function(i,o){i.x1=Math.min(i.x1,o.x1),i.x2=Math.max(i.x2,o.x2),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,o.y1),i.y2=Math.max(i.y2,o.y2),i.h=i.y2-i.y1},Uw=function(i,o,u){i.x1=Math.min(i.x1,o),i.x2=Math.max(i.x2,o),i.w=i.x2-i.x1,i.y1=Math.min(i.y1,u),i.y2=Math.max(i.y2,u),i.h=i.y2-i.y1},cr=function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i.x1-=o,i.x2+=o,i.y1-=o,i.y2+=o,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},Jo=function(i){var u,c,d,f,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)u=c=d=f=o[0];else if(2===o.length)u=d=o[0],f=c=o[1];else if(4===o.length){var g=ln(o,4);u=g[0],c=g[1],d=g[2],f=g[3]}return i.x1-=f,i.x2+=c,i.y1-=u,i.y2+=d,i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},zc=function(i,o){i.x1=o.x1,i.y1=o.y1,i.x2=o.x2,i.y2=o.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1},jc=function(i,o){return!(i.x1>o.x2||o.x1>i.x2||i.x2<o.x1||o.x2<i.x1||i.y2<o.y1||o.y2<i.y1||i.y1>o.y2||o.y1>i.y2)},Js=function(i,o,u){return i.x1<=o&&o<=i.x2&&i.y1<=u&&u<=i.y2},Uf=function(i,o){return Js(i,o.x,o.y)},el=function(i,o){return Js(i,o.x1,o.y1)&&Js(i,o.x2,o.y2)},lu=function(i,o,u,c,d,f,g){var b,m=Ta(d,f),v=d/2,y=f/2,C=c-y-g;if((b=Sa(i,o,u,c,u-v+m-g,C,u+v-m+g,C,!1)).length>0)return b;var A=u+v+g;if((b=Sa(i,o,u,c,A,c-y+m-g,A,c+y-m+g,!1)).length>0)return b;var B=c+y+g;if((b=Sa(i,o,u,c,u-v+m-g,B,u+v-m+g,B,!1)).length>0)return b;var L,V=u-v-g;if((b=Sa(i,o,u,c,V,c-y+m-g,V,c+y-m+g,!1)).length>0)return b;var q=u-v+m,$=c-y+m;if((L=tl(i,o,u,c,q,$,m+g)).length>0&&L[0]<=q&&L[1]<=$)return[L[0],L[1]];var Z=u+v-m,W=c-y+m;if((L=tl(i,o,u,c,Z,W,m+g)).length>0&&L[0]>=Z&&L[1]<=W)return[L[0],L[1]];var X=u+v-m,K=c+y-m;if((L=tl(i,o,u,c,X,K,m+g)).length>0&&L[0]>=X&&L[1]>=K)return[L[0],L[1]];var Q=u-v+m,ae=c+y-m;return(L=tl(i,o,u,c,Q,ae,m+g)).length>0&&L[0]<=Q&&L[1]>=ae?[L[0],L[1]]:[]},zf=function(i,o,u,c,d,f,g){var m=g,v=Math.min(u,d),y=Math.max(u,d),b=Math.min(c,f),D=Math.max(c,f);return v-m<=i&&i<=y+m&&b-m<=o&&o<=D+m},nv=function(i,o,u,c,d,f,g,m,v){var y_x1=Math.min(u,g,d)-v,y_x2=Math.max(u,g,d)+v,y_y1=Math.min(c,m,f)-v,y_y2=Math.max(c,m,f)+v;return!(i<y_x1||i>y_x2||o<y_y1||o>y_y2)},rv=function(i,o,u,c,d,f,g,m){var C=[];!function(i,o,u,c,d){var g,m,v,y,b,D,C,_;0===i&&(i=1e-5),v=-27*(c/=i)+(o/=i)*(9*(u/=i)-o*o*2),g=(m=(3*u-o*o)/9)*m*m+(v/=54)*v,d[1]=0,C=o/3,g>0?(b=(b=v+Math.sqrt(g))<0?-Math.pow(-b,1/3):Math.pow(b,1/3),D=(D=v-Math.sqrt(g))<0?-Math.pow(-D,1/3):Math.pow(D,1/3),d[0]=-C+b+D,d[4]=d[2]=-(C+=(b+D)/2),C=Math.sqrt(3)*(-D+b)/2,d[3]=C,d[5]=-C):(d[5]=d[3]=0,0===g?(_=v<0?-Math.pow(-v,1/3):Math.pow(v,1/3),d[0]=2*_-C,d[4]=d[2]=-(_+C)):(y=(m=-m)*m*m,y=Math.acos(v/Math.sqrt(y)),_=2*Math.sqrt(m),d[0]=-C+_*Math.cos(y/3),d[2]=-C+_*Math.cos((y+2*Math.PI)/3),d[4]=-C+_*Math.cos((y+4*Math.PI)/3)))}(1*u*u-4*u*d+2*u*g+4*d*d-4*d*g+g*g+c*c-4*c*f+2*c*m+4*f*f-4*f*m+m*m,9*u*d-3*u*u-3*u*g-6*d*d+3*d*g+9*c*f-3*c*c-3*c*m-6*f*f+3*f*m,3*u*u-6*u*d+u*g-u*i+2*d*d+2*d*i-g*i+3*c*c-6*c*f+c*m-c*o+2*f*f+2*f*o-m*o,1*u*d-u*u+u*i-d*i+c*f-c*c+c*o-f*o,C);for(var S=[],A=0;A<6;A+=2)Math.abs(C[A+1])<1e-7&&C[A]>=0&&C[A]<=1&&S.push(C[A]);S.push(1),S.push(0);for(var P,I,N,M=-1,B=0;B<S.length;B++)P=Math.pow(1-S[B],2)*u+2*(1-S[B])*S[B]*d+S[B]*S[B]*g,I=Math.pow(1-S[B],2)*c+2*(1-S[B])*S[B]*f+S[B]*S[B]*m,N=Math.pow(P-i,2)+Math.pow(I-o,2),M>=0?N<M&&(M=N):M=N;return M},Da=function(i,o,u,c,d,f){var g=[i-u,o-c],m=[d-u,f-c],v=m[0]*m[0]+m[1]*m[1],y=g[0]*g[0]+g[1]*g[1],b=g[0]*m[0]+g[1]*m[1],D=b*b/v;return b<0?y:D>v?(i-d)*(i-d)+(o-f)*(o-f):y-D},dr=function(i,o,u){for(var c,d,f,g,v=0,y=0;y<u.length/2;y++)if(d=u[2*y+1],y+1<u.length/2?(f=u[2*(y+1)],g=u[2*(y+1)+1]):(f=u[2*(y+1-u.length/2)],g=u[2*(y+1-u.length/2)+1]),(c=u[2*y])!=i||f!=i){if(!(c>=i&&i>=f||c<=i&&i<=f))continue;(i-c)/(f-c)*(g-d)+d>o&&v++}return v%2!=0},Ca=function(i,o,u,c,d,f,g,m,v){var b,S,y=new Array(u.length);null!=m[0]?(b=Math.atan(m[1]/m[0]),m[0]<0?b+=Math.PI/2:b=-b-Math.PI/2):b=m;for(var D=Math.cos(-b),C=Math.sin(-b),_=0;_<y.length/2;_++)y[2*_]=f/2*(u[2*_]*D-u[2*_+1]*C),y[2*_+1]=g/2*(u[2*_+1]*D+u[2*_]*C),y[2*_]+=c,y[2*_+1]+=d;if(v>0){var A=iv(y,-v);S=Nr(A)}else S=y;return dr(i,o,S)},Nr=function(i){for(var g,m,v,y,o=new Array(i.length/2),b=0;b<i.length/4;b++){b<i.length/4-1?(g=i[4*(b+1)],m=i[4*(b+1)+1],v=i[4*(b+1)+2],y=i[4*(b+1)+3]):(g=i[0],m=i[1],v=i[2],y=i[3]);var D=Sa(i[4*b],i[4*b+1],i[4*b+2],i[4*b+3],g,m,v,y,!0);o[2*b]=D[0],o[2*b+1]=D[1]}return o},iv=function(i,o){for(var c,d,f,g,u=new Array(2*i.length),m=0;m<i.length/2;m++){m<i.length/2-1?(f=i[2*(m+1)],g=i[2*(m+1)+1]):(f=i[0],g=i[1]);var v=g-(d=i[2*m+1]),y=-(f-(c=i[2*m])),b=Math.sqrt(v*v+y*y),D=v/b,C=y/b;u[4*m]=c+D*o,u[4*m+1]=d+C*o,u[4*m+2]=f+D*o,u[4*m+3]=g+C*o}return u},Kn=function(i,o,u,c,d,f,g){return i-=d,o-=f,(i/=u/2+g)*i+(o/=c/2+g)*o<=1},tl=function(i,o,u,c,d,f,g){var m=[u-i,c-o],v=[i-d,o-f],y=m[0]*m[0]+m[1]*m[1],b=2*(v[0]*m[0]+v[1]*m[1]),C=b*b-4*y*(v[0]*v[0]+v[1]*v[1]-g*g);if(C<0)return[];var _=(-b+Math.sqrt(C))/(2*y),S=(-b-Math.sqrt(C))/(2*y),A=Math.min(_,S),M=Math.max(_,S),P=[];if(A>=0&&A<=1&&P.push(A),M>=0&&M<=1&&P.push(M),0===P.length)return[];var I=P[0]*m[0]+i,N=P[0]*m[1]+o;return P.length>1?P[0]==P[1]?[I,N]:[I,N,P[1]*m[0]+i,P[1]*m[1]+o]:[I,N]},Gc=function(i,o,u){return o<=i&&i<=u||u<=i&&i<=o?i:i<=o&&o<=u||u<=o&&o<=i?o:u},Sa=function(i,o,u,c,d,f,g,m,v){var y=i-d,b=u-i,D=g-d,C=o-f,_=c-o,S=m-f,A=D*C-S*y,M=b*C-_*y,P=S*b-D*_;if(0!==P){var I=A/P,N=M/P,U=-.001;return U<=I&&I<=1.001&&U<=N&&N<=1.001||v?[i+I*b,o+I*_]:[]}return 0===A||0===M?Gc(i,u,g)===g?[g,m]:Gc(i,u,d)===d?[d,f]:Gc(d,g,u)===u?[u,c]:[]:[]},uu=function(i,o,u,c,d,f,g,m){var y,C,v=[],b=new Array(u.length),D=!0;if(null==f&&(D=!1),D){for(var _=0;_<b.length/2;_++)b[2*_]=u[2*_]*f+c,b[2*_+1]=u[2*_+1]*g+d;if(m>0){var S=iv(b,-m);C=Nr(S)}else C=b}else C=u;for(var P,I,N=0;N<C.length/2;N++)N<C.length/2-1?(P=C[2*(N+1)],I=C[2*(N+1)+1]):(P=C[0],I=C[1]),0!==(y=Sa(i,o,c,d,C[2*N],C[2*N+1],P,I)).length&&v.push(y[0],y[1]);return v},Wc=function(i,o,u){var c=[i[0]-o[0],i[1]-o[1]],d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),f=(d-u)/d;return f<0&&(f=1e-5),[o[0]+f*c[0],o[1]+f*c[1]]},Er=function(i,o){var u=zt(i,o);return vs(u)},vs=function(i){for(var o,u,c=i.length/2,d=1/0,f=1/0,g=-1/0,m=-1/0,v=0;v<c;v++)o=i[2*v],u=i[2*v+1],d=Math.min(d,o),g=Math.max(g,o),f=Math.min(f,u),m=Math.max(m,u);for(var y=2/(g-d),b=2/(m-f),D=0;D<c;D++)o=i[2*D]=i[2*D]*y,u=i[2*D+1]=i[2*D+1]*b,d=Math.min(d,o),g=Math.max(g,o),f=Math.min(f,u),m=Math.max(m,u);if(f<-1)for(var C=0;C<c;C++)u=i[2*C+1]=i[2*C+1]+(-1-f);return i},zt=function(i,o){var u=1/i*2*Math.PI,c=i%2==0?Math.PI/2+u/2:Math.PI/2;c+=o;for(var f,d=new Array(2*i),g=0;g<i;g++)f=g*u+c,d[2*g]=Math.cos(f),d[2*g+1]=Math.sin(-f);return d},Ta=function(i,o){return Math.min(i/4,o/4,8)},nl=function(i,o){return Math.min(i/10,o/10,8)},di=function(i,o){return{heightOffset:Math.min(15,.05*o),widthOffset:Math.min(100,.25*i),ctrlPtOffsetPct:.05}},rl=Hn({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(i){return 1}}),av={pageRank:function(i){for(var o=rl(i),u=o.dampingFactor,c=o.precision,d=o.iterations,f=o.weight,g=this._private.cy,m=this.byGroup(),v=m.nodes,y=m.edges,b=v.length,C=y.length,_=new Array(b*b),S=new Array(b),A=(1-u)/b,M=0;M<b;M++){for(var P=0;P<b;P++)_[M*b+P]=0;S[M]=0}for(var N=0;N<C;N++){var B=y[N],U=B.data("source"),R=B.data("target");if(U!==R){var V=v.indexOfId(U),F=v.indexOfId(R),j=f(B);_[F*b+V]+=j,S[V]+=j}}for(var L=1/b+A,q=0;q<b;q++)if(0===S[q])for(var $=0;$<b;$++)_[$*b+q]=L;else for(var W=0;W<b;W++){var X=W*b+q;_[X]=_[X]/S[q]+A}for(var ae,K=new Array(b),Q=new Array(b),ee=0;ee<b;ee++)K[ee]=1;for(var ie=0;ie<d;ie++){for(var de=0;de<b;de++)Q[de]=0;for(var ve=0;ve<b;ve++)for(var he=0;he<b;he++)Q[ve]+=_[ve*b+he]*K[he];Vw(Q),ae=K,K=Q,Q=ae;for(var Y=0,oe=0;oe<b;oe++){var pe=ae[oe]-K[oe];Y+=pe*pe}if(Y<c)break}return{rank:function(Ze){return Ze=g.collection(Ze)[0],K[v.indexOf(Ze)]}}}},ms=Hn({root:null,weight:function(i){return 1},directed:!1,alpha:0}),eo={degreeCentralityNormalized:function(i){i=ms(i);var o=this.cy(),u=this.nodes(),c=u.length;if(i.directed){for(var y={},b={},D=0,C=0,_=0;_<c;_++){var S=u[_],A=S.id();i.root=S;var M=this.degreeCentrality(i);D<M.indegree&&(D=M.indegree),C<M.outdegree&&(C=M.outdegree),y[A]=M.indegree,b[A]=M.outdegree}return{indegree:function(I){return 0==D?0:(le(I)&&(I=o.filter(I)),y[I.id()]/D)},outdegree:function(I){return 0===C?0:(le(I)&&(I=o.filter(I)),b[I.id()]/C)}}}for(var d={},f=0,g=0;g<c;g++){var m=u[g];i.root=m;var v=this.degreeCentrality(i);f<v.degree&&(f=v.degree),d[m.id()]=v.degree}return{degree:function(I){return 0===f?0:(le(I)&&(I=o.filter(I)),d[I.id()]/f)}}},degreeCentrality:function(i){i=ms(i);var o=this.cy(),u=this,d=i.root,f=i.weight,g=i.directed,m=i.alpha;if(d=o.collection(d)[0],g){for(var C=d.connectedEdges(),_=C.filter(function(U){return U.target().same(d)&&u.has(U)}),S=C.filter(function(U){return U.source().same(d)&&u.has(U)}),A=_.length,M=S.length,P=0,I=0,N=0;N<_.length;N++)P+=f(_[N]);for(var B=0;B<S.length;B++)I+=f(S[B]);return{indegree:Math.pow(A,1-m)*Math.pow(P,m),outdegree:Math.pow(M,1-m)*Math.pow(I,m)}}for(var v=d.connectedEdges().intersection(u),y=v.length,b=0,D=0;D<v.length;D++)b+=f(v[D]);return{degree:Math.pow(y,1-m)*Math.pow(b,m)}}};eo.dc=eo.degreeCentrality,eo.dcn=eo.degreeCentralityNormalised=eo.degreeCentralityNormalized;var Kc=Hn({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),ys={closenessCentralityNormalized:function(i){for(var o=Kc(i),u=o.harmonic,c=o.weight,d=o.directed,f=this.cy(),g={},m=0,v=this.nodes(),y=this.floydWarshall({weight:c,directed:d}),b=0;b<v.length;b++){for(var D=0,C=v[b],_=0;_<v.length;_++)if(b!==_){var S=y.distance(C,v[_]);D+=u?1/S:S}u||(D=1/D),m<D&&(m=D),g[C.id()]=D}return{closeness:function(M){return 0==m?0:(M=le(M)?f.filter(M)[0].id():M.id(),g[M]/m)}}},closenessCentrality:function(i){var o=Kc(i),u=o.root,c=o.weight,d=o.directed,f=o.harmonic;u=this.filter(u)[0];for(var g=this.dijkstra({root:u,weight:c,directed:d}),m=0,v=this.nodes(),y=0;y<v.length;y++){var b=v[y];if(!b.same(u)){var D=g.distanceTo(b);m+=f?1/D:D}}return f?m:1/m}};ys.cc=ys.closenessCentrality,ys.ccn=ys.closenessCentralityNormalised=ys.closenessCentralityNormalized;var qf=Hn({weight:null,directed:!1}),kr={betweennessCentrality:function(i){for(var o=qf(i),u=o.directed,c=o.weight,d=null!=c,f=this.cy(),g=this.nodes(),m={},v={},y=0,b={set:function(I,N){v[I]=N,N>y&&(y=N)},get:function(I){return v[I]}},D=0;D<g.length;D++){var C=g[D],_=C.id();m[_]=u?C.outgoers().nodes():C.openNeighborhood().nodes(),b.set(_,0)}for(var S=function(I){for(var N=g[I].id(),B=[],U={},R={},V={},F=new qr(function(he,se){return V[he]-V[se]}),j=0;j<g.length;j++){var z=g[j].id();U[z]=[],R[z]=0,V[z]=1/0}for(R[N]=1,V[N]=0,F.push(N);!F.empty();){var L=F.pop();if(B.push(L),d)for(var q=0;q<m[L].length;q++){var W,$=m[L][q],Z=f.getElementById(L);W=Z.edgesTo($).length>0?Z.edgesTo($)[0]:$.edgesTo(Z)[0];var X=c(W);$=$.id(),V[$]>V[L]+X&&(V[$]=V[L]+X,F.nodes.indexOf($)<0?F.push($):F.updateItem($),R[$]=0,U[$]=[]),V[$]==V[L]+X&&(R[$]=R[$]+R[L],U[$].push(L))}else for(var K=0;K<m[L].length;K++){var Q=m[L][K].id();V[Q]==1/0&&(F.push(Q),V[Q]=V[L]+1),V[Q]==V[L]+1&&(R[Q]=R[Q]+R[L],U[Q].push(L))}}for(var ae={},ee=0;ee<g.length;ee++)ae[g[ee].id()]=0;for(;B.length>0;){for(var ie=B.pop(),de=0;de<U[ie].length;de++){var ve=U[ie][de];ae[ve]=ae[ve]+R[ve]/R[ie]*(1+ae[ie])}ie!=g[I].id()&&b.set(ie,b.get(ie)+ae[ie])}},A=0;A<g.length;A++)S(A);var M={betweenness:function(I){var N=f.collection(I).id();return b.get(N)},betweennessNormalized:function(I){if(0==y)return 0;var N=f.collection(I).id();return b.get(N)/y}};return M.betweennessNormalised=M.betweennessNormalized,M}};kr.bc=kr.betweennessCentrality;var sv=Hn({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(s){return 1}]}),Ye=function(i,o){for(var u=0,c=0;c<o.length;c++)u+=o[c](i);return u},Qn=function(i,o){for(var u,c=0;c<o;c++){u=0;for(var d=0;d<o;d++)u+=i[d*o+c];for(var f=0;f<o;f++)i[f*o+c]=i[f*o+c]/u}},Aa=function(i,o,u){for(var c=new Array(u*u),d=0;d<u;d++){for(var f=0;f<u;f++)c[d*u+f]=0;for(var g=0;g<u;g++)for(var m=0;m<u;m++)c[d*u+m]+=i[d*u+g]*o[g*u+m]}return c},ws=function(i,o,u){for(var c=i.slice(0),d=1;d<u;d++)i=Aa(i,c,o);return i},Qr=function(i,o,u){for(var c=new Array(o*o),d=0;d<o*o;d++)c[d]=Math.pow(i[d],u);return Qn(c,o),c},Yr=function(i,o,u,c){for(var d=0;d<u;d++)if(Math.round(i[d]*Math.pow(10,c))/Math.pow(10,c)!=Math.round(o[d]*Math.pow(10,c))/Math.pow(10,c))return!1;return!0},wt=function(i,o){for(var u=0;u<i.length;u++)if(!o[u]||i[u].id()!==o[u].id())return!1;return!0},Cr=function(i){for(var o=this.nodes(),u=this.edges(),c=this.cy(),d=function(i){return sv(i)}(i),f={},g=0;g<o.length;g++)f[o[g].id()]=g;for(var b,m=o.length,v=m*m,y=new Array(v),D=0;D<v;D++)y[D]=0;for(var C=0;C<u.length;C++){var _=u[C],S=f[_.source().id()],A=f[_.target().id()],M=Ye(_,d.attributes);y[S*m+A]+=M,y[A*m+S]+=M}(function(i,o,u){for(var c=0;c<o;c++)i[c*o+c]=u})(y,m,d.multFactor),Qn(y,m);for(var P=!0,I=0;P&&I<d.maxIterations;)P=!1,b=ws(y,m,d.expandFactor),y=Qr(b,m,d.inflateFactor),Yr(y,b,v,4)||(P=!0),I++;var N=function(i,o,u,c){for(var d=[],f=0;f<o;f++){for(var g=[],m=0;m<o;m++)Math.round(1e3*i[f*o+m])/1e3>0&&g.push(u[m]);0!==g.length&&d.push(c.collection(g))}return d}(y,m,o,c);return N=function(i){for(var o=0;o<i.length;o++)for(var u=0;u<i.length;u++)o!=u&&wt(i[o],i[u])&&i.splice(u,1);return i}(N),N},bs={markovClustering:Cr,mcl:Cr},zn=function(i){return i},Ma=function(i,o){return Math.abs(o-i)},cn=function(i,o,u){return i+Ma(o,u)},to=function(i,o,u){return i+Math.pow(u-o,2)},no=function(i){return Math.sqrt(i)},dt=function(i,o,u){return Math.max(i,Ma(o,u))},xa=function(i,o,u,c,d){for(var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zn,g=c,y=0;y<i;y++)g=d(g,o(y),u(y));return f(g)},fi={euclidean:function(i,o,u){return i>=2?xa(i,o,u,0,to,no):xa(i,o,u,0,cn)},squaredEuclidean:function(i,o,u){return xa(i,o,u,0,to)},manhattan:function(i,o,u){return xa(i,o,u,0,cn)},max:function(i,o,u){return xa(i,o,u,-1/0,dt)}};function ro(s,i,o,u,c,d){var f;return f=He(s)?s:fi[s]||fi.euclidean,0===i&&He(s)?f(c,d):f(i,o,u,c,d)}fi["squared-euclidean"]=fi.squaredEuclidean,fi.squaredeuclidean=fi.squaredEuclidean;var io=Hn({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),er=function(i){return io(i)},Ia=function(i,o,u,c,d){var g="kMedoids"!==d?function(b){return u[b]}:function(b){return c[b](u)};return ro(i,c.length,g,function(D){return c[D](o)},u,o)},Pa=function(i,o,u){for(var c=u.length,d=new Array(c),f=new Array(c),g=new Array(o),m=null,v=0;v<c;v++)d[v]=i.min(u[v]).value,f[v]=i.max(u[v]).value;for(var y=0;y<o;y++){m=[];for(var b=0;b<c;b++)m[b]=Math.random()*(f[b]-d[b])+d[b];g[y]=m}return g},Zr=function(i,o,u,c,d){for(var f=1/0,g=0,m=0;m<o.length;m++){var v=Ia(u,i,o[m],c,d);v<f&&(f=v,g=m)}return g},Kt=function(i,o,u){for(var c=[],d=null,f=0;f<o.length;f++)u[(d=o[f]).id()]===i&&c.push(d);return c},ov=function(i,o,u){return Math.abs(o-i)<=u},lv=function(i,o,u){for(var c=0;c<i.length;c++)for(var d=0;d<i[c].length;d++)if(Math.abs(i[c][d]-o[c][d])>u)return!1;return!0},du=function(i,o,u){for(var c=0;c<u;c++)if(i===o[c])return!0;return!1},fu=function(i,o){var u=new Array(o);if(i.length<50)for(var c=0;c<o;c++){for(var d=i[Math.floor(Math.random()*i.length)];du(d,u,c);)d=i[Math.floor(Math.random()*i.length)];u[c]=d}else for(var f=0;f<o;f++)u[f]=i[Math.floor(Math.random()*i.length)];return u},ao=function(i,o,u){for(var c=0,d=0;d<o.length;d++)c+=Ia("manhattan",o[d],i,u,"kMedoids");return c},tr=function(i,o,u,c,d){for(var f,g,m=0;m<o.length;m++)for(var v=0;v<i.length;v++)c[m][v]=Math.pow(u[m][v],d.m);for(var y=0;y<i.length;y++)for(var b=0;b<d.attributes.length;b++){f=0,g=0;for(var D=0;D<o.length;D++)f+=c[D][y]*d.attributes[b](o[D]),g+=c[D][y];i[y][b]=f/g}},uv=function(i,o,u,c,d){for(var f=0;f<i.length;f++)o[f]=i[f].slice();for(var g,m,v,y=2/(d.m-1),b=0;b<u.length;b++)for(var D=0;D<c.length;D++){g=0;for(var C=0;C<u.length;C++)m=Ia(d.distance,c[D],u[b],d.attributes,"cmeans"),v=Ia(d.distance,c[D],u[C],d.attributes,"cmeans"),g+=Math.pow(m/v,y);i[D][b]=1/g}},Xr=function(i){var d,f,g,m,v,o=this.cy(),u=this.nodes(),c=er(i);m=new Array(u.length);for(var y=0;y<u.length;y++)m[y]=new Array(c.k);g=new Array(u.length);for(var b=0;b<u.length;b++)g[b]=new Array(c.k);for(var D=0;D<u.length;D++){for(var C=0,_=0;_<c.k;_++)g[D][_]=Math.random(),C+=g[D][_];for(var S=0;S<c.k;S++)g[D][S]=g[D][S]/C}f=new Array(c.k);for(var A=0;A<c.k;A++)f[A]=new Array(c.attributes.length);v=new Array(u.length);for(var M=0;M<u.length;M++)v[M]=new Array(c.k);for(var P=!0,I=0;P&&I<c.maxIterations;)P=!1,tr(f,u,g,v,c),uv(g,m,f,u,c),lv(g,m,c.sensitivityThreshold)||(P=!0),I++;return d=function(i,o,u,c){for(var d=new Array(u.k),f=0;f<d.length;f++)d[f]=[];for(var g,m,v=0;v<o.length;v++){g=-1/0,m=-1;for(var y=0;y<o[0].length;y++)o[v][y]>g&&(g=o[v][y],m=y);d[m].push(i[v])}for(var b=0;b<d.length;b++)d[b]=c.collection(d[b]);return d}(u,g,c,o),{clusters:d,degreeOfMembership:g}},Qc={kMeans:function(i){var m,o=this.cy(),u=this.nodes(),c=null,d=er(i),f=new Array(d.k),g={};m=d.testMode?"number"==typeof d.testCentroids?Pa(u,d.k,d.attributes):"object"===yt(d.testCentroids)?d.testCentroids:Pa(u,d.k,d.attributes):Pa(u,d.k,d.attributes);for(var v=!0,y=0;v&&y<d.maxIterations;){for(var b=0;b<u.length;b++)g[(c=u[b]).id()]=Zr(c,m,d.distance,d.attributes,"kMeans");v=!1;for(var D=0;D<d.k;D++){var C=Kt(D,u,g);if(0!==C.length){for(var _=d.attributes.length,S=m[D],A=new Array(_),M=new Array(_),P=0;P<_;P++){M[P]=0;for(var I=0;I<C.length;I++)M[P]+=d.attributes[P](c=C[I]);A[P]=M[P]/C.length,ov(A[P],S[P],d.sensitivityThreshold)||(v=!0)}m[D]=A,f[D]=o.collection(C)}}y++}return f},kMedoids:function(i){var g,v,o=this.cy(),u=this.nodes(),c=null,d=er(i),f=new Array(d.k),m={},y=new Array(d.k);d.testMode?"number"==typeof d.testCentroids||(g="object"===yt(d.testCentroids)?d.testCentroids:fu(u,d.k)):g=fu(u,d.k);for(var b=!0,D=0;b&&D<d.maxIterations;){for(var C=0;C<u.length;C++)m[(c=u[C]).id()]=Zr(c,g,d.distance,d.attributes,"kMedoids");b=!1;for(var _=0;_<g.length;_++){var S=Kt(_,u,m);if(0!==S.length){y[_]=ao(g[_],S,d.attributes);for(var A=0;A<S.length;A++)(v=ao(S[A],S,d.attributes))<y[_]&&(y[_]=v,g[_]=S[A],b=!0);f[_]=o.collection(S)}}D++}return f},fuzzyCMeans:Xr,fcm:Xr},pu=Hn({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),gu={single:"min",complete:"max"},Wf=function(i,o,u,c,d){for(var m,f=0,g=1/0,v=d.attributes,y=function(F,j){return ro(d.distance,v.length,function(z){return v[z](F)},function(z){return v[z](j)},F,j)},b=0;b<i.length;b++){var D=i[b].key,C=u[D][c[D]];C<g&&(f=D,g=C)}if("threshold"===d.mode&&g>=d.threshold||"dendrogram"===d.mode&&1===i.length)return!1;var A,_=o[f],S=o[c[f]];A="dendrogram"===d.mode?{left:_,right:S,key:_.key}:{value:_.value.concat(S.value),key:_.key},i[_.index]=A,i.splice(S.index,1),o[_.key]=A;for(var M=0;M<i.length;M++){var P=i[M];_.key===P.key?m=1/0:"min"===d.linkage?(m=u[_.key][P.key],u[_.key][P.key]>u[S.key][P.key]&&(m=u[S.key][P.key])):"max"===d.linkage?(m=u[_.key][P.key],u[_.key][P.key]<u[S.key][P.key]&&(m=u[S.key][P.key])):m="mean"===d.linkage?(u[_.key][P.key]*_.size+u[S.key][P.key]*S.size)/(_.size+S.size):"dendrogram"===d.mode?y(P.value,_.value):y(P.value[0],_.value[0]),u[_.key][P.key]=u[P.key][_.key]=m}for(var I=0;I<i.length;I++){var N=i[I].key;if(c[N]===_.key||c[N]===S.key){for(var B=N,U=0;U<i.length;U++){var R=i[U].key;u[N][R]<u[N][B]&&(B=R)}c[N]=B}i[I].index=I}return _.key=S.key=_.index=S.index=null,!0},Yc=function s(i,o,u){!i||(i.value?o.push(i.value):(i.left&&s(i.left,o),i.right&&s(i.right,o)))},cv=function s(i,o){if(!i)return"";if(i.left&&i.right){var u=s(i.left,o),c=s(i.right,o),d=o.add({group:"nodes",data:{id:u+","+c}});return o.add({group:"edges",data:{source:u,target:d.id()}}),o.add({group:"edges",data:{source:c,target:d.id()}}),d.id()}return i.value?i.value.id():void 0},dv=function s(i,o,u){if(!i)return[];var c=[],d=[],f=[];return 0===o?(i.left&&Yc(i.left,c),i.right&&Yc(i.right,d),f=c.concat(d),[u.collection(f)]):1===o?i.value?[u.collection(i.value)]:(i.left&&Yc(i.left,c),i.right&&Yc(i.right,d),[u.collection(c),u.collection(d)]):i.value?[u.collection(i.value)]:(i.left&&(c=s(i.left,o-1,u)),i.right&&(d=s(i.right,o-1,u)),c.concat(d))},fv=function(i){for(var o=this.cy(),u=this.nodes(),c=function(i){var o=pu(i),u=gu[o.linkage];return null!=u&&(o.linkage=u),o}(i),d=c.attributes,f=function(I,N){return ro(c.distance,d.length,function(B){return d[B](I)},function(B){return d[B](N)},I,N)},g=[],m=[],v=[],y=[],b=0;b<u.length;b++){var D={value:"dendrogram"===c.mode?u[b]:[u[b]],key:b,index:b};g[b]=D,y[b]=D,m[b]=[],v[b]=0}for(var C=0;C<g.length;C++)for(var _=0;_<=C;_++){var S;S="dendrogram"===c.mode?C===_?1/0:f(g[C].value,g[_].value):C===_?1/0:f(g[C].value[0],g[_].value[0]),m[C][_]=S,m[_][C]=S,S<m[C][v[C]]&&(v[C]=_)}for(var A=Wf(g,y,m,v,c);A;)A=Wf(g,y,m,v,c);var M;return"dendrogram"===c.mode?(M=dv(g[0],c.dendrogramDepth,o),c.addDendrogram&&cv(g[0],o)):(M=new Array(g.length),g.forEach(function(P,I){P.key=P.index=null,M[I]=o.collection(P.value)})),M},jw={hierarchicalClustering:fv,hca:fv},qw=Hn({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Ww=function(i,o,u,c){var d=function(g,m){return c[m](g)};return-ro(i,c.length,function(f){return d(o,f)},function(f){return d(u,f)},o,u)},hv=function(i,o,u){for(var c=[],d=0;d<i;d++){for(var f=-1,g=-1/0,m=0;m<u.length;m++){var v=u[m];o[d*i+v]>g&&(f=v,g=o[d*i+v])}f>0&&c.push(f)}for(var y=0;y<u.length;y++)c[u[y]]=u[y];return c},pv=function(i){for(var o=this.cy(),u=this.nodes(),c=function(i){var o=i.damping,u=i.preference;.5<=o&&o<1||$t("Damping must range on [0.5, 1).  Got: ".concat(o));var c=["median","mean","min","max"];return c.some(function(d){return d===u})||Ce(u)||$t("Preference must be one of [".concat(c.map(function(d){return"'".concat(d,"'")}).join(", "),"] or a number.  Got: ").concat(u)),qw(i)}(i),d={},f=0;f<u.length;f++)d[u[f].id()]=f;var g,m,v,y,b,D,F;m=(g=u.length)*g,v=new Array(m);for(var C=0;C<m;C++)v[C]=-1/0;for(var _=0;_<g;_++)for(var S=0;S<g;S++)_!==S&&(v[_*g+S]=Ww(c.distance,u[_],u[S],c.attributes));y=function(i,o){var u;return u="median"===o?function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(u<i.length&&i.splice(u,i.length-u),o>0&&i.splice(0,o)):i=i.slice(o,u);for(var g=0,m=i.length-1;m>=0;m--)f?isFinite(i[m])||(i[m]=-1/0,g++):i.splice(m,1);d&&i.sort(function(D,C){return D-C});var y=i.length,b=Math.floor(y/2);return y%2!=0?i[b+1+g]:(i[b-1+g]+i[b+g])/2}(i):"mean"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=0,d=0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f<u;f++){var g=i[f];isFinite(g)&&(c+=g,d++)}return c/d}(i):"min"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=i[d];isFinite(f)&&(c=Math.min(f,c))}return c}(i):"max"===o?function(i){for(var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.length,c=-1/0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d<u;d++){var f=i[d];isFinite(f)&&(c=Math.max(f,c))}return c}(i):o,u}(v,c.preference);for(var A=0;A<g;A++)v[A*g+A]=y;b=new Array(m);for(var M=0;M<m;M++)b[M]=0;D=new Array(m);for(var P=0;P<m;P++)D[P]=0;for(var I=new Array(g),N=new Array(g),B=new Array(g),U=0;U<g;U++)I[U]=0,N[U]=0,B[U]=0;for(var R=new Array(g*c.minIterations),V=0;V<R.length;V++)R[V]=0;for(F=0;F<c.maxIterations;F++){for(var j=0;j<g;j++){for(var z=-1/0,L=-1/0,q=-1,$=0,Z=0;Z<g;Z++)I[Z]=b[j*g+Z],($=D[j*g+Z]+v[j*g+Z])>=z?(L=z,z=$,q=Z):$>L&&(L=$);for(var W=0;W<g;W++)b[j*g+W]=(1-c.damping)*(v[j*g+W]-z)+c.damping*I[W];b[j*g+q]=(1-c.damping)*(v[j*g+q]-L)+c.damping*I[q]}for(var X=0;X<g;X++){for(var K=0,Q=0;Q<g;Q++)I[Q]=D[Q*g+X],N[Q]=Math.max(0,b[Q*g+X]),K+=N[Q];K-=N[X],N[X]=b[X*g+X],K+=N[X];for(var ae=0;ae<g;ae++)D[ae*g+X]=(1-c.damping)*Math.min(0,K-N[ae])+c.damping*I[ae];D[X*g+X]=(1-c.damping)*(K-N[X])+c.damping*I[X]}for(var ee=0,ie=0;ie<g;ie++){var de=D[ie*g+ie]+b[ie*g+ie]>0?1:0;R[F%c.minIterations*g+ie]=de,ee+=de}if(ee>0&&(F>=c.minIterations-1||F==c.maxIterations-1)){for(var ve=0,he=0;he<g;he++){B[he]=0;for(var se=0;se<c.minIterations;se++)B[he]+=R[se*g+he];(0===B[he]||B[he]===c.minIterations)&&ve++}if(ve===g)break}}for(var Y=function(i,o,u){for(var c=[],d=0;d<i;d++)o[d*i+d]+u[d*i+d]>0&&c.push(d);return c}(g,b,D),oe=function(i,o,u){for(var c=hv(i,o,u),d=0;d<u.length;d++){for(var f=[],g=0;g<c.length;g++)c[g]===u[d]&&f.push(g);for(var m=-1,v=-1/0,y=0;y<f.length;y++){for(var b=0,D=0;D<f.length;D++)b+=o[f[D]*i+f[y]];b>v&&(m=y,v=b)}u[d]=f[m]}return hv(i,o,u)}(g,v,Y),pe={},Ee=0;Ee<Y.length;Ee++)pe[Y[Ee]]=[];for(var Me=0;Me<u.length;Me++){var it=oe[d[u[Me].id()]];null!=it&&pe[it].push(u[Me])}for(var xe=new Array(Y.length),Te=0;Te<Y.length;Te++)xe[Te]=o.collection(pe[Y[Te]]);return xe},Zw={affinityPropagation:pv,ap:pv},Xw=Hn({root:void 0,directed:!1}),Jw={hierholzer:function(i){if(!Fe(i)){var o=arguments;i={root:o[0],directed:o[1]}}var m,v,y,u=Xw(i),c=u.root,d=u.directed,f=this,g=!1;c&&(y=le(c)?this.filter(c)[0].id():c[0].id());var b={},D={};f.forEach(d?function(P){var I=P.id();if(P.isNode()){var N=P.indegree(!0),B=P.outdegree(!0),U=N-B,R=B-N;1==U?m?g=!0:m=I:1==R?v?g=!0:v=I:(R>1||U>1)&&(g=!0),b[I]=[],P.outgoers().forEach(function(V){V.isEdge()&&b[I].push(V.id())})}else D[I]=[void 0,P.target().id()]}:function(P){var I=P.id();P.isNode()?(P.degree(!0)%2&&(m?v?g=!0:v=I:m=I),b[I]=[],P.connectedEdges().forEach(function(B){return b[I].push(B.id())})):D[I]=[P.source().id(),P.target().id()]});var C={found:!1,trail:void 0};if(g)return C;if(v&&m)if(d){if(y&&v!=y)return C;y=v}else{if(y&&v!=y&&m!=y)return C;y||(y=v)}else y||(y=f[0].id());var _=function(I){for(var U,R,V,N=I,B=[I];b[N].length;)U=b[N].shift(),R=D[U][0],N!=(V=D[U][1])?(b[V]=b[V].filter(function(F){return F!=U}),N=V):!d&&N!=R&&(b[R]=b[R].filter(function(F){return F!=U}),N=R),B.unshift(U),B.unshift(N);return B},S=[],A=[];for(A=_(y);1!=A.length;)0==b[A[0]].length?(S.unshift(f.getElementById(A.shift())),S.unshift(f.getElementById(A.shift()))):A=_(A.shift()).concat(A);for(var M in S.unshift(f.getElementById(A.shift())),b)if(b[M].length)return C;return C.found=!0,C.trail=this.spawn(S,!0),C}},Zc=function(){var i=this,o={},u=0,c=0,d=[],f=[],g={},v=function b(D,C,_){D===_&&(c+=1),o[C]={id:u,low:u++,cutVertex:!1};var A,M,P,I,S=i.getElementById(C).connectedEdges().intersection(i);0===S.size()?d.push(i.spawn(i.getElementById(C))):S.forEach(function(N){A=N.source().id(),M=N.target().id(),(P=A===C?M:A)!==_&&(I=N.id(),g[I]||(g[I]=!0,f.push({x:C,y:P,edge:N})),P in o?o[C].low=Math.min(o[C].low,o[P].id):(b(D,P,C),o[C].low=Math.min(o[C].low,o[P].low),o[C].id<=o[P].low&&(o[C].cutVertex=!0,function(D,C){for(var _=f.length-1,S=[],A=i.spawn();f[_].x!=D||f[_].y!=C;)S.push(f.pop().edge),_--;S.push(f.pop().edge),S.forEach(function(M){var P=M.connectedNodes().intersection(i);A.merge(M),P.forEach(function(I){var N=I.id(),B=I.connectedEdges().intersection(i);A.merge(I),A.merge(o[N].cutVertex?B.filter(function(U){return U.isLoop()}):B)})}),d.push(A)}(C,P))))})};i.forEach(function(b){if(b.isNode()){var D=b.id();D in o||(c=0,v(D,D),o[D].cutVertex=c>1)}});var y=Object.keys(o).filter(function(b){return o[b].cutVertex}).map(function(b){return i.getElementById(b)});return{cut:i.spawn(y),components:d}},so=function(){var i=this,o={},u=0,c=[],d=[],f=i.spawn(i),g=function m(v){if(d.push(v),o[v]={index:u,low:u++,explored:!1},i.getElementById(v).connectedEdges().intersection(i).forEach(function(S){var A=S.target().id();A!==v&&(A in o||m(A),o[A].explored||(o[v].low=Math.min(o[v].low,o[A].low)))}),o[v].index===o[v].low){for(var b=i.spawn();;){var D=d.pop();if(b.merge(i.getElementById(D)),o[D].low=o[v].index,o[D].explored=!0,D===v)break}var C=b.edgesWith(b),_=b.merge(C);c.push(_),f=f.difference(_)}};return i.forEach(function(m){if(m.isNode()){var v=m.id();v in o||g(v)}}),{cut:f,components:c}},gv={};[kt,Tt,Vc,Zt,Hf,xr,ur,av,eo,ys,kr,bs,Qc,jw,Zw,Jw,{hopcroftTarjanBiconnected:Zc,htbc:Zc,htb:Zc,hopcroftTarjanBiconnectedComponents:Zc},{tarjanStronglyConnected:so,tsc:so,tscc:so,tarjanStronglyConnectedComponents:so}].forEach(function(s){Ge(gv,s)});var vn=function s(i){if(!(this instanceof s))return new s(i);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof i&&i.call(this,this.fulfill.bind(this),this.reject.bind(this))};vn.prototype={fulfill:function(i){return Xc(this,1,"fulfillValue",i)},reject:function(i){return Xc(this,2,"rejectReason",i)},then:function(i,o){var u=this,c=new vn;return u.onFulfilled.push(Jc(i,c,"fulfill")),u.onRejected.push(Jc(o,c,"reject")),Yf(u),c.proxy}};var Xc=function(i,o,u,c){return 0===i.state&&(i.state=o,i[u]=c,Yf(i)),i},Yf=function(i){1===i.state?Zf(i,"onFulfilled",i.fulfillValue):2===i.state&&Zf(i,"onRejected",i.rejectReason)},Zf=function(i,o,u){if(0!==i[o].length){var c=i[o];i[o]=[];var d=function(){for(var g=0;g<c.length;g++)c[g](u)};"function"==typeof setImmediate?setImmediate(d):setTimeout(d,0)}},Jc=function(i,o,u){return function(c){if("function"!=typeof i)o[u].call(o,c);else{var d;try{d=i(c)}catch(f){return void o.reject(f)}Xf(o,d)}}},Xf=function s(i,o){if(i!==o&&i.proxy!==o){var u;if("object"===yt(o)&&null!==o||"function"==typeof o)try{u=o.then}catch(d){return void i.reject(d)}if("function"!=typeof u)i.fulfill(o);else{var c=!1;try{u.call(o,function(d){c||(c=!0,d===o?i.reject(new TypeError("circular thenable chain")):s(i,d))},function(d){c||(c=!0,i.reject(d))})}catch(d){c||i.reject(d)}}}else i.reject(new TypeError("cannot resolve promise with itself"))};vn.all=function(s){return new vn(function(i,o){for(var u=new Array(s.length),c=0,d=function(m,v){u[m]=v,++c===s.length&&i(u)},f=0;f<s.length;f++)!function(g){var m=s[g];null!=m&&null!=m.then?m.then(function(b){d(g,b)},function(b){o(b)}):d(g,m)}(f)})},vn.resolve=function(s){return new vn(function(i,o){i(s)})},vn.reject=function(s){return new vn(function(i,o){o(s)})};var oo="undefined"!=typeof Promise?Promise:vn,il=function(i,o,u){var c=ls(i),d=!c,f=this._private=Ge({duration:1e3},o,u);if(f.target=i,f.style=f.style||f.css,f.started=!1,f.playing=!1,f.hooked=!1,f.applying=!1,f.progress=0,f.completes=[],f.frames=[],f.complete&&He(f.complete)&&f.completes.push(f.complete),d){var g=i.position();f.startPosition=f.startPosition||{x:g.x,y:g.y},f.startStyle=f.startStyle||i.cy().style().getAnimationStartStyle(i,f.style)}if(c){var m=i.pan();f.startPan={x:m.x,y:m.y},f.startZoom=i.zoom()}this.length=1,this[0]=this},Ds=il.prototype;Ge(Ds,{instanceString:function(){return"animation"},hook:function(){var i=this._private;if(!i.hooked){var u=i.target._private.animation;(i.queue?u.queue:u.current).push(this),Nt(i.target)&&i.target.cy().addToAnimationPool(i.target),i.hooked=!0}return this},play:function(){var i=this._private;return 1===i.progress&&(i.progress=0),i.playing=!0,i.started=!1,i.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var i=this._private;return i.applying=!0,i.started=!1,i.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var i=this._private;return i.playing=!1,i.started=!1,this},stop:function(){var i=this._private;return i.playing=!1,i.started=!1,i.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(i){var o=this._private;return void 0===i?o.progress*o.duration:this.progress(i/o.duration)},progress:function(i){var o=this._private,u=o.playing;return void 0===i?o.progress:(u&&this.pause(),o.progress=i,o.started=!1,u&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var i=this._private,o=i.playing;o&&this.pause(),i.progress=1-i.progress,i.started=!1;var u=function(v,y){var b=i[v];null!=b&&(i[v]=i[y],i[y]=b)};if(u("zoom","startZoom"),u("pan","startPan"),u("position","startPosition"),i.style)for(var c=0;c<i.style.length;c++){var d=i.style[c],f=d.name,g=i.startStyle[f];i.startStyle[f]=d,i.style[c]=g}return o&&this.play(),this},promise:function(i){var u,o=this._private;return u="frame"===i?o.frames:o.completes,new oo(function(c,d){u.push(function(){c()})})}}),Ds.complete=Ds.completed,Ds.run=Ds.play,Ds.running=Ds.playing;var Jf={data:function(i){return i=Ge({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(c){},beforeSet:function(c,d){},onSet:function(c){},canSet:function(c){return!0}},i),function(c,d){var f=i,g=this,m=void 0!==g.length,v=m?g:[g],y=m?g[0]:g;if(le(c)){var b;if(f.allowGetting&&void 0===d)return y&&(f.beforeGet(y),b=y._private[f.field][c]),b;if(f.allowSetting&&void 0!==d&&!f.immutableKeys[c]){var C=Gi({},c,d);f.beforeSet(g,C);for(var _=0,S=v.length;_<S;_++){var A=v[_];f.canSet(A)&&(A._private[f.field][c]=d)}f.updateStyle&&g.updateStyle(),f.onSet(g),f.settingTriggersEvent&&g[f.triggerFnName](f.settingEvent)}}else if(f.allowSetting&&Fe(c)){var P,I,M=c,N=Object.keys(M);f.beforeSet(g,M);for(var B=0;B<N.length;B++)if(I=M[P=N[B]],!f.immutableKeys[P])for(var R=0;R<v.length;R++){var V=v[R];f.canSet(V)&&(V._private[f.field][P]=I)}f.updateStyle&&g.updateStyle(),f.onSet(g),f.settingTriggersEvent&&g[f.triggerFnName](f.settingEvent)}else if(f.allowBinding&&He(c))g.on(f.bindingEvent,c);else if(f.allowGetting&&void 0===c){var j;return y&&(f.beforeGet(y),j=y._private[f.field]),j}return g}},removeData:function(i){return i=Ge({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},i),function(c){var d=i,f=this,m=void 0!==f.length?f:[f];if(le(c)){for(var v=c.split(/\s+/),y=v.length,b=0;b<y;b++){var D=v[b];if(!Vn(D)&&!d.immutableKeys[D])for(var _=0,S=m.length;_<S;_++)m[_]._private[d.field][D]=void 0}d.triggerEvent&&f[d.triggerFnName](d.event)}else if(void 0===c){for(var A=0,M=m.length;A<M;A++)for(var P=m[A]._private[d.field],I=Object.keys(P),N=0;N<I.length;N++){var B=I[N];!d.immutableKeys[B]&&(P[B]=void 0)}d.triggerEvent&&f[d.triggerFnName](d.event)}return f}}},eh={eventAliasesOn:function(i){var o=i;o.addListener=o.listen=o.bind=o.on,o.unlisten=o.unbind=o.off=o.removeListener,o.trigger=o.emit,o.pon=o.promiseOn=function(u,c){var d=this,f=Array.prototype.slice.call(arguments,0);return new oo(function(g,m){var y=f.concat([function(C){d.off.apply(d,b),g(C)}]),b=y.concat([]);d.on.apply(d,y)})}}},xt={};[{animated:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return!1;var f=c[0];return f?f._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var o=this,c=void 0!==o.length?o:[o];if(!(this._private.cy||this).styleEnabled())return this;for(var f=0;f<c.length;f++)c[f]._private.animation.queue=[];return this}},delay:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animate({delay:o,duration:o,complete:u}):this}},delayAnimation:function(){return function(o,u){return(this._private.cy||this).styleEnabled()?this.animation({delay:o,duration:o,complete:u}):this}},animation:function(){return function(o,u){var c=this,d=void 0!==c.length,f=d?c:[c],g=this._private.cy||this,m=!d,v=!m;if(!g.styleEnabled())return this;var y=g.style();if(o=Ge({},o,u),0===Object.keys(o).length)return new il(f[0],o);switch(void 0===o.duration&&(o.duration=400),o.duration){case"slow":o.duration=600;break;case"fast":o.duration=200}if(v&&(o.style=y.getPropsList(o.style||o.css),o.css=void 0),v&&null!=o.renderedPosition){var D=o.renderedPosition,C=g.pan(),_=g.zoom();o.position=Jg(D,_,C)}if(m&&null!=o.panBy){var S=o.panBy,A=g.pan();o.pan={x:A.x+S.x,y:A.y+S.y}}var M=o.center||o.centre;if(m&&null!=M){var P=g.getCenterPan(M.eles,o.zoom);null!=P&&(o.pan=P)}if(m&&null!=o.fit){var I=o.fit,N=g.getFitViewport(I.eles||I.boundingBox,I.padding);null!=N&&(o.pan=N.pan,o.zoom=N.zoom)}if(m&&Fe(o.zoom)){var B=g.getZoomedViewport(o.zoom);null!=B?(B.zoomed&&(o.zoom=B.zoom),B.panned&&(o.pan=B.pan)):o.zoom=null}return new il(f[0],o)}},animate:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c];if(!(this._private.cy||this).styleEnabled())return this;u&&(o=Ge({},o,u));for(var m=0;m<f.length;m++){var v=f[m],y=v.animated()&&(void 0===o.queue||o.queue);v.animation(o,y?{queue:!0}:void 0).play()}return this}},stop:function(){return function(o,u){var c=this,f=void 0!==c.length?c:[c],g=this._private.cy||this;if(!g.styleEnabled())return this;for(var m=0;m<f.length;m++){for(var y=f[m]._private,b=y.animation.current,D=0;D<b.length;D++)u&&(b[D]._private.duration=0);o&&(y.animation.queue=[]),u||(y.animation.current=[])}return g.notify("draw"),this}}},Jf,eh].forEach(function(s){Ge(xt,s)});var mv={animate:xt.animate(),animation:xt.animation(),animated:xt.animated(),clearQueue:xt.clearQueue(),delay:xt.delay(),delayAnimation:xt.delayAnimation(),stop:xt.stop()},lo={classes:function(i){var o=this;if(void 0===i){var u=[];return o[0]._private.classes.forEach(function(_){return u.push(_)}),u}Ve(i)||(i=(i||"").match(/\S+/g)||[]);for(var c=[],d=new Ji(i),f=0;f<o.length;f++){for(var g=o[f],m=g._private,v=m.classes,y=!1,b=0;b<i.length;b++)if(!v.has(i[b])){y=!0;break}y||(y=v.size!==i.length),y&&(m.classes=d,c.push(g))}return c.length>0&&this.spawn(c).updateStyle().emit("class"),o},addClass:function(i){return this.toggleClass(i,!0)},hasClass:function(i){var o=this[0];return null!=o&&o._private.classes.has(i)},toggleClass:function(i,o){Ve(i)||(i=i.match(/\S+/g)||[]);for(var u=this,c=void 0===o,d=[],f=0,g=u.length;f<g;f++)for(var m=u[f],v=m._private.classes,y=!1,b=0;b<i.length;b++){var D=i[b],C=v.has(D),_=!1;o||c&&!C?(v.add(D),_=!0):(!o||c&&C)&&(v.delete(D),_=!0),!y&&_&&(d.push(m),y=!0)}return d.length>0&&this.spawn(d).updateStyle().emit("class"),u},removeClass:function(i){return this.toggleClass(i,!1)},flashClass:function(i,o){var u=this;if(null==o)o=250;else if(0===o)return u;return u.addClass(i),setTimeout(function(){u.removeClass(i)},o),u}};lo.className=lo.classNames=lo.classes;var It={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:gn,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};It.variable="(?:[\\w-]|(?:\\\\"+It.metaChar+"))+",It.value=It.string+"|"+It.number,It.className=It.variable,It.id=It.variable,function(){var s,i,o;for(s=It.comparatorOp.split("|"),o=0;o<s.length;o++)It.comparatorOp+="|@"+(i=s[o]);for(s=It.comparatorOp.split("|"),o=0;o<s.length;o++)!((i=s[o]).indexOf("!")>=0)&&"="!==i&&(It.comparatorOp+="|\\!"+i)}();var ed=[{selector:":selected",matches:function(i){return i.selected()}},{selector:":unselected",matches:function(i){return!i.selected()}},{selector:":selectable",matches:function(i){return i.selectable()}},{selector:":unselectable",matches:function(i){return!i.selectable()}},{selector:":locked",matches:function(i){return i.locked()}},{selector:":unlocked",matches:function(i){return!i.locked()}},{selector:":visible",matches:function(i){return i.visible()}},{selector:":hidden",matches:function(i){return!i.visible()}},{selector:":transparent",matches:function(i){return i.transparent()}},{selector:":grabbed",matches:function(i){return i.grabbed()}},{selector:":free",matches:function(i){return!i.grabbed()}},{selector:":removed",matches:function(i){return i.removed()}},{selector:":inside",matches:function(i){return!i.removed()}},{selector:":grabbable",matches:function(i){return i.grabbable()}},{selector:":ungrabbable",matches:function(i){return!i.grabbable()}},{selector:":animated",matches:function(i){return i.animated()}},{selector:":unanimated",matches:function(i){return!i.animated()}},{selector:":parent",matches:function(i){return i.isParent()}},{selector:":childless",matches:function(i){return i.isChildless()}},{selector:":child",matches:function(i){return i.isChild()}},{selector:":orphan",matches:function(i){return i.isOrphan()}},{selector:":nonorphan",matches:function(i){return i.isChild()}},{selector:":compound",matches:function(i){return i.isNode()?i.isParent():i.source().isParent()||i.target().isParent()}},{selector:":loop",matches:function(i){return i.isLoop()}},{selector:":simple",matches:function(i){return i.isSimple()}},{selector:":active",matches:function(i){return i.active()}},{selector:":inactive",matches:function(i){return!i.active()}},{selector:":backgrounding",matches:function(i){return i.backgrounding()}},{selector:":nonbackgrounding",matches:function(i){return!i.backgrounding()}}].sort(function(s,i){return function(i,o){return-1*Pc(i,o)}(s.selector,i.selector)}),Tn=function(){for(var i,s={},o=0;o<ed.length;o++)s[(i=ed[o]).selector]=i.matches;return s}(),tb="("+ed.map(function(s){return s.selector}).join("|")+")",na=function(i){return i.replace(new RegExp("\\\\("+It.metaChar+")","g"),function(o,u){return u})},kn=function(i,o,u){i[i.length-1]=u},td=[{name:"group",query:!0,regex:"("+It.group+")",populate:function(i,o,u){var d=ln(u,1)[0];o.checks.push({type:0,value:"*"===d?d:d+"s"})}},{name:"state",query:!0,regex:tb,populate:function(i,o,u){var c=ln(u,1);o.checks.push({type:7,value:c[0]})}},{name:"id",query:!0,regex:"\\#("+It.id+")",populate:function(i,o,u){var c=ln(u,1);o.checks.push({type:8,value:na(c[0])})}},{name:"className",query:!0,regex:"\\.("+It.className+")",populate:function(i,o,u){var c=ln(u,1);o.checks.push({type:9,value:na(c[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+It.variable+")\\s*\\]",populate:function(i,o,u){var c=ln(u,1);o.checks.push({type:4,field:na(c[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+It.variable+")\\s*("+It.comparatorOp+")\\s*("+It.value+")\\s*\\]",populate:function(i,o,u){var c=ln(u,3),d=c[0],f=c[1],g=c[2];g=null!=new RegExp("^"+It.string+"$").exec(g)?g.substring(1,g.length-1):parseFloat(g),o.checks.push({type:3,field:na(d),operator:f,value:g})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+It.boolOp+")\\s*("+It.variable+")\\s*\\]",populate:function(i,o,u){var c=ln(u,2),d=c[0];o.checks.push({type:5,field:na(c[1]),operator:d})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+It.meta+")\\s*("+It.comparatorOp+")\\s*("+It.number+")\\s*\\]\\]",populate:function(i,o,u){var c=ln(u,3),f=c[1],g=c[2];o.checks.push({type:6,field:na(c[0]),operator:f,value:parseFloat(g)})}},{name:"nextQuery",separator:!0,regex:It.separator,populate:function(i,o){var u=i.currentSubject,c=i.edgeCount,d=i.compoundCount,f=i[i.length-1];return null!=u&&(f.subject=u,i.currentSubject=null),f.edgeCount=c,f.compoundCount=d,i.edgeCount=0,i.compoundCount=0,i[i.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:It.directedEdge,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:11,source:o,target:d}),kn(i,0,u),i.edgeCount++,d}var f={checks:[]},m={checks:[]};return f.checks.push({type:12,source:o,target:m}),kn(i,0,f),i.edgeCount++,m}},{name:"undirectedEdge",separator:!0,regex:It.undirectedEdge,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},d={checks:[]};return u.checks.push({type:10,nodes:[o,d]}),kn(i,0,u),i.edgeCount++,d}var f={checks:[]},m={checks:[]};return f.checks.push({type:14,node:o,neighbor:m}),kn(i,0,f),m}},{name:"child",separator:!0,regex:It.child,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:15,parent:i[i.length-1],child:c}),kn(i,0,u),i.compoundCount++,c}if(i.currentSubject===o){var f={checks:[]},m={checks:[]},v={checks:[]},y={checks:[]},b={checks:[]};return f.checks.push({type:19,left:i[i.length-1],right:m,subject:v}),v.checks=o.checks,o.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:17,parent:b,child:y}),kn(i,0,f),i.currentSubject=v,i.compoundCount++,y}var D={checks:[]},C={checks:[]},_=[{type:17,parent:D,child:C}];return D.checks=o.checks,o.checks=_,i.compoundCount++,C}},{name:"descendant",separator:!0,regex:It.descendant,populate:function(i,o){if(null==i.currentSubject){var u={checks:[]},c={checks:[]};return u.checks.push({type:16,ancestor:i[i.length-1],descendant:c}),kn(i,0,u),i.compoundCount++,c}if(i.currentSubject===o){var f={checks:[]},m={checks:[]},v={checks:[]},y={checks:[]},b={checks:[]};return f.checks.push({type:19,left:i[i.length-1],right:m,subject:v}),v.checks=o.checks,o.checks=[{type:20}],b.checks.push({type:20}),m.checks.push({type:18,ancestor:b,descendant:y}),kn(i,0,f),i.currentSubject=v,i.compoundCount++,y}var D={checks:[]},C={checks:[]},_=[{type:18,ancestor:D,descendant:C}];return D.checks=o.checks,o.checks=_,i.compoundCount++,C}},{name:"subject",modifier:!0,regex:It.subject,populate:function(i,o){if(null!=i.currentSubject&&i.currentSubject!==o)return qt("Redefinition of subject in selector `"+i.toString()+"`"),!1;i.currentSubject=o;var c=i[i.length-1].checks[0],d=null==c?null:c.type;11===d?c.type=13:10===d&&(c.type=14,c.node=c.nodes[1],c.neighbor=c.nodes[0],c.nodes=null)}}];td.forEach(function(s){return s.regexObj=new RegExp("^"+s.regex)});var nd=function(i){for(var o,u,c,d=0;d<td.length;d++){var f=td[d],g=f.name,m=i.match(f.regexObj);if(null!=m){u=m,o=f,c=g,i=i.substring(m[0].length);break}}return{expr:o,match:u,name:c,remaining:i}},rd={parse:function(i){var o=this,u=o.inputText=i,c=o[0]={checks:[]};for(o.length=1,u=function(i){var o=i.match(/^\s+/);return o&&(i=i.substring(o[0].length)),i}(u);;){var d=nd(u);if(null==d.expr)return qt("The selector `"+i+"`is invalid"),!1;var f=d.match.slice(1),g=d.expr.populate(o,c,f);if(!1===g)return!1;if(null!=g&&(c=g),(u=d.remaining).match(/^\s*$/))break}var m=o[o.length-1];null!=o.currentSubject&&(m.subject=o.currentSubject),m.edgeCount=o.edgeCount,m.compoundCount=o.compoundCount;for(var v=0;v<o.length;v++){var y=o[v];if(y.compoundCount>0&&y.edgeCount>0)return qt("The selector `"+i+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(y.edgeCount>1)return qt("The selector `"+i+"` is invalid because it uses multiple edge selectors"),!1;1===y.edgeCount&&qt("The selector `"+i+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var i=function(y){return null==y?"":y},o=function(y){return le(y)?'"'+y+'"':i(y)},u=function(y){return" "+y+" "},d=function(y,b){return y.checks.reduce(function(D,C,_){return D+(b===y&&0===_?"$":"")+function(y,b){var C=y.value;switch(y.type){case 0:var _=i(C);return _.substring(0,_.length-1);case 3:return"["+y.field+u(i(y.operator))+o(C)+"]";case 5:var P=y.field;return"["+i(y.operator)+P+"]";case 4:return"["+y.field+"]";case 6:return"[["+y.field+u(i(y.operator))+o(C)+"]]";case 7:return C;case 8:return"#"+C;case 9:return"."+C;case 17:case 15:return d(y.parent,b)+u(">")+d(y.child,b);case 18:case 16:return d(y.ancestor,b)+" "+d(y.descendant,b);case 19:var U=d(y.left,b),R=d(y.subject,b),V=d(y.right,b);return U+(U.length>0?" ":"")+R+V;case 20:return""}}(C,b)},"")},f="",g=0;g<this.length;g++){var m=this[g];f+=d(m,m.subject),this.length>1&&g<this.length-1&&(f+=", ")}return this.toStringCache=f,f}},nh=function(i,o,u){var c,m,v,d=le(i),f=Ce(i),g=le(u),y=!1,b=!1,D=!1;switch(o.indexOf("!")>=0&&(o=o.replace("!",""),b=!0),o.indexOf("@")>=0&&(o=o.replace("@",""),y=!0),(d||g||y)&&(m=d||f?""+i:"",v=""+u),y&&(i=m=m.toLowerCase(),u=v=v.toLowerCase()),o){case"*=":c=m.indexOf(v)>=0;break;case"$=":c=m.indexOf(v,m.length-v.length)>=0;break;case"^=":c=0===m.indexOf(v);break;case"=":c=i===u;break;case">":D=!0,c=i>u;break;case">=":D=!0,c=i>=u;break;case"<":D=!0,c=i<u;break;case"<=":D=!0,c=i<=u;break;default:c=!1}return b&&(null!=i||!D)&&(c=!c),c},al=function(i,o){return i.data(o)},mn=[],Xt=function(i,o){return i.checks.every(function(u){return mn[u.type](u,o)})};mn[0]=function(s,i){var o=s.value;return"*"===o||o===i.group()},mn[7]=function(s,i){return function(i,o){return Tn[i](o)}(s.value,i)},mn[8]=function(s,i){var o=s.value;return i.id()===o},mn[9]=function(s,i){return i.hasClass(s.value)},mn[6]=function(s,i){var u=s.operator,c=s.value;return nh(function(i,o){return i[o]()}(i,s.field),u,c)},mn[3]=function(s,i){var u=s.operator,c=s.value;return nh(al(i,s.field),u,c)},mn[5]=function(s,i){var u=s.operator;return function(i,o){switch(o){case"?":return!!i;case"!":return!i;case"^":return void 0===i}}(al(i,s.field),u)},mn[4]=function(s,i){return function(i){return void 0!==i}(al(i,s.field))},mn[10]=function(s,i){var o=s.nodes[0],u=s.nodes[1],c=i.source(),d=i.target();return Xt(o,c)&&Xt(u,d)||Xt(u,c)&&Xt(o,d)},mn[14]=function(s,i){return Xt(s.node,i)&&i.neighborhood().some(function(o){return o.isNode()&&Xt(s.neighbor,o)})},mn[11]=function(s,i){return Xt(s.source,i.source())&&Xt(s.target,i.target())},mn[12]=function(s,i){return Xt(s.source,i)&&i.outgoers().some(function(o){return o.isNode()&&Xt(s.target,o)})},mn[13]=function(s,i){return Xt(s.target,i)&&i.incomers().some(function(o){return o.isNode()&&Xt(s.source,o)})},mn[15]=function(s,i){return Xt(s.child,i)&&Xt(s.parent,i.parent())},mn[17]=function(s,i){return Xt(s.parent,i)&&i.children().some(function(o){return Xt(s.child,o)})},mn[16]=function(s,i){return Xt(s.descendant,i)&&i.ancestors().some(function(o){return Xt(s.ancestor,o)})},mn[18]=function(s,i){return Xt(s.ancestor,i)&&i.descendants().some(function(o){return Xt(s.descendant,o)})},mn[19]=function(s,i){return Xt(s.subject,i)&&Xt(s.left,i)&&Xt(s.right,i)},mn[20]=function(){return!0},mn[1]=function(s,i){return s.value.has(i)},mn[2]=function(s,i){return(0,s.value)(i)};var ih={matches:function(i){for(var u=0;u<this.length;u++)if(Xt(this[u],i))return!0;return!1},filter:function(i){var o=this;if(1===o.length&&1===o[0].checks.length&&8===o[0].checks[0].type)return i.getElementById(o[0].checks[0].value).collection();var u=function(d){for(var f=0;f<o.length;f++)if(Xt(o[f],d))return!0;return!1};return null==o.text()&&(u=function(){return!0}),i.filter(u)}},ka=function(i){this.inputText=i,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==i||le(i)&&i.match(/^\s*$/)||(Nt(i)?this.addQuery({checks:[{type:1,value:i.collection()}]}):He(i)?this.addQuery({checks:[{type:2,value:i}]}):le(i)?this.parse(i)||(this.invalid=!0):$t("A selector must be created from a string; found "))},Fa=ka.prototype;[rd,ih].forEach(function(s){return Ge(Fa,s)}),Fa.text=function(){return this.inputText},Fa.size=function(){return this.length},Fa.eq=function(s){return this[s]},Fa.sameText=function(s){return!this.invalid&&!s.invalid&&this.text()===s.text()},Fa.addQuery=function(s){this[this.length++]=s},Fa.selector=Fa.toString;var me={allAre:function(i){var o=new ka(i);return this.every(function(u){return o.matches(u)})},is:function(i){var o=new ka(i);return this.some(function(u){return o.matches(u)})},some:function(i,o){for(var u=0;u<this.length;u++)if(o?i.apply(o,[this[u],u,this]):i(this[u],u,this))return!0;return!1},every:function(i,o){for(var u=0;u<this.length;u++)if(!(o?i.apply(o,[this[u],u,this]):i(this[u],u,this)))return!1;return!0},same:function(i){if(this===i)return!0;i=this.cy().collection(i);var o=this.length;return o===i.length&&(1===o?this[0]===i[0]:this.every(function(c){return i.hasElementWithId(c.id())}))},anySame:function(i){return i=this.cy().collection(i),this.some(function(o){return i.hasElementWithId(o.id())})},allAreNeighbors:function(i){i=this.cy().collection(i);var o=this.neighborhood();return i.every(function(u){return o.hasElementWithId(u.id())})},contains:function(i){i=this.cy().collection(i);var o=this;return i.every(function(u){return o.hasElementWithId(u.id())})}};me.allAreNeighbours=me.allAreNeighbors,me.has=me.contains,me.equal=me.equals=me.same;var _s,vu,rt=function(i,o){return function(c,d,f,g){var y,m=c,v=this;if(null==m?y="":Nt(m)&&1===m.length&&(y=m.id()),1===v.length&&y){var b=v[0]._private,D=b.traversalCache=b.traversalCache||{},C=D[o]=D[o]||[],_=hs(y);return C[_]||(C[_]=i.call(v,c,d,f,g))}return i.call(v,c,d,f,g)}},Cs={parent:function(i){var o=[];if(1===this.length){var u=this[0]._private.parent;if(u)return u}for(var c=0;c<this.length;c++){var f=this[c]._private.parent;f&&o.push(f)}return this.spawn(o,!0).filter(i)},parents:function(i){for(var o=[],u=this.parent();u.nonempty();){for(var c=0;c<u.length;c++)o.push(u[c]);u=u.parent()}return this.spawn(o,!0).filter(i)},commonAncestors:function(i){for(var o,u=0;u<this.length;u++){var d=this[u].parents();o=(o=o||d).intersect(d)}return o.filter(i)},orphans:function(i){return this.stdFilter(function(o){return o.isOrphan()}).filter(i)},nonorphans:function(i){return this.stdFilter(function(o){return o.isChild()}).filter(i)},children:rt(function(s){for(var i=[],o=0;o<this.length;o++)for(var c=this[o]._private.children,d=0;d<c.length;d++)i.push(c[d]);return this.spawn(i,!0).filter(s)},"children"),siblings:function(i){return this.parent().children().not(this).filter(i)},isParent:function(){var i=this[0];if(i)return i.isNode()&&0!==i._private.children.length},isChildless:function(){var i=this[0];if(i)return i.isNode()&&0===i._private.children.length},isChild:function(){var i=this[0];if(i)return i.isNode()&&null!=i._private.parent},isOrphan:function(){var i=this[0];if(i)return i.isNode()&&null==i._private.parent},descendants:function(i){var o=[];return function u(c){for(var d=0;d<c.length;d++){var f=c[d];o.push(f),f.children().nonempty()&&u(f.children())}}(this.children()),this.spawn(o,!0).filter(i)}};function yn(s,i,o,u){for(var c=[],d=new Ji,g=s.cy().hasCompoundNodes(),m=0;m<s.length;m++){var v=s[m];o?c.push(v):g&&u(c,d,v)}for(;c.length>0;){var y=c.shift();i(y),d.add(y.id()),g&&u(c,d,y)}return s}function id(s,i,o){if(o.isParent())for(var u=o._private.children,c=0;c<u.length;c++){var d=u[c];i.has(d.id())||s.push(d)}}function co(s,i,o){if(o.isChild()){var u=o._private.parent;i.has(u.id())||s.push(u)}}function Pi(s,i,o){co(s,i,o),id(s,i,o)}Cs.forEachDown=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yn(this,s,i,id)},Cs.forEachUp=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yn(this,s,i,co)},Cs.forEachUpAndDown=function(s){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return yn(this,s,i,Pi)},Cs.ancestors=Cs.parents,_s=vu={data:xt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:xt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:xt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:xt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:xt.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:xt.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var i=this[0];if(i)return i._private.data.id}},_s.attr=_s.data,_s.removeAttr=_s.removeData;var nb=vu,mu={};function fo(s){return function(i){var o=this;if(void 0===i&&(i=!0),0===o.length);else if(o.isNode()&&!o.removed()){for(var u=0,c=o[0],d=c._private.edges,f=0;f<d.length;f++){var g=d[f];!i&&g.isLoop()||(u+=s(c,g))}return u}}}function ra(s,i){return function(o){for(var u,c=this.nodes(),d=0;d<c.length;d++){var g=c[d][s](o);void 0!==g&&(void 0===u||i(g,u))&&(u=g)}return u}}Ge(mu,{degree:fo(function(s,i){return i.source().same(i.target())?2:1}),indegree:fo(function(s,i){return i.target().same(s)?1:0}),outdegree:fo(function(s,i){return i.source().same(s)?1:0})}),Ge(mu,{minDegree:ra("degree",function(s,i){return s<i}),maxDegree:ra("degree",function(s,i){return s>i}),minIndegree:ra("indegree",function(s,i){return s<i}),maxIndegree:ra("indegree",function(s,i){return s>i}),minOutdegree:ra("outdegree",function(s,i){return s<i}),maxOutdegree:ra("outdegree",function(s,i){return s>i})}),Ge(mu,{totalDegree:function(i){for(var o=0,u=this.nodes(),c=0;c<u.length;c++)o+=u[c].degree(i);return o}});var Jt,Ri,ad=function(i,o,u){for(var c=0;c<i.length;c++){var d=i[c];if(!d.locked()){var f=d._private.position,g={x:null!=o.x?o.x-f.x:0,y:null!=o.y?o.y-f.y:0};d.isParent()&&!(0===g.x&&0===g.y)&&d.children().shift(g,u),d.dirtyBoundingBoxCache()}}},Ss={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(i){i.updateCompoundBounds()},beforeSet:function(i,o){ad(i,o,!1)},onSet:function(i){i.dirtyCompoundBoundsCache()},canSet:function(i){return!i.locked()}};Jt=Ri={position:xt.data(Ss),silentPosition:xt.data(Ge({},Ss,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(i,o){ad(i,o,!0)},onSet:function(i){i.dirtyCompoundBoundsCache()}})),positions:function(i,o){if(Fe(i))o?this.silentPosition(i):this.position(i);else if(He(i)){var u=i,c=this.cy();c.startBatch();for(var d=0;d<this.length;d++){var g,f=this[d];(g=u(f,d))&&(o?f.silentPosition(g):f.position(g))}c.endBatch()}return this},silentPositions:function(i){return this.positions(i,!0)},shift:function(i,o,u){var c;if(Fe(i)?(c={x:Ce(i.x)?i.x:0,y:Ce(i.y)?i.y:0},u=o):le(i)&&Ce(o)&&((c={x:0,y:0})[i]=o),null!=c){var d=this.cy();d.startBatch();for(var f=0;f<this.length;f++){var g=this[f],m=g.position(),v={x:m.x+c.x,y:m.y+c.y};u?g.silentPosition(v):g.position(v)}d.endBatch()}return this},silentShift:function(i,o){return Fe(i)?this.shift(i,!0):le(i)&&Ce(o)&&this.shift(i,o,!0),this},renderedPosition:function(i,o){var u=this[0],c=this.cy(),d=c.zoom(),f=c.pan(),g=Fe(i)?i:void 0,m=void 0!==g||void 0!==o&&le(i);if(u&&u.isNode()){if(!m){var b=u.position();return g=$c(b,d,f),void 0===i?g:g[i]}for(var v=0;v<this.length;v++){var y=this[v];void 0!==o?y.position(i,(o-f[i])/d):void 0!==g&&y.position(Jg(g,d,f))}}else if(!m)return;return this},relativePosition:function(i,o){var u=this[0],c=this.cy(),d=Fe(i)?i:void 0,f=void 0!==d||void 0!==o&&le(i),g=c.hasCompoundNodes();if(u&&u.isNode()){if(!f){var _=u.position(),S=g?u.parent():null,A=S&&S.length>0;A&&(S=S[0]);var P=A?S.position():{x:0,y:0};return d={x:_.x-P.x,y:_.y-P.y},void 0===i?d:d[i]}for(var m=0;m<this.length;m++){var v=this[m],y=g?v.parent():null,b=y&&y.length>0;b&&(y=y[0]);var C=b?y.position():{x:0,y:0};void 0!==o?v.position(i,o+C[i]):void 0!==d&&v.position({x:d.x+C.x,y:d.y+C.y})}}else if(!f)return;return this}},Jt.modelPosition=Jt.point=Jt.position,Jt.modelPositions=Jt.points=Jt.positions,Jt.renderedPoint=Jt.renderedPosition,Jt.relativePoint=Jt.relativePosition;var ho,aa,ia=Ri;ho=aa={},aa.renderedBoundingBox=function(s){var i=this.boundingBox(s),o=this.cy(),u=o.zoom(),c=o.pan(),d=i.x1*u+c.x,f=i.x2*u+c.x,g=i.y1*u+c.y,m=i.y2*u+c.y;return{x1:d,x2:f,y1:g,y2:m,w:f-d,h:m-g}},aa.dirtyCompoundBoundsCache=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();return i.styleEnabled()&&i.hasCompoundNodes()?(this.forEachUp(function(o){if(o.isParent()){var u=o._private;u.compoundBoundsClean=!1,u.bbCache=null,s||o.emitAndNotify("bounds")}}),this):this},aa.updateCompoundBounds=function(){var s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.cy();if(!i.styleEnabled()||!i.hasCompoundNodes())return this;if(!s&&i.batching())return this;function o(f){if(f.isParent()){var g=f._private,m=f.children(),v="include"===f.pstyle("compound-sizing-wrt-labels").value,y={width:{val:f.pstyle("min-width").pfValue,left:f.pstyle("min-width-bias-left"),right:f.pstyle("min-width-bias-right")},height:{val:f.pstyle("min-height").pfValue,top:f.pstyle("min-height-bias-top"),bottom:f.pstyle("min-height-bias-bottom")}},b=m.boundingBox({includeLabels:v,includeOverlays:!1,useCache:!1}),D=g.position;(0===b.w||0===b.h)&&((b={w:f.pstyle("width").pfValue,h:f.pstyle("height").pfValue}).x1=D.x-b.w/2,b.x2=D.x+b.w/2,b.y1=D.y-b.h/2,b.y2=D.y+b.h/2);var S=y.width.left.value;"px"===y.width.left.units&&y.width.val>0&&(S=100*S/y.width.val);var A=y.width.right.value;"px"===y.width.right.units&&y.width.val>0&&(A=100*A/y.width.val);var M=y.height.top.value;"px"===y.height.top.units&&y.height.val>0&&(M=100*M/y.height.val);var P=y.height.bottom.value;"px"===y.height.bottom.units&&y.height.val>0&&(P=100*P/y.height.val);var I=C(y.width.val-b.w,S,A),N=I.biasDiff,B=I.biasComplementDiff,U=C(y.height.val-b.h,M,P),R=U.biasDiff,V=U.biasComplementDiff;g.autoPadding=function(F,j,z,L){if("%"!==z.units)return"px"===z.units?z.pfValue:0;switch(L){case"width":return F>0?z.pfValue*F:0;case"height":return j>0?z.pfValue*j:0;case"average":return F>0&&j>0?z.pfValue*(F+j)/2:0;case"min":return F>0&&j>0?F>j?z.pfValue*j:z.pfValue*F:0;case"max":return F>0&&j>0?F>j?z.pfValue*F:z.pfValue*j:0;default:return 0}}(b.w,b.h,f.pstyle("padding"),f.pstyle("padding-relative-to").value),g.autoWidth=Math.max(b.w,y.width.val),D.x=(-N+b.x1+b.x2+B)/2,g.autoHeight=Math.max(b.h,y.height.val),D.y=(-R+b.y1+b.y2+V)/2}function C(F,j,z){var L=0,q=0,$=j+z;return F>0&&$>0&&(L=j/$*F,q=z/$*F),{biasDiff:L,biasComplementDiff:q}}}for(var u=0;u<this.length;u++){var c=this[u],d=c._private;(!d.compoundBoundsClean||s)&&(o(c),i.batching()||(d.compoundBoundsClean=!0))}return this};var ei=function(i){return i===1/0||i===-1/0?0:i},pi=function(i,o,u,c,d){c-o==0||d-u==0||null==o||null==u||null==c||null==d||(i.x1=o<i.x1?o:i.x1,i.x2=c>i.x2?c:i.x2,i.y1=u<i.y1?u:i.y1,i.y2=d>i.y2?d:i.y2,i.w=i.x2-i.x1,i.h=i.y2-i.y1)},sa=function(i,o){return null==o?i:pi(i,o.x1,o.y1,o.x2,o.y2)},Ts=function(i,o,u){return ci(i,o,u)},sl=function(i,o,u){if(!o.cy().headless()){var m,v,c=o._private,d=c.rstyle,f=d.arrowWidth/2;if("none"!==o.pstyle(u+"-arrow-shape").value){"source"===u?(m=d.srcX,v=d.srcY):"target"===u?(m=d.tgtX,v=d.tgtY):(m=d.midX,v=d.midY);var y=c.arrowBounds=c.arrowBounds||{},b=y[u]=y[u]||{};b.x1=m-f,b.y1=v-f,b.x2=m+f,b.y2=v+f,b.w=b.x2-b.x1,b.h=b.y2-b.y1,cr(b,1),pi(i,b.x1,b.y1,b.x2,b.y2)}}},ol=function(i,o,u){if(!o.cy().headless()){var c,d=o._private,f=d.rstyle;if(o.pstyle((c=u?u+"-":"")+"label").strValue){var z,L,q,$,m=o.pstyle("text-halign"),v=o.pstyle("text-valign"),y=Ts(f,"labelWidth",u),b=Ts(f,"labelHeight",u),D=Ts(f,"labelX",u),C=Ts(f,"labelY",u),_=o.pstyle(c+"text-margin-x").pfValue,S=o.pstyle(c+"text-margin-y").pfValue,A=o.isEdge(),M=o.pstyle(c+"text-rotation"),P=o.pstyle("text-outline-width").pfValue,N=o.pstyle("text-border-width").pfValue/2,B=o.pstyle("text-background-padding").pfValue,R=b,V=y,F=V/2,j=R/2;if(A)z=D-F,L=D+F,q=C-j,$=C+j;else{switch(m.value){case"left":z=D-V,L=D;break;case"center":z=D-F,L=D+F;break;case"right":z=D,L=D+V}switch(v.value){case"top":q=C-R,$=C;break;case"center":q=C-j,$=C+j;break;case"bottom":q=C,$=C+R}}z+=_-Math.max(P,N)-B-2,L+=_+Math.max(P,N)+B+2,q+=S-Math.max(P,N)-B-2,$+=S+Math.max(P,N)+B+2;var Z=u||"main",W=d.labelBounds,X=W[Z]=W[Z]||{};X.x1=z,X.y1=q,X.x2=L,X.y2=$,X.w=L-z,X.h=$-q;var K=A&&"autorotate"===M.strValue;if(K||null!=M.pfValue&&0!==M.pfValue){var ae=K?Ts(d.rstyle,"labelAngle",u):M.pfValue,ee=Math.cos(ae),ie=Math.sin(ae),de=(z+L)/2,ve=(q+$)/2;if(!A){switch(m.value){case"left":de=L;break;case"right":de=z}switch(v.value){case"top":ve=$;break;case"bottom":ve=q}}var he=function(it,xe){return{x:(it-=de)*ee-(xe-=ve)*ie+de,y:it*ie+xe*ee+ve}},se=he(z,q),Y=he(z,$),oe=he(L,q),pe=he(L,$);z=Math.min(se.x,Y.x,oe.x,pe.x),L=Math.max(se.x,Y.x,oe.x,pe.x),q=Math.min(se.y,Y.y,oe.y,pe.y),$=Math.max(se.y,Y.y,oe.y,pe.y)}var Ee=Z+"Rot",Me=W[Ee]=W[Ee]||{};Me.x1=z,Me.y1=q,Me.x2=L,Me.y2=$,Me.w=L-z,Me.h=$-q,pi(i,z,q,L,$),pi(d.labelBounds.all,z,q,L,$)}return i}},sd=function(i){var o=0,u=function(f){return(f?1:0)<<o++},c=0;return c+=u(i.incudeNodes),c+=u(i.includeEdges),c+=u(i.includeLabels),c+=u(i.includeMainLabels),c+=u(i.includeSourceLabels),(c+=u(i.includeTargetLabels))+u(i.includeOverlays)},ll=function(i){if(i.isEdge()){var o=i.source().position(),u=i.target().position(),c=function(f){return Math.round(f)};return function(i,o){var u={value:0,done:!1},c=0,d=i.length;return kc({next:function(){return c<d?u.value=i[c++]:u.done=!0,u}},void 0)}([c(o.x),c(o.y),c(u.x),c(u.y)])}return 0},od=function(i,o){var c,u=i._private,d=i.isEdge(),g=(null==o?ld:sd(o))===ld,m=ll(i),v=u.bbCachePosKey===m,y=o.useCache&&v,b=function(S){return null==S._private.bbCache||S._private.styleDirty};if(!y||b(i)||d&&b(i.source())||b(i.target())?(v||i.recalculateRenderedStyle(y),c=function(i,o){var y,b,D,C,_,S,u=i._private.cy,c=u.styleEnabled(),d=u.headless(),f=Rr(),g=i._private,m=i.isNode(),v=i.isEdge(),A=g.rstyle,M=m&&c?i.pstyle("bounds-expansion").pfValue:[0],P=function(it){return"none"!==it.pstyle("display").value},I=!c||P(i)&&(!v||P(i.source())&&P(i.target()));if(I){var B=0;c&&o.includeOverlays&&0!==i.pstyle("overlay-opacity").value&&(B=i.pstyle("overlay-padding").value);var R=0;if(c&&(R=i.pstyle("width").pfValue/2),m&&o.includeNodes){var V=i.position();_=V.x,S=V.y;var j=i.outerWidth()/2,L=i.outerHeight()/2;pi(f,y=_-j,D=S-L,b=_+j,C=S+L)}else if(v&&o.includeEdges)if(c&&!d){var q=i.pstyle("curve-style").strValue;if(y=Math.min(A.srcX,A.midX,A.tgtX),b=Math.max(A.srcX,A.midX,A.tgtX),D=Math.min(A.srcY,A.midY,A.tgtY),C=Math.max(A.srcY,A.midY,A.tgtY),pi(f,y-=R,D-=R,b+=R,C+=R),"haystack"===q){var $=A.haystackPts;if($&&2===$.length){if((y=$[0].x)>(b=$[1].x)){var Z=y;y=b,b=Z}if((D=$[0].y)>(C=$[1].y)){var W=D;D=C,C=W}pi(f,y-R,D-R,b+R,C+R)}}else if("bezier"===q||"unbundled-bezier"===q||"segments"===q||"taxi"===q){var X;switch(q){case"bezier":case"unbundled-bezier":X=A.bezierPts;break;case"segments":case"taxi":X=A.linePts}if(null!=X)for(var K=0;K<X.length;K++){var Q=X[K];pi(f,y=Q.x-R,D=Q.y-R,b=Q.x+R,C=Q.y+R)}}}else{var ee=i.source().position(),de=i.target().position();if((y=ee.x)>(b=de.x)){var ve=y;y=b,b=ve}if((D=ee.y)>(C=de.y)){var he=D;D=C,C=he}pi(f,y-=R,D-=R,b+=R,C+=R)}if(c&&o.includeEdges&&v&&(sl(f,i,"mid-source"),sl(f,i,"mid-target"),sl(f,i,"source"),sl(f,i,"target")),c&&"yes"===i.pstyle("ghost").value){var Y=i.pstyle("ghost-offset-x").pfValue,oe=i.pstyle("ghost-offset-y").pfValue;pi(f,f.x1+Y,f.y1+oe,f.x2+Y,f.y2+oe)}var pe=g.bodyBounds=g.bodyBounds||{};zc(pe,f),Jo(pe,M),cr(pe,1),c&&pi(f,(y=f.x1)-B,(D=f.y1)-B,(b=f.x2)+B,(C=f.y2)+B);var Ee=g.overlayBounds=g.overlayBounds||{};zc(Ee,f),Jo(Ee,M),cr(Ee,1);var Me=g.labelBounds=g.labelBounds||{};null!=Me.all?function(i){i.x1=1/0,i.y1=1/0,i.x2=-1/0,i.y2=-1/0,i.w=0,i.h=0}(Me.all):Me.all=Rr(),c&&o.includeLabels&&(o.includeMainLabels&&ol(f,i,null),v&&(o.includeSourceLabels&&ol(f,i,"source"),o.includeTargetLabels&&ol(f,i,"target")))}return f.x1=ei(f.x1),f.y1=ei(f.y1),f.x2=ei(f.x2),f.y2=ei(f.y2),f.w=ei(f.x2-f.x1),f.h=ei(f.y2-f.y1),f.w>0&&f.h>0&&I&&(Jo(f,M),cr(f,1)),f}(i,po),u.bbCache=c,u.bbCachePosKey=m):c=u.bbCache,!g){var C=i.isNode();c=Rr(),(o.includeNodes&&C||o.includeEdges&&!C)&&sa(c,o.includeOverlays?u.overlayBounds:u.bodyBounds),o.includeLabels&&(o.includeMainLabels&&(!d||o.includeSourceLabels&&o.includeTargetLabels)?sa(c,u.labelBounds.all):(o.includeMainLabels&&sa(c,u.labelBounds.mainRot),o.includeSourceLabels&&sa(c,u.labelBounds.sourceRot),o.includeTargetLabels&&sa(c,u.labelBounds.targetRot))),c.w=c.x2-c.x1,c.h=c.y2-c.y1}return c},po={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},ld=sd(po),ud=Hn(po);aa.boundingBox=function(s){var i;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==s&&void 0!==s.useCache&&!0!==s.useCache){i=Rr();var o=ud(s=s||po),u=this;if(u.cy().styleEnabled())for(var f=0;f<u.length;f++){var g=u[f],m=g._private,v=ll(g);g.recalculateRenderedStyle(o.useCache&&m.bbCachePosKey===v&&!m.styleDirty)}this.updateCompoundBounds(!s.useCache);for(var D=0;D<u.length;D++)sa(i,od(u[D],o))}else s=void 0===s?po:ud(s),i=od(this[0],s);return i.x1=ei(i.x1),i.y1=ei(i.y1),i.x2=ei(i.x2),i.y2=ei(i.y2),i.w=ei(i.x2-i.x1),i.h=ei(i.y2-i.y1),i},aa.dirtyBoundingBoxCache=function(){for(var s=0;s<this.length;s++){var i=this[s]._private;i.bbCache=null,i.bbCachePosKey=null,i.bodyBounds=null,i.overlayBounds=null,i.labelBounds.all=null,i.labelBounds.source=null,i.labelBounds.target=null,i.labelBounds.main=null,i.labelBounds.sourceRot=null,i.labelBounds.targetRot=null,i.labelBounds.mainRot=null,i.arrowBounds.source=null,i.arrowBounds.target=null,i.arrowBounds["mid-source"]=null,i.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},aa.boundingBoxAt=function(s){var i=this.nodes(),o=this.cy(),u=o.hasCompoundNodes(),c=o.collection();if(u&&(c=i.filter(function(v){return v.isParent()}),i=i.not(c)),Fe(s)){var d=s;s=function(){return d}}o.startBatch(),i.forEach(function(y,b){return y._private.bbAtOldPos=s(y,b)}).silentPositions(s),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0));var m=function(i){return{x1:i.x1,x2:i.x2,w:i.w,y1:i.y1,y2:i.y2,h:i.h}}(this.boundingBox({useCache:!1}));return i.silentPositions(function(y){return y._private.bbAtOldPos}),u&&(c.dirtyCompoundBoundsCache(),c.dirtyBoundingBoxCache(),c.updateCompoundBounds(!0)),o.endBatch(),m},ho.boundingbox=ho.bb=ho.boundingBox,ho.renderedBoundingbox=ho.renderedBoundingBox;var ul,cl,yu=aa;ul=cl={};var nr=function(i){i.uppercaseName=cs(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=cs(i.outerName),ul[i.name]=function(){var u=this[0],c=u._private;if(u){if(c.cy._private.styleEnabled){if(u.isParent())return u.updateCompoundBounds(),c[i.autoName]||0;var g=u.pstyle(i.name);return"label"===g.strValue?(u.recalculateRenderedStyle(),c.rstyle[i.labelName]||0):g.pfValue}return 1}},ul["outer"+i.uppercaseName]=function(){var u=this[0];if(u)return u._private.cy._private.styleEnabled?u[i.name]()+u.pstyle("border-width").pfValue+2*u.padding():1},ul["rendered"+i.uppercaseName]=function(){var u=this[0];if(u)return u[i.name]()*this.cy().zoom()},ul["rendered"+i.uppercaseOuterName]=function(){var u=this[0];if(u)return u[i.outerName]()*this.cy().zoom()}};nr({name:"width"}),nr({name:"height"}),cl.padding=function(){var s=this[0],i=s._private;return s.isParent()?(s.updateCompoundBounds(),void 0!==i.autoPadding?i.autoPadding:s.pstyle("padding").pfValue):s.pstyle("padding").pfValue},cl.paddedHeight=function(){var s=this[0];return s.height()+2*s.padding()},cl.paddedWidth=function(){var s=this[0];return s.width()+2*s.padding()};var Oa=cl,dl={controlPoints:{get:function(i){return i.renderer().getControlPoints(i)},mult:!0},segmentPoints:{get:function(i){return i.renderer().getSegmentPoints(i)},mult:!0},sourceEndpoint:{get:function(i){return i.renderer().getSourceEndpoint(i)}},targetEndpoint:{get:function(i){return i.renderer().getTargetEndpoint(i)}},midpoint:{get:function(i){return i.renderer().getEdgeMidpoint(i)}}},cd=Object.keys(dl).reduce(function(s,i){var o=dl[i],u=function(i){return"rendered"+i[0].toUpperCase()+i.substr(1)}(i);return s[i]=function(){return function(i,o){if(i.isEdge())return o(i)}(this,o.get)},s[u]=o.mult?function(){return function(i,o){if(i.isEdge()){var u=i.cy(),c=u.pan(),d=u.zoom();return o(i).map(function(f){return $c(f,d,c)})}}(this,o.get)}:function(){return function(i,o){if(i.isEdge()){var u=i.cy();return $c(o(i),u.zoom(),u.pan())}}(this,o.get)},s},{}),ah=Ge({},ia,yu,Oa,cd),sh=function(i,o){this.recycle(i,o)};function ti(){return!1}function La(){return!0}sh.prototype={instanceString:function(){return"event"},recycle:function(i,o){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ti,null!=i&&i.preventDefault?(this.type=i.type,this.isDefaultPrevented=i.defaultPrevented?La:ti):null!=i&&i.type?o=i:this.type=i,null!=o&&(this.originalEvent=o.originalEvent,this.type=null!=o.type?o.type:this.type,this.cy=o.cy,this.target=o.target,this.position=o.position,this.renderedPosition=o.renderedPosition,this.namespace=o.namespace,this.layout=o.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var u=this.position,c=this.cy.zoom(),d=this.cy.pan();this.renderedPosition={x:u.x*c+d.x,y:u.y*c+d.y}}this.timeStamp=i&&i.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=La;var i=this.originalEvent;!i||i.preventDefault&&i.preventDefault()},stopPropagation:function(){this.isPropagationStopped=La;var i=this.originalEvent;!i||i.stopPropagation&&i.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=La,this.stopPropagation()},isDefaultPrevented:ti,isPropagationStopped:ti,isImmediatePropagationStopped:ti};var oh=/^([^.]+)(\.(?:[^.]+))?$/,go={qualifierCompare:function(i,o){return i===o},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(i){return i},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Eu=Object.keys(go),xv={};function Du(){for(var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xv,i=arguments.length>1?arguments[1]:void 0,o=0;o<Eu.length;o++){var u=Eu[o];this[u]=s[u]||go[u]}this.context=i||this.context,this.listeners=[],this.emitting=0}var As=Du.prototype,Iv=function(i,o,u,c,d,f,g){He(c)&&(d=c,c=null),g&&(f=null==f?g:Ge({},f,g));for(var m=Ve(u)?u:u.split(/\s+/),v=0;v<m.length;v++){var y=m[v];if(!Vn(y)){var b=y.match(oh);if(b&&!1===o(i,y,b[1],b[2]?b[2]:null,c,d,f))break}}},fl=function(i,o){return i.addEventFields(i.context,o),new sh(o.type,o)};As.on=As.addListener=function(s,i,o,u,c){return Iv(this,function(d,f,g,m,v,y,b){He(y)&&d.listeners.push({event:f,callback:y,type:g,namespace:m,qualifier:v,conf:b})},s,i,o,u,c),this},As.one=function(s,i,o,u){return this.on(s,i,o,u,{one:!0})},As.removeListener=As.off=function(s,i,o,u){var c=this;0!==this.emitting&&(this.listeners=function(i){return i.slice()}(this.listeners));for(var d=this.listeners,f=function(v){var y=d[v];Iv(c,function(b,D,C,_,S,A){if((y.type===C||"*"===s)&&(!_&&".*"!==y.namespace||y.namespace===_)&&(!S||b.qualifierCompare(y.qualifier,S))&&(!A||y.callback===A))return d.splice(v,1),!1},s,i,o,u)},g=d.length-1;g>=0;g--)f(g);return this},As.removeAllListeners=function(){return this.removeListener("*")},As.emit=As.trigger=function(s,i,o){var u=this.listeners,c=u.length;return this.emitting++,Ve(i)||(i=[i]),function(i,o,u){if(function(i){return"event"===ye(i)}(u))o(i,u);else if(Fe(u))o(i,fl(i,u));else for(var c=Ve(u)?u:u.split(/\s+/),d=0;d<c.length;d++){var f=c[d];if(!Vn(f)){var g=f.match(oh);g&&o(i,fl(i,{type:g[1],namespace:g[2]?g[2]:null,target:i.context}))}}}(this,function(d,f){null!=o&&(c=(u=[{event:f.event,type:f.type,namespace:f.namespace,callback:o}]).length);for(var g=function(y){var b=u[y];if(b.type===f.type&&(!b.namespace||b.namespace===f.namespace||".*"===b.namespace)&&d.eventMatches(d.context,b,f)){var D=[f];null!=i&&function(i,o){for(var u=0;u<o.length;u++)i.push(o[u])}(D,i),d.beforeEmit(d.context,b,f),b.conf&&b.conf.one&&(d.listeners=d.listeners.filter(function(S){return S!==b}));var C=d.callbackContext(d.context,b,f),_=b.callback.apply(C,D);d.afterEmit(d.context,b,f),!1===_&&(f.stopPropagation(),f.preventDefault())}},m=0;m<c;m++)g(m);d.bubble(d.context)&&!f.isPropagationStopped()&&d.parent(d.context).emit(f,i)},s),this.emitting--,this};var dd={qualifierCompare:function(i,o){return null==i||null==o?null==i&&null==o:i.sameText(o)},eventMatches:function(i,o,u){var c=o.qualifier;return null==c||i!==u.target&&St(u.target)&&c.matches(u.target)},addEventFields:function(i,o){o.cy=i.cy(),o.target=i},callbackContext:function(i,o,u){return null!=o.qualifier?u.target:i},beforeEmit:function(i,o){o.conf&&o.conf.once&&o.conf.onceCollection.removeListener(o.event,o.qualifier,o.callback)},bubble:function(){return!0},parent:function(i){return i.isChild()?i.parent():i.cy()}},Ms=function(i){return le(i)?new ka(i):i},fd={createEmitter:function(){for(var i=0;i<this.length;i++){var o=this[i],u=o._private;u.emitter||(u.emitter=new Du(dd,o))}return this},emitter:function(){return this._private.emitter},on:function(i,o,u){for(var c=Ms(o),d=0;d<this.length;d++)this[d].emitter().on(i,c,u);return this},removeListener:function(i,o,u){for(var c=Ms(o),d=0;d<this.length;d++)this[d].emitter().removeListener(i,c,u);return this},removeAllListeners:function(){for(var i=0;i<this.length;i++)this[i].emitter().removeAllListeners();return this},one:function(i,o,u){for(var c=Ms(o),d=0;d<this.length;d++)this[d].emitter().one(i,c,u);return this},once:function(i,o,u){for(var c=Ms(o),d=0;d<this.length;d++)this[d].emitter().on(i,c,u,{once:!0,onceCollection:this})},emit:function(i,o){for(var u=0;u<this.length;u++)this[u].emitter().emit(i,o);return this},emitAndNotify:function(i,o){if(0!==this.length)return this.cy().notify(i,this),this.emit(i,o),this}};xt.eventAliasesOn(fd);var hd={nodes:function(i){return this.filter(function(o){return o.isNode()}).filter(i)},edges:function(i){return this.filter(function(o){return o.isEdge()}).filter(i)},byGroup:function(){for(var i=this.spawn(),o=this.spawn(),u=0;u<this.length;u++){var c=this[u];c.isNode()?i.push(c):o.push(c)}return{nodes:i,edges:o}},filter:function(i,o){if(void 0===i)return this;if(le(i)||Nt(i))return new ka(i).filter(this);if(He(i)){for(var u=this.spawn(),c=this,d=0;d<c.length;d++){var f=c[d];(o?i.apply(o,[f,d,c]):i(f,d,c))&&u.push(f)}return u}return this.spawn()},not:function(i){if(i){le(i)&&(i=this.filter(i));for(var o=this.spawn(),u=0;u<this.length;u++){var c=this[u];i.has(c)||o.push(c)}return o}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(i){if(le(i))return this.filter(i);for(var u=this.spawn(),f=this.length<i.length,g=f?this:i,m=f?i:this,v=0;v<g.length;v++){var y=g[v];m.has(y)&&u.push(y)}return u},xor:function(i){var o=this._private.cy;le(i)&&(i=o.$(i));var u=this.spawn(),d=i,f=function(m,v){for(var y=0;y<m.length;y++){var b=m[y];v.hasElementWithId(b._private.data.id)||u.push(b)}};return f(this,d),f(d,this),u},diff:function(i){var o=this._private.cy;le(i)&&(i=o.$(i));var u=this.spawn(),c=this.spawn(),d=this.spawn(),g=i,m=function(y,b,D){for(var C=0;C<y.length;C++){var _=y[C];b.hasElementWithId(_._private.data.id)?d.merge(_):D.push(_)}};return m(this,g,u),m(g,this,c),{left:u,right:c,both:d}},add:function(i){var o=this._private.cy;if(!i)return this;if(le(i)){var u=i;i=o.mutableElements().filter(u)}for(var c=this.spawnSelf(),d=0;d<i.length;d++){var f=i[d];!this.has(f)&&c.push(f)}return c},merge:function(i){var o=this._private,u=o.cy;if(!i)return this;if(i&&le(i)){var c=i;i=u.mutableElements().filter(c)}for(var d=o.map,f=0;f<i.length;f++){var g=i[f],m=g._private.data.id;if(!d.has(m)){var y=this.length++;this[y]=g,d.set(m,{ele:g,index:y})}}return this},unmergeAt:function(i){var u=this[i].id(),d=this._private.map;if(this[i]=void 0,d.delete(u),this.length>1&&i!==this.length-1){var g=this.length-1,m=this[g],v=m._private.data.id;this[g]=void 0,this[i]=m,d.set(v,{ele:m,index:i})}return this.length--,this},unmergeOne:function(i){var d=this._private.map.get((i=i[0])._private.data.id);return d?(this.unmergeAt(d.index),this):this},unmerge:function(i){var o=this._private.cy;if(!i)return this;if(i&&le(i)){var u=i;i=o.mutableElements().filter(u)}for(var c=0;c<i.length;c++)this.unmergeOne(i[c]);return this},unmergeBy:function(i){for(var o=this.length-1;o>=0;o--)i(this[o])&&this.unmergeAt(o);return this},map:function(i,o){for(var u=[],c=this,d=0;d<c.length;d++){var f=c[d],g=o?i.apply(o,[f,d,c]):i(f,d,c);u.push(g)}return u},reduce:function(i,o){for(var u=o,c=this,d=0;d<c.length;d++)u=i(u,c[d],d,c);return u},max:function(i,o){for(var c,u=-1/0,d=this,f=0;f<d.length;f++){var g=d[f],m=o?i.apply(o,[g,f,d]):i(g,f,d);m>u&&(u=m,c=g)}return{value:u,ele:c}},min:function(i,o){for(var c,u=1/0,d=this,f=0;f<d.length;f++){var g=d[f],m=o?i.apply(o,[g,f,d]):i(g,f,d);m<u&&(u=m,c=g)}return{value:u,ele:c}}},bt=hd;bt.u=bt["|"]=bt["+"]=bt.union=bt.or=bt.add,bt["\\"]=bt["!"]=bt["-"]=bt.difference=bt.relativeComplement=bt.subtract=bt.not,bt.n=bt["&"]=bt["."]=bt.and=bt.intersection=bt.intersect,bt["^"]=bt["(+)"]=bt["(-)"]=bt.symmetricDifference=bt.symdiff=bt.xor,bt.fnFilter=bt.filterFn=bt.stdFilter=bt.filter,bt.complement=bt.abscomp=bt.absoluteComplement;var i,xs=function(i,o){var c=i.cy().hasCompoundNodes();function d(y){var b=y.pstyle("z-compound-depth");return"auto"===b.value?c?y.zDepth():0:"bottom"===b.value?-1:"top"===b.value?Fc:0}var f=d(i)-d(o);if(0!==f)return f;function g(y){return"auto"===y.pstyle("z-index-compare").value&&y.isNode()?1:0}var m=g(i)-g(o);if(0!==m)return m;var v=i.pstyle("z-index").value-o.pstyle("z-index").value;return 0!==v?v:i.poolIndex()-o.poolIndex()},vo={forEach:function(i,o){if(He(i))for(var u=this.length,c=0;c<u;c++){var d=this[c];if(!1===(o?i.apply(o,[d,c,this]):i(d,c,this)))break}return this},toArray:function(){for(var i=[],o=0;o<this.length;o++)i.push(this[o]);return i},slice:function(i,o){var u=[],c=this.length;null==o&&(o=c),null==i&&(i=0),i<0&&(i=c+i),o<0&&(o=c+o);for(var d=i;d>=0&&d<o&&d<c;d++)u.push(this[d]);return this.spawn(u)},size:function(){return this.length},eq:function(i){return this[i]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(i){if(!He(i))return this;var o=this.toArray().sort(i);return this.spawn(o)},sortByZIndex:function(){return this.sort(xs)},zDepth:function(){var i=this[0];if(i){var o=i._private;if("nodes"===o.group){var c=o.data.parent?i.parents().size():0;return i.isParent()?c:Fc-1}var f=o.target,g=o.source.zDepth(),m=f.zDepth();return Math.max(g,m,0)}}};vo.each=vo.forEach,i="undefined",("undefined"==typeof Symbol?"undefined":yt(Symbol))!=i&&yt(Symbol.iterator)!=i&&(vo[Symbol.iterator]=function(){var u=this,c={value:void 0,done:!1},d=0,f=this.length;return Gi({next:function(){return d<f?c.value=u[d++]:(c.value=void 0,c.done=!0),c}},Symbol.iterator,function(){return this})});var rb=Hn({nodeDimensionsIncludeLabels:!1}),hl={layoutDimensions:function(i){var o;if(i=rb(i),this.takesUpSpace())if(i.nodeDimensionsIncludeLabels){var u=this.boundingBox();o={w:u.w,h:u.h}}else o={w:this.outerWidth(),h:this.outerHeight()};else o={w:0,h:0};return(0===o.w||0===o.h)&&(o.w=o.h=1),o},layoutPositions:function(i,o,u){var c=this.nodes().filter(function(B){return!B.isParent()}),d=this.cy(),f=o.eles,g=function(U){return U.id()},m=Mt(u,g);i.emit({type:"layoutstart",layout:i}),i.animations=[];var y=o.spacingFactor&&1!==o.spacingFactor,D=function(){if(!y)return null;for(var U=Rr(),R=0;R<c.length;R++){var F=m(c[R],R);Uw(U,F.x,F.y)}return U}(),C=Mt(function(B,U){var R=m(B,U);return y&&(R=function(U,R,V){var F_x=R.x1+R.w/2,F_y=R.y1+R.h/2;return{x:F_x+(V.x-F_x)*U,y:F_y+(V.y-F_y)*U}}(Math.abs(o.spacingFactor),D,R)),null!=o.transform&&(R=o.transform(B,R)),R},g);if(o.animate){for(var _=0;_<c.length;_++){var S=c[_],A=C(S,_);if(null==o.animateFilter||o.animateFilter(S,_)){var P=S.animation({position:A,duration:o.animationDuration,easing:o.animationEasing});i.animations.push(P)}else S.position(A)}if(o.fit){var I=d.animation({fit:{boundingBox:f.boundingBoxAt(C),padding:o.padding},duration:o.animationDuration,easing:o.animationEasing});i.animations.push(I)}else if(void 0!==o.zoom&&void 0!==o.pan){var N=d.animation({zoom:o.zoom,pan:o.pan,duration:o.animationDuration,easing:o.animationEasing});i.animations.push(N)}i.animations.forEach(function(B){return B.play()}),i.one("layoutready",o.ready),i.emit({type:"layoutready",layout:i}),oo.all(i.animations.map(function(B){return B.promise()})).then(function(){i.one("layoutstop",o.stop),i.emit({type:"layoutstop",layout:i})})}else c.positions(C),o.fit&&d.fit(o.eles,o.padding),null!=o.zoom&&d.zoom(o.zoom),o.pan&&d.pan(o.pan),i.one("layoutready",o.ready),i.emit({type:"layoutready",layout:i}),i.one("layoutstop",o.stop),i.emit({type:"layoutstop",layout:i});return this},layout:function(i){return this.cy().makeLayout(Ge({},i,{eles:this}))}};function pd(s,i,o){var d,u=o._private,c=u.styleCache=u.styleCache||[];return null!=(d=c[s])||(d=c[s]=i(o)),d}function _u(s,i){return s=hs(s),function(u){return pd(s,i,u)}}function Su(s,i){s=hs(s);var o=function(c){return i.call(c)};return function(){var c=this[0];if(c)return pd(s,o,c)}}hl.createLayout=hl.makeLayout=hl.layout;var wn={recalculateRenderedStyle:function(i){var o=this.cy(),u=o.renderer(),c=o.styleEnabled();return u&&c&&u.recalculateRenderedStyle(this,i),this},dirtyStyleCache:function(){var u,i=this.cy(),o=function(d){return d._private.styleCache=null};return i.hasCompoundNodes()?((u=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(u.connectedEdges()),u.forEach(o)):this.forEach(function(c){o(c),c.connectedEdges().forEach(o)}),this},updateStyle:function(i){var o=this._private.cy;if(!o.styleEnabled())return this;if(o.batching())return o._private.batchStyleEles.merge(this),this;var d=this;i=!(!i&&void 0!==i),o.hasCompoundNodes()&&(d=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var f=d;return i?f.emitAndNotify("style"):f.emit("style"),d.forEach(function(g){return g._private.styleDirty=!0}),this},cleanStyle:function(){var i=this.cy();if(i.styleEnabled())for(var o=0;o<this.length;o++){var u=this[o];u._private.styleDirty&&(u._private.styleDirty=!1,i.style().apply(u))}},parsedStyle:function(i){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this[0],c=u.cy();if(c.styleEnabled()&&u){this.cleanStyle();var d=u._private.style[i];return null!=d?d:o?c.style().getDefaultProperty(i):null}},numericStyle:function(i){var o=this[0];if(o.cy().styleEnabled()&&o){var u=o.pstyle(i);return void 0!==u.pfValue?u.pfValue:u.value}},numericStyleUnits:function(i){var o=this[0];if(o.cy().styleEnabled()&&o)return o.pstyle(i).units},renderedStyle:function(i){var o=this.cy();if(!o.styleEnabled())return this;var u=this[0];return u?o.style().getRenderedStyle(u,i):void 0},style:function(i,o){var u=this.cy();if(!u.styleEnabled())return this;var d=u.style();if(Fe(i))d.applyBypass(this,i,!1),this.emitAndNotify("style");else if(le(i)){if(void 0===o){var g=this[0];return g?d.getStylePropertyValue(g,i):void 0}d.applyBypass(this,i,o,!1),this.emitAndNotify("style")}else if(void 0===i){var m=this[0];return m?d.getRawStyle(m):void 0}return this},removeStyle:function(i){var o=this.cy();if(!o.styleEnabled())return this;var c=o.style(),d=this;if(void 0===i)for(var f=0;f<d.length;f++)c.removeAllBypasses(d[f],!1);else{i=i.split(/\s+/);for(var m=0;m<d.length;m++)c.removeBypasses(d[m],i,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var i=this.cy();if(!i.styleEnabled())return 1;var o=i.hasCompoundNodes(),u=this[0];if(u){var c=u._private,d=u.pstyle("opacity").value;if(!o)return d;var f=c.data.parent?u.parents():null;if(f)for(var g=0;g<f.length;g++)d*=f[g].pstyle("opacity").value;return d}},transparent:function(){if(!this.cy().styleEnabled())return!1;var o=this[0],u=o.cy().hasCompoundNodes();return o?u?0===o.effectiveOpacity():0===o.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function pl(s,i){var u=s._private.data.parent?s.parents():null;if(u)for(var c=0;c<u.length;c++)if(!i(u[c]))return!1;return!0}function gl(s){var i=s.ok,o=s.edgeOkViaNode||s.ok,u=s.parentOk||s.ok;return function(){var c=this.cy();if(!c.styleEnabled())return!0;var d=this[0],f=c.hasCompoundNodes();if(d){var g=d._private;if(!i(d))return!1;if(d.isNode())return!f||pl(d,u);var m=g.source,v=g.target;return o(m)&&(!f||pl(m,o))&&(m===v||o(v)&&(!f||pl(v,o)))}}}var oa=_u("eleTakesUpSpace",function(s){return"element"===s.pstyle("display").value&&0!==s.width()&&(!s.isNode()||0!==s.height())});wn.takesUpSpace=Su("takesUpSpace",gl({ok:oa}));var Tu=_u("eleInteractive",function(s){return"yes"===s.pstyle("events").value&&"visible"===s.pstyle("visibility").value&&oa(s)}),Rv=_u("parentInteractive",function(s){return"visible"===s.pstyle("visibility").value&&oa(s)});wn.interactive=Su("interactive",gl({ok:Tu,parentOk:Rv,edgeOkViaNode:oa})),wn.noninteractive=function(){var s=this[0];if(s)return!s.interactive()};var uh=_u("eleVisible",function(s){return"visible"===s.pstyle("visibility").value&&0!==s.pstyle("opacity").pfValue&&oa(s)});wn.visible=Su("visible",gl({ok:uh,edgeOkViaNode:oa})),wn.hidden=function(){var s=this[0];if(s)return!s.visible()},wn.isBundledBezier=Su("isBundledBezier",function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()}),wn.bypass=wn.css=wn.style,wn.renderedCss=wn.renderedStyle,wn.removeBypass=wn.removeCss=wn.removeStyle,wn.pstyle=wn.parsedStyle;var la={};function gd(s){return function(){var i=arguments,o=[];if(2===i.length){var u=i[0],c=i[1];this.on(s.event,u,c)}else if(1===i.length&&He(i[0])){var d=i[0];this.on(s.event,d)}else if(0===i.length||1===i.length&&Ve(i[0])){for(var f=1===i.length?i[0]:null,g=0;g<this.length;g++){var m=this[g],v=!s.ableField||m._private[s.ableField],y=m._private[s.field]!=s.value;if(s.overrideAble){var b=s.overrideAble(m);if(void 0!==b&&(v=b,!b))return this}v&&(m._private[s.field]=s.value,y&&o.push(m))}var D=this.spawn(o);D.updateStyle(),D.emit(s.event),f&&D.emit(f)}return this}}function mo(s){la[s.field]=function(){var i=this[0];if(i){if(s.overrideField){var o=s.overrideField(i);if(void 0!==o)return o}return i._private[s.field]}},la[s.on]=gd({event:s.on,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!0}),la[s.off]=gd({event:s.off,field:s.field,ableField:s.ableField,overrideAble:s.overrideAble,value:!1})}mo({field:"locked",overrideField:function(i){return!!i.cy().autolock()||void 0},on:"lock",off:"unlock"}),mo({field:"grabbable",overrideField:function(i){return!i.cy().autoungrabify()&&!i.pannable()&&void 0},on:"grabify",off:"ungrabify"}),mo({field:"selected",ableField:"selectable",overrideAble:function(i){return!i.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),mo({field:"selectable",overrideField:function(i){return!i.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),la.deselect=la.unselect,la.grabbed=function(){var s=this[0];if(s)return s._private.grabbed},mo({field:"active",on:"activate",off:"unactivate"}),mo({field:"pannable",on:"panify",off:"unpanify"}),la.inactive=function(){var s=this[0];if(s)return!s._private.active};var rr={},vl=function(i){return function(u){for(var d=[],f=0;f<this.length;f++){var g=this[f];if(g.isNode()){for(var m=!1,v=g.connectedEdges(),y=0;y<v.length;y++){var b=v[y],D=b.source(),C=b.target();if(i.noIncomingEdges&&C===g&&D!==g||i.noOutgoingEdges&&D===g&&C!==g){m=!0;break}}m||d.push(g)}}return this.spawn(d,!0).filter(u)}},yo=function(i){return function(o){for(var c=[],d=0;d<this.length;d++){var f=this[d];if(f.isNode())for(var g=f.connectedEdges(),m=0;m<g.length;m++){var v=g[m],y=v.source(),b=v.target();i.outgoing&&y===f?(c.push(v),c.push(b)):i.incoming&&b===f&&(c.push(v),c.push(y))}}return this.spawn(c,!0).filter(o)}},dh=function(i){return function(o){for(var u=this,c=[],d={};;){var f=i.outgoing?u.outgoers():u.incomers();if(0===f.length)break;for(var g=!1,m=0;m<f.length;m++){var v=f[m],y=v.id();d[y]||(d[y]=!0,c.push(v),g=!0)}if(!g)break;u=f}return this.spawn(c,!0).filter(o)}};function vd(s){return function(o){for(var u=[],c=0;c<this.length;c++){var f=this[c]._private[s.attr];f&&u.push(f)}return this.spawn(u,!0).filter(o)}}function md(s){return function(o){var u=[],c=this._private.cy,d=s||{};le(o)&&(o=c.$(o));for(var f=0;f<o.length;f++)for(var g=o[f]._private.edges,m=0;m<g.length;m++){var v=g[m],y=v._private.data,b=this.hasElementWithId(y.source)&&o.hasElementWithId(y.target),D=o.hasElementWithId(y.source)&&this.hasElementWithId(y.target);!b&&!D||(d.thisIsSrc||d.thisIsTgt)&&(d.thisIsSrc&&!b||d.thisIsTgt&&!D)||u.push(v)}return this.spawn(u,!0)}}function Is(s){return s=Ge({},{codirected:!1},s),function(u){for(var c=[],d=this.edges(),f=s,g=0;g<d.length;g++)for(var v=d[g]._private,y=v.source,b=y._private.data.id,D=v.data.target,C=y._private.edges,_=0;_<C.length;_++){var S=C[_],A=S._private.data,M=A.target,P=A.source,I=M===D&&P===b;(f.codirected&&I||!f.codirected&&(I||b===M&&D===P))&&c.push(S)}return this.spawn(c,!0).filter(u)}}rr.clearTraversalCache=function(){for(var s=0;s<this.length;s++)this[s]._private.traversalCache=null},Ge(rr,{roots:vl({noIncomingEdges:!0}),leaves:vl({noOutgoingEdges:!0}),outgoers:rt(yo({outgoing:!0}),"outgoers"),successors:dh({outgoing:!0}),incomers:rt(yo({incoming:!0}),"incomers"),predecessors:dh({incoming:!0})}),Ge(rr,{neighborhood:rt(function(s){for(var i=[],o=this.nodes(),u=0;u<o.length;u++)for(var c=o[u],d=c.connectedEdges(),f=0;f<d.length;f++){var g=d[f],m=g.source(),v=g.target(),y=c===m?v:m;y.length>0&&i.push(y[0]),i.push(g[0])}return this.spawn(i,!0).filter(s)},"neighborhood"),closedNeighborhood:function(i){return this.neighborhood().add(this).filter(i)},openNeighborhood:function(i){return this.neighborhood(i)}}),rr.neighbourhood=rr.neighborhood,rr.closedNeighbourhood=rr.closedNeighborhood,rr.openNeighbourhood=rr.openNeighborhood,Ge(rr,{source:rt(function(i){var u,o=this[0];return o&&(u=o._private.source||o.cy().collection()),u&&i?u.filter(i):u},"source"),target:rt(function(i){var u,o=this[0];return o&&(u=o._private.target||o.cy().collection()),u&&i?u.filter(i):u},"target"),sources:vd({attr:"source"}),targets:vd({attr:"target"})}),Ge(rr,{edgesWith:rt(md(),"edgesWith"),edgesTo:rt(md({thisIsSrc:!0}),"edgesTo")}),Ge(rr,{connectedEdges:rt(function(s){for(var i=[],u=0;u<this.length;u++){var c=this[u];if(c.isNode())for(var d=c._private.edges,f=0;f<d.length;f++)i.push(d[f])}return this.spawn(i,!0).filter(s)},"connectedEdges"),connectedNodes:rt(function(s){for(var i=[],u=0;u<this.length;u++){var c=this[u];!c.isEdge()||(i.push(c.source()[0]),i.push(c.target()[0]))}return this.spawn(i,!0).filter(s)},"connectedNodes"),parallelEdges:rt(Is(),"parallelEdges"),codirectedEdges:rt(Is({codirected:!0}),"codirectedEdges")}),Ge(rr,{components:function(i){var o=this,u=o.cy(),c=u.collection(),d=null==i?o.nodes():i.nodes(),f=[];null!=i&&d.empty()&&(d=i.sources());var g=function(y,b){c.merge(y),d.unmerge(y),b.merge(y)};if(d.empty())return o.spawn();var m=function(){var y=u.collection();f.push(y);var b=d[0];g(b,y),o.bfs({directed:!1,roots:b,visit:function(C){return g(C,y)}}),y.forEach(function(D){D.connectedEdges().forEach(function(C){o.has(C)&&y.has(C.source())&&y.has(C.target())&&y.merge(C)})})};do{m()}while(d.length>0);return f},component:function(){var i=this[0];return i.cy().mutableElements().components(i)[0]}}),rr.componentsOf=rr.components;var jt=function(i,o){var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==i){var c=new xi,d=!1;if(o){if(o.length>0&&Fe(o[0])&&!St(o[0])){d=!0;for(var f=[],g=new Ji,m=0,v=o.length;m<v;m++){var y=o[m];null==y.data&&(y.data={});var b=y.data;if(null==b.id)b.id=Zs();else if(i.hasElementWithId(b.id)||g.has(b.id))continue;var D=new su(i,y,!1);f.push(D),g.add(b.id)}o=f}}else o=[];this.length=0;for(var C=0,_=o.length;C<_;C++){var S=o[C][0];if(null!=S){var A=S._private.data.id;(!u||!c.has(A))&&(u&&c.set(A,{index:this.length,ele:S}),this[this.length]=S,this.length++)}}this._private={eles:this,cy:i,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(M){this.lazyMap=M},rebuildMap:function(){for(var P=this.lazyMap=new xi,I=this.eles,N=0;N<I.length;N++){var B=I[N];P.set(B.id(),{index:N,ele:B})}}},u&&(this._private.map=c),d&&this.restore()}else $t("A collection must have a reference to the core")},Wt=su.prototype=jt.prototype=Object.create(Array.prototype);Wt.instanceString=function(){return"collection"},Wt.spawn=function(s,i){return new jt(this.cy(),s,i)},Wt.spawnSelf=function(){return this.spawn(this)},Wt.cy=function(){return this._private.cy},Wt.renderer=function(){return this._private.cy.renderer()},Wt.element=function(){return this[0]},Wt.collection=function(){return Qi(this)?this:new jt(this._private.cy,[this])},Wt.unique=function(){return new jt(this._private.cy,this,!0)},Wt.hasElementWithId=function(s){return this._private.map.has(s=""+s)},Wt.getElementById=function(s){var i=this._private.cy,o=this._private.map.get(s=""+s);return o?o.ele:new jt(i)},Wt.$id=Wt.getElementById,Wt.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Wt.indexOf=function(s){return this._private.map.get(s[0]._private.data.id).index},Wt.indexOfId=function(s){return this._private.map.get(s=""+s).index},Wt.json=function(s){var i=this.element(),o=this.cy();if(null==i&&s)return this;if(null!=i){var u=i._private;if(Fe(s)){if(o.startBatch(),s.data){i.data(s.data);var c=u.data;if(i.isEdge()){var d=!1,f={},g=s.data.source,m=s.data.target;null!=g&&g!=c.source&&(f.source=""+g,d=!0),null!=m&&m!=c.target&&(f.target=""+m,d=!0),d&&(i=i.move(f))}else{var y=s.data.parent;"parent"in s.data&&(null!=y||null!=c.parent)&&y!=c.parent&&(void 0===y&&(y=null),null!=y&&(y=""+y),i=i.move({parent:y}))}}s.position&&i.position(s.position);var b=function(S,A,M){var P=s[S];null!=P&&P!==u[S]&&(P?i[A]():i[M]())};return b("removed","remove","restore"),b("selected","select","unselect"),b("selectable","selectify","unselectify"),b("locked","lock","unlock"),b("grabbable","grabify","ungrabify"),b("pannable","panify","unpanify"),null!=s.classes&&i.classes(s.classes),o.endBatch(),this}if(void 0===s){var D={data:Kr(u.data),position:Kr(u.position),group:u.group,removed:u.removed,selected:u.selected,selectable:u.selectable,locked:u.locked,grabbable:u.grabbable,pannable:u.pannable,classes:""},C=0;return u.classes.forEach(function(_){return D.classes+=0==C++?_:" "+_}),D}}},Wt.jsons=function(){for(var s=[],i=0;i<this.length;i++){var u=this[i].json();s.push(u)}return s},Wt.clone=function(){for(var s=this.cy(),i=[],o=0;o<this.length;o++){var c=this[o].json(),d=new su(s,c,!1);i.push(d)}return new jt(s,i)},Wt.copy=Wt.clone,Wt.restore=function(){for(var g,s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=o.cy(),c=u._private,d=[],f=[],m=0,v=o.length;m<v;m++){var y=o[m];i&&!y.removed()||(y.isNode()?d.push(y):f.push(y))}g=d.concat(f);var b,D=function(){g.splice(b,1),b--};for(b=0;b<g.length;b++){var C=g[b],_=C._private,S=_.data;if(C.clearTraversalCache(),i||_.removed)if(void 0===S.id)S.id=Zs();else if(Ce(S.id))S.id=""+S.id;else{if(Vn(S.id)||!le(S.id)){$t("Can not create element with invalid string ID `"+S.id+"`"),D();continue}if(u.hasElementWithId(S.id)){$t("Can not create second element with ID `"+S.id+"`"),D();continue}}var A=S.id;if(C.isNode()){var M=_.position;null==M.x&&(M.x=0),null==M.y&&(M.y=0)}if(C.isEdge()){for(var P=C,I=["source","target"],N=I.length,B=!1,U=0;U<N;U++){var R=I[U],V=S[R];Ce(V)&&(V=S[R]=""+S[R]),null==V||""===V?($t("Can not create edge `"+A+"` with unspecified "+R),B=!0):u.hasElementWithId(V)||($t("Can not create edge `"+A+"` with nonexistant "+R+" `"+V+"`"),B=!0)}if(B){D();continue}var F=u.getElementById(S.source),j=u.getElementById(S.target);F.same(j)?F._private.edges.push(P):(F._private.edges.push(P),j._private.edges.push(P)),P._private.source=F,P._private.target=j}_.map=new xi,_.map.set(A,{ele:C,index:0}),_.removed=!1,i&&u.addToPool(C)}for(var z=0;z<d.length;z++){var L=d[z],q=L._private.data;Ce(q.parent)&&(q.parent=""+q.parent);var $=q.parent,Z=null!=$;if(Z){var W=u.getElementById($);if(W.empty())q.parent=void 0;else{for(var X=!1,K=W;!K.empty();){if(L.same(K)){X=!0,q.parent=void 0;break}K=K.parent()}X||(W[0]._private.children.push(L),L._private.parent=W[0],c.hasCompoundNodes=!0)}}}if(g.length>0){for(var Q=g.length===o.length?o:new jt(u,g),ae=0;ae<Q.length;ae++){var ee=Q[ae];ee.isNode()||(ee.parallelEdges().clearTraversalCache(),ee.source().clearTraversalCache(),ee.target().clearTraversalCache())}(c.hasCompoundNodes?u.collection().merge(Q).merge(Q.connectedNodes()).merge(Q.parent()):Q).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(s),s?Q.emitAndNotify("add"):i&&Q.emit("add")}return o},Wt.removed=function(){var s=this[0];return s&&s._private.removed},Wt.inside=function(){var s=this[0];return s&&!s._private.removed},Wt.remove=function(){var s=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this,u=[],c={},d=o._private.cy;function f($){for(var Z=$._private.edges,W=0;W<Z.length;W++)m(Z[W])}function g($){for(var Z=$._private.children,W=0;W<Z.length;W++)m(Z[W])}function m($){var Z=c[$.id()];i&&$.removed()||Z||(c[$.id()]=!0,$.isNode()?(u.push($),f($),g($)):u.unshift($))}for(var v=0,y=o.length;v<y;v++){var b=o[v];m(b)}function D($,Z){Ea($._private.edges,Z),$.clearTraversalCache()}function C($){$.clearTraversalCache()}var _=[];function S($,Z){Z=Z[0];var W=($=$[0])._private.children,X=$.id();Ea(W,Z),Z._private.parent=null,_.ids[X]||(_.ids[X]=!0,_.push($))}_.ids={},o.dirtyCompoundBoundsCache(),i&&d.removeFromPool(u);for(var A=0;A<u.length;A++){var M=u[A];if(M.isEdge()){var P=M.source()[0],I=M.target()[0];D(P,M),D(I,M);for(var N=M.parallelEdges(),B=0;B<N.length;B++){var U=N[B];C(U),U.isBundledBezier()&&U.dirtyBoundingBoxCache()}}else{var R=M.parent();0!==R.length&&S(R,M)}i&&(M._private.removed=!0)}var V=d._private.elements;d._private.hasCompoundNodes=!1;for(var F=0;F<V.length;F++){var j=V[F];if(j.isParent()){d._private.hasCompoundNodes=!0;break}}var z=new jt(this.cy(),u);z.size()>0&&(s?z.emitAndNotify("remove"):i&&z.emit("remove"));for(var L=0;L<_.length;L++){var q=_[L];(!i||!q.removed())&&q.updateStyle()}return z},Wt.move=function(s){var i=this._private.cy,o=this,u=!1,c=!1,d=function(_){return null==_?_:""+_};if(void 0!==s.source||void 0!==s.target){var f=d(s.source),g=d(s.target),m=null!=f&&i.hasElementWithId(f),v=null!=g&&i.hasElementWithId(g);(m||v)&&(i.batch(function(){o.remove(u,c),o.emitAndNotify("moveout");for(var C=0;C<o.length;C++){var _=o[C],S=_._private.data;_.isEdge()&&(m&&(S.source=f),v&&(S.target=g))}o.restore(u,c)}),o.emitAndNotify("move"))}else if(void 0!==s.parent){var y=d(s.parent);if(null===y||i.hasElementWithId(y)){var D=null===y?void 0:y;i.batch(function(){var C=o.remove(u,c);C.emitAndNotify("moveout");for(var _=0;_<o.length;_++){var S=o[_],A=S._private.data;S.isNode()&&(A.parent=D)}C.restore(u,c)}),o.emitAndNotify("move")}}return this},[gv,mv,lo,me,Cs,nb,mu,ah,fd,hd,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var i=this[0];if(i)return i._private.group}},vo,hl,wn,la,rr].forEach(function(s){Ge(Wt,s)});var ml={add:function(i){var o,u=this;if(Nt(i)){var c=i;if(c._private.cy===u)o=c.restore();else{for(var d=[],f=0;f<c.length;f++)d.push(c[f].json());o=new jt(u,d)}}else if(Ve(i))o=new jt(u,i);else if(Fe(i)&&(Ve(i.nodes)||Ve(i.edges))){for(var v=i,y=[],b=["nodes","edges"],D=0,C=b.length;D<C;D++){var _=b[D],S=v[_];if(Ve(S))for(var A=0,M=S.length;A<M;A++){var P=Ge({group:_},S[A]);y.push(P)}}o=new jt(u,y)}else o=new su(u,i).collection();return o},remove:function(i){return Nt(i)||le(i)&&(i=this.$(i)),i.remove()}},bo=function(){function s(u){return-u.tension*u.x-u.friction*u.v}function i(u,c,d){var f={x:u.x+d.dx*c,v:u.v+d.dv*c,tension:u.tension,friction:u.friction};return{dx:f.v,dv:s(f)}}function o(u,c){var d={dx:u.v,dv:s(u)},f=i(u,.5*c,d),g=i(u,.5*c,f),m=i(u,c,g),y=1/6*(d.dv+2*(f.dv+g.dv)+m.dv);return u.x=u.x+1/6*(d.dx+2*(f.dx+g.dx)+m.dx)*c,u.v=u.v+y*c,u}return function u(c,d,f){var D,C,_,g={x:-1,v:0,tension:null,friction:null},m=[0],v=0,y=1e-4;for(c=parseFloat(c)||500,d=parseFloat(d)||20,f=f||null,g.tension=c,g.friction=d,C=(D=null!==f)?(v=u(c,d))/f*.016:.016;_=o(_||g,C),m.push(1+_.x),v+=16,Math.abs(_.x)>y&&Math.abs(_.v)>y;);return D?function(S){return m[S*(m.length-1)|0]}:v}}(),Ft=function(i,o,u,c){var d=function(s,i,o,u){var c=4,d=.001,f=1e-7,g=10,m=11,v=1/(m-1),y="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var b=0;b<4;++b)if("number"!=typeof arguments[b]||isNaN(arguments[b])||!isFinite(arguments[b]))return!1;s=Math.min(s,1),o=Math.min(o,1),s=Math.max(s,0),o=Math.max(o,0);var D=y?new Float32Array(m):new Array(m);function C(j,z){return 1-3*z+3*j}function _(j,z){return 3*z-6*j}function S(j){return 3*j}function A(j,z,L){return((C(z,L)*j+_(z,L))*j+S(z))*j}function M(j,z,L){return 3*C(z,L)*j*j+2*_(z,L)*j+S(z)}function P(j,z){for(var L=0;L<c;++L){var q=M(z,s,o);if(0===q)return z;z-=(A(z,s,o)-j)/q}return z}function I(){for(var j=0;j<m;++j)D[j]=A(j*v,s,o)}function N(j,z,L){var q,$,Z=0;do{(q=A($=z+(L-z)/2,s,o)-j)>0?L=$:z=$}while(Math.abs(q)>f&&++Z<g);return $}function B(j){for(var z=0,L=1,q=m-1;L!==q&&D[L]<=j;++L)z+=v;--L;var Z=z+(j-D[L])/(D[L+1]-D[L])*v,W=M(Z,s,o);return W>=d?P(j,Z):0===W?Z:N(j,z,z+v)}var U=!1;function R(){U=!0,(s!==i||o!==u)&&I()}var V=function(z){return U||R(),s===i&&o===u?z:0===z?0:1===z?1:A(B(z),i,u)};V.getControlPoints=function(){return[{x:s,y:i},{x:o,y:u}]};var F="generateBezier("+[s,i,o,u]+")";return V.toString=function(){return F},V}(i,o,u,c);return function(f,g,m){return f+(g-f)*d(m)}},Ba={linear:function(i,o,u){return i+(o-i)*u},ease:Ft(.25,.1,.25,1),"ease-in":Ft(.42,0,1,1),"ease-out":Ft(0,0,.58,1),"ease-in-out":Ft(.42,0,.58,1),"ease-in-sine":Ft(.47,0,.745,.715),"ease-out-sine":Ft(.39,.575,.565,1),"ease-in-out-sine":Ft(.445,.05,.55,.95),"ease-in-quad":Ft(.55,.085,.68,.53),"ease-out-quad":Ft(.25,.46,.45,.94),"ease-in-out-quad":Ft(.455,.03,.515,.955),"ease-in-cubic":Ft(.55,.055,.675,.19),"ease-out-cubic":Ft(.215,.61,.355,1),"ease-in-out-cubic":Ft(.645,.045,.355,1),"ease-in-quart":Ft(.895,.03,.685,.22),"ease-out-quart":Ft(.165,.84,.44,1),"ease-in-out-quart":Ft(.77,0,.175,1),"ease-in-quint":Ft(.755,.05,.855,.06),"ease-out-quint":Ft(.23,1,.32,1),"ease-in-out-quint":Ft(.86,0,.07,1),"ease-in-expo":Ft(.95,.05,.795,.035),"ease-out-expo":Ft(.19,1,.22,1),"ease-in-out-expo":Ft(1,0,0,1),"ease-in-circ":Ft(.6,.04,.98,.335),"ease-out-circ":Ft(.075,.82,.165,1),"ease-in-out-circ":Ft(.785,.135,.15,.86),spring:function(i,o,u){if(0===u)return Ba.linear;var c=bo(i,o,u);return function(d,f,g){return d+(f-d)*c(g)}},"cubic-bezier":Ft};function Au(s,i,o,u,c){if(1===u||i===o)return o;var d=c(i,o,u);return null==s||((s.roundValue||s.color)&&(d=Math.round(d)),void 0!==s.min&&(d=Math.max(d,s.min)),void 0!==s.max&&(d=Math.min(d,s.max))),d}function Ps(s,i){return null!=s.pfValue||null!=s.value?null==s.pfValue||null!=i&&"%"===i.type.units?s.value:s.pfValue:s}function yl(s,i,o,u,c){var d=null!=c?c.type:null;o<0?o=0:o>1&&(o=1);var f=Ps(s,c),g=Ps(i,c);if(Ce(f)&&Ce(g))return Au(d,f,g,o,u);if(Ve(f)&&Ve(g)){for(var m=[],v=0;v<g.length;v++){var y=f[v],b=g[v];if(null!=y&&null!=b){var D=Au(d,y,b,o,u);m.push(D)}else m.push(b)}return m}}function Nv(s,i,o,u){var c=!u,d=s._private,f=i._private,g=f.easing,m=f.startTime,y=(u?s:s.cy()).style();if(!f.easingImpl)if(null==g)f.easingImpl=Ba.linear;else{var b,C,_;b=le(g)?y.parse("transition-timing-function",g).value:g,le(b)?(C=b,_=[]):(C=b[1],_=b.slice(2).map(function(Q){return+Q})),_.length>0?("spring"===C&&_.push(f.duration),f.easingImpl=Ba[C].apply(null,_)):f.easingImpl=Ba[C]}var A,S=f.easingImpl;if(A=0===f.duration?1:(o-m)/f.duration,f.applying&&(A=f.progress),A<0?A=0:A>1&&(A=1),null==f.delay){var M=f.startPosition,P=f.position;if(P&&c&&!s.locked()){var I={};st(M.x,P.x)&&(I.x=yl(M.x,P.x,A,S)),st(M.y,P.y)&&(I.y=yl(M.y,P.y,A,S)),s.position(I)}var N=f.startPan,B=f.pan,U=d.pan,R=null!=B&&u;R&&(st(N.x,B.x)&&(U.x=yl(N.x,B.x,A,S)),st(N.y,B.y)&&(U.y=yl(N.y,B.y,A,S)),s.emit("pan"));var V=f.startZoom,F=f.zoom,j=null!=F&&u;j&&(st(V,F)&&(d.zoom=Ut(d.minZoom,yl(V,F,A,S),d.maxZoom)),s.emit("zoom")),(R||j)&&s.emit("viewport");var z=f.style;if(z&&z.length>0&&c){for(var L=0;L<z.length;L++){var q=z[L],$=q.name,W=f.startStyle[$],K=yl(W,q,A,S,y.properties[W.name]);y.overrideBypass(s,$,K)}s.emit("style")}}return f.progress=A,A}function st(s,i){return!!(null!=s&&null!=i&&(Ce(s)&&Ce(i)||s&&i))}function kv(s,i,o,u){var c=i._private;c.started=!0,c.startTime=o-c.progress*c.duration}function Fv(s,i){var o=i._private.aniEles,u=[];function c(y,b){var D=y._private,C=D.animation.current,_=D.animation.queue,S=!1;if(0===C.length){var A=_.shift();A&&C.push(A)}for(var M=function(U){for(var R=U.length-1;R>=0;R--)(0,U[R])();U.splice(0,U.length)},P=C.length-1;P>=0;P--){var I=C[P],N=I._private;N.stopped?(C.splice(P,1),N.hooked=!1,N.playing=!1,N.started=!1,M(N.frames)):!N.playing&&!N.applying||(N.playing&&N.applying&&(N.applying=!1),N.started||kv(0,I,s),Nv(y,I,s,b),N.applying&&(N.applying=!1),M(N.frames),null!=N.step&&N.step(s),I.completed()&&(C.splice(P,1),N.hooked=!1,N.playing=!1,N.started=!1,M(N.completes)),S=!0)}return!b&&0===C.length&&0===_.length&&u.push(y),S}for(var d=!1,f=0;f<o.length;f++){var m=c(o[f]);d=d||m}var v=c(i,!0);(d||v)&&(o.length>0?i.notify("draw",o):i.notify("draw")),o.unmerge(u),i.emit("step")}var ib={animate:xt.animate(),animation:xt.animation(),animated:xt.animated(),clearQueue:xt.clearQueue(),delay:xt.delay(),delayAnimation:xt.delayAnimation(),stop:xt.stop(),addToAnimationPool:function(i){!this.styleEnabled()||this._private.aniEles.merge(i)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var i=this;if(i._private.animationsRunning=!0,i.styleEnabled()){var u=i.renderer();u&&u.beforeRender?u.beforeRender(function(d,f){Fv(f,i)},u.beforeRenderPriorities.animations):function o(){!i._private.animationsRunning||Rc(function(d){Fv(d,i),o()})}()}}},ab={qualifierCompare:function(i,o){return null==i||null==o?null==i&&null==o:i.sameText(o)},eventMatches:function(i,o,u){var c=o.qualifier;return null==c||i!==u.target&&St(u.target)&&c.matches(u.target)},addEventFields:function(i,o){o.cy=i,o.target=i},callbackContext:function(i,o,u){return null!=o.qualifier?u.target:i}},yd=function(i){return le(i)?new ka(i):i},Ov={createEmitter:function(){var i=this._private;return i.emitter||(i.emitter=new Du(ab,this)),this},emitter:function(){return this._private.emitter},on:function(i,o,u){return this.emitter().on(i,yd(o),u),this},removeListener:function(i,o,u){return this.emitter().removeListener(i,yd(o),u),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(i,o,u){return this.emitter().one(i,yd(o),u),this},once:function(i,o,u){return this.emitter().one(i,yd(o),u),this},emit:function(i,o){return this.emitter().emit(i,o),this},emitAndNotify:function(i,o){return this.emit(i),this.notify(i,o),this}};xt.eventAliasesOn(Ov);var fh={png:function(i){return this._private.renderer.png(i=i||{})},jpg:function(i){var o=this._private.renderer;return(i=i||{}).bg=i.bg||"#fff",o.jpg(i)}};fh.jpeg=fh.jpg;var Va={layout:function(i){var o=this;if(null!=i)if(null!=i.name){var d,u=i.name,c=o.extension("layout",u);if(null!=c)return d=le(i.eles)?o.$(i.eles):null!=i.eles?i.eles:o.$(),new c(Ge({},i,{cy:o,eles:d}));$t("No such layout `"+u+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else $t("A `name` must be specified to make a layout");else $t("Layout options must be specified to make a layout")}};Va.createLayout=Va.makeLayout=Va.layout;var sb={notify:function(i,o){var u=this._private;if(this.batching()){u.batchNotifications=u.batchNotifications||{};var c=u.batchNotifications[i]=u.batchNotifications[i]||this.collection();null!=o&&c.merge(o)}else if(u.notificationsEnabled){var d=this.renderer();this.destroyed()||!d||d.notify(i,o)}},notifications:function(i){var o=this._private;return void 0===i?o.notificationsEnabled:(o.notificationsEnabled=!!i,this)},noNotifications:function(i){this.notifications(!1),i(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var i=this._private;return null==i.batchCount&&(i.batchCount=0),0===i.batchCount&&(i.batchStyleEles=this.collection(),i.batchNotifications={}),i.batchCount++,this},endBatch:function(){var i=this._private;if(0===i.batchCount)return this;if(i.batchCount--,0===i.batchCount){i.batchStyleEles.updateStyle();var o=this.renderer();Object.keys(i.batchNotifications).forEach(function(u){var c=i.batchNotifications[u];c.empty()?o.notify(u):o.notify(u,c)})}return this},batch:function(i){return this.startBatch(),i(),this.endBatch(),this},batchData:function(i){var o=this;return this.batch(function(){for(var u=Object.keys(i),c=0;c<u.length;c++){var d=u[c],f=i[d];o.getElementById(d).data(f)}})}},Fn=Hn({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),wl={renderTo:function(i,o,u,c){return this._private.renderer.renderTo(i,o,u,c),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(i){var o=this,u=o.extension("renderer",i.name);if(null!=u){void 0!==i.wheelSensitivity&&qt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var c=Fn(i);c.cy=o,o._private.renderer=new u(c),this.notify("init")}else $t("Can not initialise: No such renderer `".concat(i.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var i=this;i.notify("destroy");var o=i.container();if(o)for(o._cyreg=null;o.childNodes.length>0;)o.removeChild(o.childNodes[0]);i._private.renderer=null,i.mutableElements().forEach(function(u){var c=u._private;c.rscratch={},c.rstyle={},c.animation.current=[],c.animation.queue=[]})},onRender:function(i){return this.on("render",i)},offRender:function(i){return this.off("render",i)}};wl.invalidateDimensions=wl.resize;var Ha={collection:function(i,o){return le(i)?this.$(i):Nt(i)?i.collection():Ve(i)?new jt(this,i,o):new jt(this)},nodes:function(i){var o=this.$(function(u){return u.isNode()});return i?o.filter(i):o},edges:function(i){var o=this.$(function(u){return u.isEdge()});return i?o.filter(i):o},$:function(i){var o=this._private.elements;return i?o.filter(i):o.spawnSelf()},mutableElements:function(){return this._private.elements}};Ha.elements=Ha.filter=Ha.$;var fr={apply:function(s){for(var i=this,c=i._private.cy.collection(),d=0;d<s.length;d++){var f=s[d],g=i.getContextMeta(f);if(!g.empty){var m=i.getContextStyle(g),v=i.applyContextStyle(g,m,f);f._private.appliedInitStyle?i.updateTransitions(f,v.diffProps):f._private.appliedInitStyle=!0,i.updateStyleHints(f)&&c.push(f)}}return c},getPropertiesDiff:function(s,i){var o=this,u=o._private.propDiffs=o._private.propDiffs||{},c=s+"-"+i,d=u[c];if(d)return d;for(var f=[],g={},m=0;m<o.length;m++){var v=o[m],b="t"===i[m],D="t"===s[m]!==b,C=v.mappedProperties.length>0;if(D||b&&C){var _=void 0;D&&C||D?_=v.properties:C&&(_=v.mappedProperties);for(var S=0;S<_.length;S++){for(var A=_[S],M=A.name,P=!1,I=m+1;I<o.length&&("t"!==i[I]||!(P=null!=o[I].properties[A.name]));I++);!g[M]&&!P&&(g[M]=!0,f.push(M))}}}return u[c]=f,f},getContextMeta:function(s){for(var u,i=this,o="",c=s._private.styleCxtKey||"",d=0;d<i.length;d++){var f=i[d];o+=f.selector&&f.selector.matches(s)?"t":"f"}return u=i.getPropertiesDiff(c,o),s._private.styleCxtKey=o,{key:o,diffPropNames:u,empty:0===u.length}},getContextStyle:function(s){var i=s.key,u=this._private.contextStyles=this._private.contextStyles||{};if(u[i])return u[i];for(var c={_private:{key:i}},d=0;d<this.length;d++){var f=this[d];if("t"===i[d])for(var m=0;m<f.properties.length;m++){var v=f.properties[m];c[v.name]=v}}return u[i]=c,c},applyContextStyle:function(s,i,o){for(var c=s.diffPropNames,d={},f=this.types,g=0;g<c.length;g++){var m=c[g],v=i[m],y=o.pstyle(m);if(!v){if(!y)continue;v=y.bypass?{name:m,deleteBypassed:!0}:{name:m,delete:!0}}if(y!==v){if(v.mapped===f.fn&&null!=y&&null!=y.mapping&&y.mapping.value===v.value){var b=y.mapping;if((b.fnValue=v.value(o))===b.prevFnValue)continue}var C=d[m]={prev:y};this.applyParsedProperty(o,v),C.next=o.pstyle(m),C.next&&C.next.bypass&&(C.next=C.next.bypassed)}}return{diffProps:d}},updateStyleHints:function(s){var u,i=s._private,o=this,c=o.propertyGroupKeys,d=function(Ee,Me,Ze){return o.getPropertiesHash(Ee,Me,Ze)},f=i.styleKey;if(s.removed())return!1;var Ee,g="nodes"===i.group,m=s._private.style;u=Object.keys(m);for(var v=0;v<c.length;v++)i.styleKeys[c[v]]=[fs,Qs];for(var b=function(Ee,Me){return i.styleKeys[Me][0]=Yo(Ee,i.styleKeys[Me][0])},D=function(Ee,Me){return i.styleKeys[Me][1]=Ys(Ee,i.styleKeys[Me][1])},C=function(Ee,Me){b(Ee,Me),D(Ee,Me)},_=function(Ee,Me){for(var Ze=0;Ze<Ee.length;Ze++){var it=Ee.charCodeAt(Ze);b(it,Me),D(it,Me)}},M=0;M<u.length;M++){var P=u[M],I=m[P];if(null!=I){var N=this.properties[P],B=N.type,U=N.groupKey,R=void 0;null!=N.hashOverride?R=N.hashOverride(s,I):null!=I.pfValue&&(R=I.pfValue);var V=null==N.enums?I.value:null,F=null!=R,L=I.units;!B.number||!F&&null==V||B.multiple?_(I.strValue,U):(C(-128<(Ee=F?R:V)&&Ee<128&&Math.floor(Ee)!==Ee?2e9-(1024*Ee|0):Ee,U),!F&&null!=L&&_(L,U))}}for(var $=[fs,Qs],Z=0;Z<c.length;Z++){var X=i.styleKeys[c[Z]];$[0]=Yo(X[0],$[0]),$[1]=Ys(X[1],$[1])}i.styleKey=function(i,o){return 2097152*i+o}($[0],$[1]);var K=i.styleKeys;i.labelDimsKey=Zi(K.labelDimensions);var Q=d(s,["label"],K.labelDimensions);if(i.labelKey=Zi(Q),i.labelStyleKey=Zi(Zo(K.commonLabel,Q)),!g){var ae=d(s,["source-label"],K.labelDimensions);i.sourceLabelKey=Zi(ae),i.sourceLabelStyleKey=Zi(Zo(K.commonLabel,ae));var ee=d(s,["target-label"],K.labelDimensions);i.targetLabelKey=Zi(ee),i.targetLabelStyleKey=Zi(Zo(K.commonLabel,ee))}if(g){var ie=i.styleKeys,Y=ie.pie,oe=[ie.nodeBody,ie.nodeBorder,ie.backgroundImage,ie.compound,Y].filter(function(pe){return null!=pe}).reduce(Zo,[fs,Qs]);i.nodeKey=Zi(oe),i.hasPie=null!=Y&&Y[0]!==fs&&Y[1]!==Qs}return f!==i.styleKey},clearStyleHints:function(s){var i=s._private;i.styleCxtKey="",i.styleKeys={},i.styleKey=null,i.labelKey=null,i.labelStyleKey=null,i.sourceLabelKey=null,i.sourceLabelStyleKey=null,i.targetLabelKey=null,i.targetLabelStyleKey=null,i.nodeKey=null,i.hasPie=null},applyParsedProperty:function(s,i){var d,o=this,u=i,c=s._private.style,f=o.types,g=o.properties[u.name].type,m=u.bypass,v=c[u.name],y=v&&v.bypass,b=s._private,D="mapping",C=function(de){return null==de?null:null!=de.pfValue?de.pfValue:de.value},_=function(){var de=C(v),ve=C(u);o.checkTriggers(s,u.name,de,ve)};if(u&&"pie"===u.name.substr(0,3)&&qt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===i.name&&s.isEdge()&&("bezier"!==i.value&&s.isLoop()||"haystack"===i.value&&(s.source().isParent()||s.target().isParent()))&&(u=i=this.parse(i.name,"bezier",m)),u.delete)return c[u.name]=void 0,_(),!0;if(u.deleteBypassed)return v?!!v.bypass&&(v.bypassed=void 0,_(),!0):(_(),!0);if(u.deleteBypass)return v?!!v.bypass&&(c[u.name]=v.bypassed,_(),!0):(_(),!0);var S=function(){qt("Do not assign mappings to elements without corresponding data (i.e. ele `"+s.id()+"` has no mapping for property `"+u.name+"` with data field `"+u.field+"`); try a `["+u.field+"]` selector to limit scope to elements with `"+u.field+"` defined")};switch(u.mapped){case f.mapData:for(var A=u.field.split("."),M=b.data,P=0;P<A.length&&M;P++)M=M[A[P]];if(null==M)return S(),!1;var N;if(!Ce(M))return qt("Do not use continuous mappers without specifying numeric data (i.e. `"+u.field+": "+M+"` for `"+s.id()+"` is non-numeric)"),!1;var B=u.fieldMax-u.fieldMin;if((N=0===B?0:(M-u.fieldMin)/B)<0?N=0:N>1&&(N=1),g.color){var U=u.valueMin[0],V=u.valueMin[1],F=u.valueMax[1],j=u.valueMin[2],z=u.valueMax[2],L=null==u.valueMin[3]?1:u.valueMin[3],q=null==u.valueMax[3]?1:u.valueMax[3],$=[Math.round(U+(u.valueMax[0]-U)*N),Math.round(V+(F-V)*N),Math.round(j+(z-j)*N),Math.round(L+(q-L)*N)];d={bypass:u.bypass,name:u.name,value:$,strValue:"rgb("+$[0]+", "+$[1]+", "+$[2]+")"}}else{if(!g.number)return!1;d=this.parse(u.name,u.valueMin+(u.valueMax-u.valueMin)*N,u.bypass,D)}if(!d)return S(),!1;d.mapping=u,u=d;break;case f.data:for(var W=u.field.split("."),X=b.data,K=0;K<W.length&&X;K++)X=X[W[K]];if(null!=X&&(d=this.parse(u.name,X,u.bypass,D)),!d)return S(),!1;d.mapping=u,u=d;break;case f.fn:var ee=null!=u.fnValue?u.fnValue:(0,u.value)(s);if(u.prevFnValue=ee,null==ee)return qt("Custom function mappers may not return null (i.e. `"+u.name+"` for ele `"+s.id()+"` is null)"),!1;if(!(d=this.parse(u.name,ee,u.bypass,D)))return qt("Custom function mappers may not return invalid values for the property type (i.e. `"+u.name+"` for ele `"+s.id()+"` is invalid)"),!1;d.mapping=Kr(u),u=d;break;case void 0:break;default:return!1}return m?(u.bypassed=y?v.bypassed:v,c[u.name]=u):y?v.bypassed=u:c[u.name]=u,_(),!0},cleanElements:function(s,i){for(var o=0;o<s.length;o++){var u=s[o];if(this.clearStyleHints(u),u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),i)for(var c=u._private.style,d=Object.keys(c),f=0;f<d.length;f++){var g=d[f],m=c[g];null!=m&&(m.bypass?m.bypassed=null:c[g]=null)}else u._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(s,i){var o=this,u=s._private,c=s.pstyle("transition-property").value,d=s.pstyle("transition-duration").pfValue,f=s.pstyle("transition-delay").pfValue;if(c.length>0&&d>0){for(var g={},m=!1,v=0;v<c.length;v++){var y=c[v],b=s.pstyle(y),D=i[y];if(D){var _=D.prev,S=null!=D.next?D.next:b,A=!1,M=void 0,P=1e-6;!_||(Ce(_.pfValue)&&Ce(S.pfValue)?M=_.pfValue+P*(A=S.pfValue-_.pfValue):Ce(_.value)&&Ce(S.value)?M=_.value+P*(A=S.value-_.value):Ve(_.value)&&Ve(S.value)&&(A=_.value[0]!==S.value[0]||_.value[1]!==S.value[1]||_.value[2]!==S.value[2],M=_.strValue),A&&(g[y]=S.strValue,this.applyBypass(s,y,M),m=!0))}}if(!m)return;u.transitioning=!0,new oo(function(I){f>0?s.delayAnimation(f).play().promise().then(I):I()}).then(function(){return s.animation({style:g,duration:d,easing:s.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){o.removeBypasses(s,c),s.emitAndNotify("style"),u.transitioning=!1})}else u.transitioning&&(this.removeBypasses(s,c),s.emitAndNotify("style"),u.transitioning=!1)},checkTrigger:function(s,i,o,u,c,d){var f=this.properties[i],g=c(f);null!=g&&g(o,u)&&d(f)},checkZOrderTrigger:function(s,i,o,u){var c=this;this.checkTrigger(s,i,o,u,function(d){return d.triggersZOrder},function(){c._private.cy.notify("zorder",s)})},checkBoundsTrigger:function(s,i,o,u){this.checkTrigger(s,i,o,u,function(c){return c.triggersBounds},function(c){s.dirtyCompoundBoundsCache(),s.dirtyBoundingBoxCache(),"curve-style"===i&&("bezier"===o||"bezier"===u)&&c.triggersBoundsOfParallelBeziers&&s.parallelEdges().forEach(function(d){d.isBundledBezier()&&d.dirtyBoundingBoxCache()})})},checkTriggers:function(s,i,o,u){s.dirtyStyleCache(),this.checkZOrderTrigger(s,i,o,u),this.checkBoundsTrigger(s,i,o,u)}},_r={applyBypass:function(s,i,o,u){var d=[];if("*"===i||"**"===i){if(void 0!==o)for(var g=0;g<this.properties.length;g++){var y=this.parse(this.properties[g].name,o,!0);y&&d.push(y)}}else if(le(i)){var b=this.parse(i,o,!0);b&&d.push(b)}else{if(!Fe(i))return!1;var D=i;u=o;for(var C=Object.keys(D),_=0;_<C.length;_++){var S=C[_],A=D[S];if(void 0===A&&(A=D[on(S)]),void 0!==A){var M=this.parse(S,A,!0);M&&d.push(M)}}}if(0===d.length)return!1;for(var P=!1,I=0;I<s.length;I++){for(var N=s[I],B={},U=void 0,R=0;R<d.length;R++){var V=d[R];if(u){var F=N.pstyle(V.name);U=B[V.name]={prev:F}}P=this.applyParsedProperty(N,Kr(V))||P,u&&(U.next=N.pstyle(V.name))}P&&this.updateStyleHints(N),u&&this.updateTransitions(N,B,!0)}return P},overrideBypass:function(s,i,o){i=Yi(i);for(var u=0;u<s.length;u++){var c=s[u],d=c._private.style[i],f=this.properties[i].type,g=f.color,m=f.mutiple,v=d?null!=d.pfValue?d.pfValue:d.value:null;d&&d.bypass?(d.value=o,null!=d.pfValue&&(d.pfValue=o),d.strValue=g?"rgb("+o.join(",")+")":m?o.join(" "):""+o,this.updateStyleHints(c)):this.applyBypass(c,i,o),this.checkTriggers(c,i,v,o)}},removeAllBypasses:function(s,i){return this.removeBypasses(s,this.propertyNames,i)},removeBypasses:function(s,i,o){for(var c=0;c<s.length;c++){for(var d=s[c],f={},g=0;g<i.length;g++){var m=i[g],v=this.properties[m],y=d.pstyle(v.name);if(y&&y.bypass){var D=this.parse(m,"",!0),C=f[v.name]={prev:y};this.applyParsedProperty(d,D),C.next=d.pstyle(v.name)}}this.updateStyleHints(d),o&&this.updateTransitions(d,f,!0)}}},Mu={getEmSizeInPixels:function(){var s=this.containerCss("font-size");return null!=s?parseFloat(s):1},containerCss:function(s){var o=this._private.cy.container();if(Ht&&o&&Ht.getComputedStyle)return Ht.getComputedStyle(o).getPropertyValue(s)}},Or={getRenderedStyle:function(s,i){return i?this.getStylePropertyValue(s,i,!0):this.getRawStyle(s,!0)},getRawStyle:function(s,i){var o=this;if(s=s[0]){for(var u={},c=0;c<o.properties.length;c++){var d=o.properties[c],f=o.getStylePropertyValue(s,d.name,i);null!=f&&(u[d.name]=f,u[on(d.name)]=f)}return u}},getIndexedStyle:function(s,i,o,u){var c=s.pstyle(i)[o][u];return null!=c?c:s.cy().style().getDefaultProperty(i)[o][0]},getStylePropertyValue:function(s,i,o){if(s=s[0]){var c=this.properties[i];c.alias&&(c=c.pointsTo);var d=c.type,f=s.pstyle(c.name);if(f){var g=f.value,m=f.units,v=f.strValue;if(o&&d.number&&null!=g&&Ce(g)){var y=s.cy().zoom(),b=function(A){return A*y},D=function(A,M){return b(A)+M},C=Ve(g);return(C?m.every(function(S){return null!=S}):null!=m)?C?g.map(function(S,A){return D(S,m[A])}).join(" "):D(g,m):C?g.map(function(S){return le(S)?S:""+b(S)}).join(" "):""+b(g)}if(null!=v)return v}return null}},getAnimationStartStyle:function(s,i){for(var o={},u=0;u<i.length;u++){var d=i[u].name,f=s.pstyle(d);void 0!==f&&(f=Fe(f)?this.parse(d,f.strValue):this.parse(d,f)),f&&(o[d]=f)}return o},getPropsList:function(s){var o=[],u=s,c=this.properties;if(u)for(var d=Object.keys(u),f=0;f<d.length;f++){var g=d[f],m=u[g],v=c[g]||c[Yi(g)],y=this.parse(v.name,m);y&&o.push(y)}return o},getNonDefaultPropertiesHash:function(s,i,o){var d,f,g,m,v,u=o.slice();for(m=0;m<i.length;m++)if(null!=(d=s.pstyle(i[m],!1)))if(null!=d.pfValue)u[0]=Yo(g,u[0]),u[1]=Ys(g,u[1]);else for(f=d.strValue,v=0;v<f.length;v++)g=f.charCodeAt(v),u[0]=Yo(g,u[0]),u[1]=Ys(g,u[1]);return u}};Or.getPropertiesHash=Or.getNonDefaultPropertiesHash;var $a={appendFromJson:function(s){for(var i=this,o=0;o<s.length;o++){var u=s[o],c=u.selector,d=u.style||u.css,f=Object.keys(d);i.selector(c);for(var g=0;g<f.length;g++){var m=f[g];i.css(m,d[m])}}return i},fromJson:function(s){var i=this;return i.resetToDefault(),i.appendFromJson(s),i},json:function(){for(var s=[],i=this.defaultLength;i<this.length;i++){for(var o=this[i],u=o.selector,c=o.properties,d={},f=0;f<c.length;f++){var g=c[f];d[g.name]=g.strValue}s.push({selector:u?u.toString():"core",style:d})}return s}},xu={appendFromString:function(s){var c,d,f,o=this,u=""+s;function g(){u=u.length>c.length?u.substr(c.length):""}function m(){d=d.length>f.length?d.substr(f.length):""}for(u=u.replace(/[/][*](\s|.)+?[*][/]/g,"");!u.match(/^\s*$/);){var y=u.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!y){qt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+u);break}c=y[0];var b=y[1];if("core"!==b&&new ka(b).invalid)qt("Skipping parsing of block: Invalid selector found in string stylesheet: "+b),g();else{var C=y[2],_=!1;d=C;for(var S=[];!d.match(/^\s*$/);){var M=d.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!M){qt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+C),_=!0;break}f=M[0];var P=M[1],I=M[2];this.properties[P]?o.parse(P,I)?(S.push({name:P,val:I}),m()):(qt("Skipping property: Invalid property definition in: "+f),m()):(qt("Skipping property: Invalid property name in: "+f),m())}if(_){g();break}o.selector(b);for(var U=0;U<S.length;U++){var R=S[U];o.css(R.name,R.val)}g()}}return o},fromString:function(s){var i=this;return i.resetToDefault(),i.appendFromString(s),i}},Yn={};(function(){var s=gn,d=function(oe){return"^"+oe+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},f=function(oe){var pe=s+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+oe+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+s+")\\s*\\,\\s*("+s+")\\s*,\\s*("+pe+")\\s*\\,\\s*("+pe+")\\)$"},g=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Yn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:d("data")},layoutData:{mapping:!0,regex:d("layoutData")},scratch:{mapping:!0,regex:d("scratch")},mapData:{mapping:!0,regex:f("mapData")},mapLayoutData:{mapping:!0,regex:f("mapLayoutData")},mapScratch:{mapping:!0,regex:f("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:g,singleRegexMatchValue:!0},urls:{regexes:g,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(oe,pe){switch(oe.length){case 2:return"deg"!==pe[0]&&"rad"!==pe[0]&&"deg"!==pe[1]&&"rad"!==pe[1];case 1:return le(oe[0])||"deg"===pe[0]||"rad"===pe[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*,\\s*("+s+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(oe){var pe=oe.length;return 1===pe||2===pe||4===pe}}};var m={zeroNonZero:function(oe,pe){return(null==oe||null==pe)&&oe!==pe||0==oe&&0!=pe||0!=oe&&0==pe},any:function(oe,pe){return oe!=pe},emptyNonEmpty:function(oe,pe){var Ee=Vn(oe),Me=Vn(pe);return Ee&&!Me||!Ee&&Me}},v=Yn.types,y=[{name:"label",type:v.text,triggersBounds:m.any,triggersZOrder:m.emptyNonEmpty},{name:"text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any}],b=[{name:"source-label",type:v.text,triggersBounds:m.any},{name:"source-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"source-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"source-text-offset",type:v.size,triggersBounds:m.any}],D=[{name:"target-label",type:v.text,triggersBounds:m.any},{name:"target-text-rotation",type:v.textRotation,triggersBounds:m.any},{name:"target-text-margin-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-margin-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"target-text-offset",type:v.size,triggersBounds:m.any}],C=[{name:"font-family",type:v.fontFamily,triggersBounds:m.any},{name:"font-style",type:v.fontStyle,triggersBounds:m.any},{name:"font-weight",type:v.fontWeight,triggersBounds:m.any},{name:"font-size",type:v.size,triggersBounds:m.any},{name:"text-transform",type:v.textTransform,triggersBounds:m.any},{name:"text-wrap",type:v.textWrap,triggersBounds:m.any},{name:"text-overflow-wrap",type:v.textOverflowWrap,triggersBounds:m.any},{name:"text-max-width",type:v.size,triggersBounds:m.any},{name:"text-outline-width",type:v.size,triggersBounds:m.any},{name:"line-height",type:v.positiveNumber,triggersBounds:m.any}],_=[{name:"text-valign",type:v.valign,triggersBounds:m.any},{name:"text-halign",type:v.halign,triggersBounds:m.any},{name:"color",type:v.color},{name:"text-outline-color",type:v.color},{name:"text-outline-opacity",type:v.zeroOneNumber},{name:"text-background-color",type:v.color},{name:"text-background-opacity",type:v.zeroOneNumber},{name:"text-background-padding",type:v.size,triggersBounds:m.any},{name:"text-border-opacity",type:v.zeroOneNumber},{name:"text-border-color",type:v.color},{name:"text-border-width",type:v.size,triggersBounds:m.any},{name:"text-border-style",type:v.borderStyle,triggersBounds:m.any},{name:"text-background-shape",type:v.textBackgroundShape,triggersBounds:m.any},{name:"text-justification",type:v.justification}],S=[{name:"events",type:v.bool},{name:"text-events",type:v.bool}],A=[{name:"display",type:v.display,triggersZOrder:m.any,triggersBounds:m.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:v.visibility,triggersZOrder:m.any},{name:"opacity",type:v.zeroOneNumber,triggersZOrder:m.zeroNonZero},{name:"text-opacity",type:v.zeroOneNumber},{name:"min-zoomed-font-size",type:v.size},{name:"z-compound-depth",type:v.zCompoundDepth,triggersZOrder:m.any},{name:"z-index-compare",type:v.zIndexCompare,triggersZOrder:m.any},{name:"z-index",type:v.nonNegativeInt,triggersZOrder:m.any}],M=[{name:"overlay-padding",type:v.size,triggersBounds:m.any},{name:"overlay-color",type:v.color},{name:"overlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"overlay-shape",type:v.overlayShape,triggersBounds:m.any}],P=[{name:"underlay-padding",type:v.size,triggersBounds:m.any},{name:"underlay-color",type:v.color},{name:"underlay-opacity",type:v.zeroOneNumber,triggersBounds:m.zeroNonZero},{name:"underlay-shape",type:v.overlayShape,triggersBounds:m.any}],I=[{name:"transition-property",type:v.propList},{name:"transition-duration",type:v.time},{name:"transition-delay",type:v.time},{name:"transition-timing-function",type:v.easing}],N=function(oe,pe){return"label"===pe.value?-oe.poolIndex():pe.pfValue},B=[{name:"height",type:v.nodeSize,triggersBounds:m.any,hashOverride:N},{name:"width",type:v.nodeSize,triggersBounds:m.any,hashOverride:N},{name:"shape",type:v.nodeShape,triggersBounds:m.any},{name:"shape-polygon-points",type:v.polygonPointList,triggersBounds:m.any},{name:"background-color",type:v.color},{name:"background-fill",type:v.fill},{name:"background-opacity",type:v.zeroOneNumber},{name:"background-blacken",type:v.nOneOneNumber},{name:"background-gradient-stop-colors",type:v.colors},{name:"background-gradient-stop-positions",type:v.percentages},{name:"background-gradient-direction",type:v.gradientDirection},{name:"padding",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"padding-relative-to",type:v.paddingRelativeTo,triggersBounds:m.any},{name:"bounds-expansion",type:v.boundsExpansion,triggersBounds:m.any}],U=[{name:"border-color",type:v.color},{name:"border-opacity",type:v.zeroOneNumber},{name:"border-width",type:v.size,triggersBounds:m.any},{name:"border-style",type:v.borderStyle}],R=[{name:"background-image",type:v.urls},{name:"background-image-crossorigin",type:v.bgCrossOrigin},{name:"background-image-opacity",type:v.zeroOneNumbers},{name:"background-image-containment",type:v.bgContainment},{name:"background-image-smoothing",type:v.bools},{name:"background-position-x",type:v.bgPos},{name:"background-position-y",type:v.bgPos},{name:"background-width-relative-to",type:v.bgRelativeTo},{name:"background-height-relative-to",type:v.bgRelativeTo},{name:"background-repeat",type:v.bgRepeat},{name:"background-fit",type:v.bgFit},{name:"background-clip",type:v.bgClip},{name:"background-width",type:v.bgWH},{name:"background-height",type:v.bgWH},{name:"background-offset-x",type:v.bgPos},{name:"background-offset-y",type:v.bgPos}],V=[{name:"position",type:v.position,triggersBounds:m.any},{name:"compound-sizing-wrt-labels",type:v.compoundIncludeLabels,triggersBounds:m.any},{name:"min-width",type:v.size,triggersBounds:m.any},{name:"min-width-bias-left",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-width-bias-right",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height",type:v.size,triggersBounds:m.any},{name:"min-height-bias-top",type:v.sizeMaybePercent,triggersBounds:m.any},{name:"min-height-bias-bottom",type:v.sizeMaybePercent,triggersBounds:m.any}],F=[{name:"line-style",type:v.lineStyle},{name:"line-color",type:v.color},{name:"line-fill",type:v.fill},{name:"line-cap",type:v.lineCap},{name:"line-opacity",type:v.zeroOneNumber},{name:"line-dash-pattern",type:v.numbers},{name:"line-dash-offset",type:v.number},{name:"line-gradient-stop-colors",type:v.colors},{name:"line-gradient-stop-positions",type:v.percentages},{name:"curve-style",type:v.curveStyle,triggersBounds:m.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:v.zeroOneNumber,triggersBounds:m.any},{name:"source-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"target-endpoint",type:v.edgeEndpoint,triggersBounds:m.any},{name:"control-point-step-size",type:v.size,triggersBounds:m.any},{name:"control-point-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"control-point-weights",type:v.numbers,triggersBounds:m.any},{name:"segment-distances",type:v.bidirectionalSizes,triggersBounds:m.any},{name:"segment-weights",type:v.numbers,triggersBounds:m.any},{name:"taxi-turn",type:v.bidirectionalSizeMaybePercent,triggersBounds:m.any},{name:"taxi-turn-min-distance",type:v.size,triggersBounds:m.any},{name:"taxi-direction",type:v.axisDirection,triggersBounds:m.any},{name:"edge-distances",type:v.edgeDistances,triggersBounds:m.any},{name:"arrow-scale",type:v.positiveNumber,triggersBounds:m.any},{name:"loop-direction",type:v.angle,triggersBounds:m.any},{name:"loop-sweep",type:v.angle,triggersBounds:m.any},{name:"source-distance-from-node",type:v.size,triggersBounds:m.any},{name:"target-distance-from-node",type:v.size,triggersBounds:m.any}],j=[{name:"ghost",type:v.bool,triggersBounds:m.any},{name:"ghost-offset-x",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-offset-y",type:v.bidirectionalSize,triggersBounds:m.any},{name:"ghost-opacity",type:v.zeroOneNumber}],z=[{name:"selection-box-color",type:v.color},{name:"selection-box-opacity",type:v.zeroOneNumber},{name:"selection-box-border-color",type:v.color},{name:"selection-box-border-width",type:v.size},{name:"active-bg-color",type:v.color},{name:"active-bg-opacity",type:v.zeroOneNumber},{name:"active-bg-size",type:v.size},{name:"outside-texture-bg-color",type:v.color},{name:"outside-texture-bg-opacity",type:v.zeroOneNumber}],L=[];Yn.pieBackgroundN=16,L.push({name:"pie-size",type:v.sizeMaybePercent});for(var q=1;q<=Yn.pieBackgroundN;q++)L.push({name:"pie-"+q+"-background-color",type:v.color}),L.push({name:"pie-"+q+"-background-size",type:v.percent}),L.push({name:"pie-"+q+"-background-opacity",type:v.zeroOneNumber});var $=[],Z=Yn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:v.arrowShape,triggersBounds:m.any},{name:"arrow-color",type:v.color},{name:"arrow-fill",type:v.arrowFill}].forEach(function(Y){Z.forEach(function(oe){$.push({name:oe+"-"+Y.name,type:Y.type,triggersBounds:Y.triggersBounds})})},{});var W=Yn.properties=[].concat(S,I,A,M,P,j,_,C,y,b,D,B,U,R,L,V,F,$,z),X=Yn.propertyGroups={behavior:S,transition:I,visibility:A,overlay:M,underlay:P,ghost:j,commonLabel:_,labelDimensions:C,mainLabel:y,sourceLabel:b,targetLabel:D,nodeBody:B,nodeBorder:U,backgroundImage:R,pie:L,compound:V,edgeLine:F,edgeArrow:$,core:z},K=Yn.propertyGroupNames={};(Yn.propertyGroupKeys=Object.keys(X)).forEach(function(Y){K[Y]=X[Y].map(function(oe){return oe.name}),X[Y].forEach(function(oe){return oe.groupKey=Y})});var ae=Yn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Yn.propertyNames=W.map(function(Y){return Y.name});for(var ee=0;ee<W.length;ee++){var ie=W[ee];W[ie.name]=ie}for(var de=0;de<ae.length;de++){var ve=ae[de],se={name:ve.name,alias:!0,pointsTo:W[ve.pointsTo]};W.push(se),W[ve.name]=se}})(),Yn.getDefaultProperty=function(s){return this.getDefaultProperties()[s]},Yn.getDefaultProperties=function(){var s=this._private;if(null!=s.defaultProperties)return s.defaultProperties;for(var i=Ge({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(m,v){for(var y=1;y<=Yn.pieBackgroundN;y++)m[v.name.replace("{{i}}",y)]=v.value;return m},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(m,v){return Yn.arrowPrefixes.forEach(function(y){m[y+"-"+v.name]=v.value}),m},{})),o={},u=0;u<this.properties.length;u++){var c=this.properties[u];if(!c.pointsTo){var d=c.name,g=this.parse(d,i[d]);o[d]=g}}return s.defaultProperties=o,s.defaultProperties},Yn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Iu={parse:function(s,i,o,u){var c=this;if(He(i))return c.parseImplWarn(s,i,o,u);var y,m=Of(s,""+i,o?"t":"f","mapping"===u||!0===u||!1===u||null==u?"dontcare":u),v=c.propCache=c.propCache||[];return(y=v[m])||(y=v[m]=c.parseImplWarn(s,i,o,u)),(o||"mapping"===u)&&(y=Kr(y))&&(y.value=Kr(y.value)),y},parseImplWarn:function(s,i,o,u){var c=this.parseImpl(s,i,o,u);return!c&&null!=i&&qt("The style property `".concat(s,": ").concat(i,"` is invalid")),c&&("width"===c.name||"height"===c.name)&&"label"===i&&qt("The style value of `label` is deprecated for `"+c.name+"`"),c}};Iu.parseImpl=function(s,i,o,u){var c=this;s=Yi(s);var d=c.properties[s],f=i,g=c.types;if(!d||void 0===i)return null;d.alias&&(s=(d=d.pointsTo).name);var m=le(i);m&&(i=i.trim());var y,b,v=d.type;if(!v)return null;if(o&&(""===i||null===i))return{name:s,value:i,bypass:!0,deleteBypass:!0};if(He(i))return{name:s,value:i,strValue:"fn",mapped:g.fn,bypass:o};if(!(!m||u||i.length<7||"a"!==i[1])){if(i.length>=7&&"d"===i[0]&&(y=new RegExp(g.data.regex).exec(i)))return!o&&{name:s,value:y,strValue:""+i,mapped:g.data,field:y[1],bypass:o};if(i.length>=10&&"m"===i[0]&&(b=new RegExp(g.mapData.regex).exec(i))){if(o||v.multiple)return!1;var C=g.mapData;if(!v.color&&!v.number)return!1;var _=this.parse(s,b[4]);if(!_||_.mapped)return!1;var S=this.parse(s,b[5]);if(!S||S.mapped)return!1;if(_.pfValue===S.pfValue||_.strValue===S.strValue)return qt("`"+s+": "+i+"` is not a valid mapper because the output range is zero; converting to `"+s+": "+_.strValue+"`"),this.parse(s,_.strValue);if(v.color){var A=_.value,M=S.value;if(!(A[0]!==M[0]||A[1]!==M[1]||A[2]!==M[2]||A[3]!==M[3]&&(null!=A[3]&&1!==A[3]||null!=M[3]&&1!==M[3])))return!1}return{name:s,value:b,strValue:""+i,mapped:C,field:b[1],fieldMin:parseFloat(b[2]),fieldMax:parseFloat(b[3]),valueMin:_.value,valueMax:S.value,bypass:o}}}if(v.multiple&&"multiple"!==u){var I;if(I=m?i.split(/\s+/):Ve(i)?i:[i],v.evenMultiple&&I.length%2!=0)return null;for(var N=[],B=[],U=[],R="",V=!1,F=0;F<I.length;F++){var j=c.parse(s,I[F],o,"multiple");V=V||le(j.value),N.push(j.value),U.push(null!=j.pfValue?j.pfValue:j.value),B.push(j.units),R+=(F>0?" ":"")+j.strValue}return v.validate&&!v.validate(N,B)?null:v.singleEnum&&V?1===N.length&&le(N[0])?{name:s,value:N[0],strValue:N[0],bypass:o}:null:{name:s,value:N,pfValue:U,strValue:R,bypass:o,units:B}}var z=function(){for(var pe=0;pe<v.enums.length;pe++)if(v.enums[pe]===i)return{name:s,value:i,strValue:""+i,bypass:o};return null};if(v.number){var L,q="px";if(v.units&&(L=v.units),v.implicitUnits&&(q=v.implicitUnits),!v.unitless)if(m){var $="px|em"+(v.allowPercent?"|\\%":"");L&&($=L);var Z=i.match("^("+gn+")("+$+")?$");Z&&(i=Z[1],L=Z[2]||q)}else(!L||v.implicitUnits)&&(L=q);if(i=parseFloat(i),isNaN(i)&&void 0===v.enums)return null;if(isNaN(i)&&void 0!==v.enums)return i=f,z();if(v.integer&&!function(i){return Ce(i)&&Math.floor(i)===i}(i)||void 0!==v.min&&(i<v.min||v.strictMin&&i===v.min)||void 0!==v.max&&(i>v.max||v.strictMax&&i===v.max))return null;var W={name:s,value:i,strValue:""+i+(L||""),units:L,bypass:o};return W.pfValue=v.unitless||"px"!==L&&"em"!==L?i:"px"!==L&&L?this.getEmSizeInPixels()*i:i,("ms"===L||"s"===L)&&(W.pfValue="ms"===L?i:1e3*i),("deg"===L||"rad"===L)&&(W.pfValue="rad"===L?i:function(i){return Math.PI*i/180}(i)),"%"===L&&(W.pfValue=i/100),W}if(v.propList){var X=[],K=""+i;if("none"!==K){for(var Q=K.split(/\s*,\s*|\s+/),ae=0;ae<Q.length;ae++){var ee=Q[ae].trim();c.properties[ee]?X.push(ee):qt("`"+ee+"` is not a valid property name")}if(0===X.length)return null}return{name:s,value:X,strValue:0===X.length?"none":X.join(" "),bypass:o}}if(v.color){var ie=function(i){return(Ve(i)?i:null)||function(i){return Hg[i.toLowerCase()]}(i)||function(i){if((4===i.length||7===i.length)&&"#"===i[0]){var u,c,d,f=16;return 4===i.length?(u=parseInt(i[1]+i[1],f),c=parseInt(i[2]+i[2],f),d=parseInt(i[3]+i[3],f)):(u=parseInt(i[1]+i[2],f),c=parseInt(i[3]+i[4],f),d=parseInt(i[5]+i[6],f)),[u,c,d]}}(i)||function(i){var o,u=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(i);if(u){o=[];for(var c=[],d=1;d<=3;d++){var f=u[d];if("%"===f[f.length-1]&&(c[d]=!0),f=parseFloat(f),c[d]&&(f=f/100*255),f<0||f>255)return;o.push(Math.floor(f))}if((c[1]||c[2]||c[3])&&!(c[1]&&c[2]&&c[3]))return;var v=u[4];if(void 0!==v){if((v=parseFloat(v))<0||v>1)return;o.push(v)}}return o}(i)||function(i){var o,u,c,d,f,g,m,v;function y(_,S,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?_+6*(S-_)*A:A<.5?S:A<2/3?_+(S-_)*(2/3-A)*6:_}var b=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(i);if(b){if((u=parseInt(b[1]))<0?u=(360- -1*u%360)%360:u>360&&(u%=360),u/=360,(c=parseFloat(b[2]))<0||c>100||(c/=100,(d=parseFloat(b[3]))<0||d>100)||(d/=100,void 0!==(f=b[4])&&((f=parseFloat(f))<0||f>1)))return;if(0===c)g=m=v=Math.round(255*d);else{var D=d<.5?d*(1+c):d+c-d*c,C=2*d-D;g=Math.round(255*y(C,D,u+1/3)),m=Math.round(255*y(C,D,u)),v=Math.round(255*y(C,D,u-1/3))}o=[g,m,v,f]}return o}(i)}(i);return ie?{name:s,value:ie,pfValue:ie,strValue:"rgb("+ie[0]+","+ie[1]+","+ie[2]+")",bypass:o}:null}if(v.regex||v.regexes){if(v.enums){var de=z();if(de)return de}for(var ve=v.regexes?v.regexes:[v.regex],he=0;he<ve.length;he++){var Y=new RegExp(ve[he]).exec(i);if(Y)return{name:s,value:v.singleRegexMatchValue?Y[1]:Y,strValue:""+i,bypass:o}}return null}return v.string?{name:s,value:""+i,strValue:""+i,bypass:o}:v.enums?z():null};var hr=function s(i){if(!(this instanceof s))return new s(i);ls(i)?(this._private={cy:i,coreStyle:{}},this.length=0,this.resetToDefault()):$t("A style must have a core reference")},pr=hr.prototype;pr.instanceString=function(){return"style"},pr.clear=function(){for(var s=this._private,o=s.cy.elements(),u=0;u<this.length;u++)this[u]=void 0;return this.length=0,s.contextStyles={},s.propDiffs={},this.cleanElements(o,!0),o.forEach(function(c){var d=c[0]._private;d.styleDirty=!0,d.appliedInitStyle=!1}),this},pr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},pr.core=function(s){return this._private.coreStyle[s]||this.getDefaultProperty(s)},pr.selector=function(s){var i="core"===s?null:new ka(s),o=this.length++;return this[o]={selector:i,properties:[],mappedProperties:[],index:o},this},pr.css=function(){var s=this,i=arguments;if(1===i.length)for(var o=i[0],u=0;u<s.properties.length;u++){var c=s.properties[u],d=o[c.name];void 0===d&&(d=o[on(c.name)]),void 0!==d&&this.cssRule(c.name,d)}else 2===i.length&&this.cssRule(i[0],i[1]);return this},pr.style=pr.css,pr.cssRule=function(s,i){var o=this.parse(s,i);if(o){var u=this.length-1;this[u].properties.push(o),this[u].properties[o.name]=o,o.name.match(/pie-(\d+)-background-size/)&&o.value&&(this._private.hasPie=!0),o.mapped&&this[u].mappedProperties.push(o),!this[u].selector&&(this._private.coreStyle[o.name]=o)}return this},pr.append=function(s){return Ks(s)?s.appendToStyle(this):Ve(s)?this.appendFromJson(s):le(s)&&this.appendFromString(s),this},hr.fromJson=function(s,i){var o=new hr(s);return o.fromJson(i),o},hr.fromString=function(s,i){return new hr(s).fromString(i)},[fr,_r,Mu,Or,$a,xu,Yn,Iu].forEach(function(s){Ge(pr,s)}),hr.types=pr.types,hr.properties=pr.properties,hr.propertyGroups=pr.propertyGroups,hr.propertyGroupNames=pr.propertyGroupNames,hr.propertyGroupKeys=pr.propertyGroupKeys;var hh={style:function(i){return i&&this.setStyle(i).update(),this._private.style},setStyle:function(i){var o=this._private;return o.style=Ks(i)?i.generateStyle(this):Ve(i)?hr.fromJson(this,i):le(i)?hr.fromString(this,i):hr(this),o.style},updateStyle:function(){this.mutableElements().updateStyle()}},ua={autolock:function(i){return void 0===i?this._private.autolock:(this._private.autolock=!!i,this)},autoungrabify:function(i){return void 0===i?this._private.autoungrabify:(this._private.autoungrabify=!!i,this)},autounselectify:function(i){return void 0===i?this._private.autounselectify:(this._private.autounselectify=!!i,this)},selectionType:function(i){var o=this._private;return null==o.selectionType&&(o.selectionType="single"),void 0===i?o.selectionType:(("additive"===i||"single"===i)&&(o.selectionType=i),this)},panningEnabled:function(i){return void 0===i?this._private.panningEnabled:(this._private.panningEnabled=!!i,this)},userPanningEnabled:function(i){return void 0===i?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!i,this)},zoomingEnabled:function(i){return void 0===i?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!i,this)},userZoomingEnabled:function(i){return void 0===i?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!i,this)},boxSelectionEnabled:function(i){return void 0===i?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!i,this)},pan:function(){var u,c,d,f,g,i=arguments,o=this._private.pan;switch(i.length){case 0:return o;case 1:if(le(i[0]))return o[u=i[0]];if(Fe(i[0])){if(!this._private.panningEnabled)return this;g=(d=i[0]).y,Ce(f=d.x)&&(o.x=f),Ce(g)&&(o.y=g),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;c=i[1],("x"===(u=i[0])||"y"===u)&&Ce(c)&&(o[u]=c),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(i,o){var d,f,g,m,v,u=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(u.length){case 1:Fe(i)&&(v=(g=u[0]).y,Ce(m=g.x)&&(c.x+=m),Ce(v)&&(c.y+=v),this.emit("pan viewport"));break;case 2:f=o,("x"===(d=i)||"y"===d)&&Ce(f)&&(c[d]+=f),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(i,o){var u=this.getFitViewport(i,o);if(u){var c=this._private;c.zoom=u.zoom,c.pan=u.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(i,o){var u;if((Ce(i)&&void 0===o&&(o=i,i=void 0),this._private.panningEnabled&&this._private.zoomingEnabled)&&(le(i)?i=this.$(i):!function(i){return Fe(i)&&Ce(i.x1)&&Ce(i.x2)&&Ce(i.y1)&&Ce(i.y2)}(i)?Nt(i)||(i=this.mutableElements()):((u={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=u.x2-u.x1,u.h=u.y2-u.y1),!Nt(i)||!i.empty())){u=u||i.boundingBox();var m,f=this.width(),g=this.height();if(o=Ce(o)?o:0,!isNaN(f)&&!isNaN(g)&&f>0&&g>0&&!isNaN(u.w)&&!isNaN(u.h)&&u.w>0&&u.h>0)return{zoom:m=(m=(m=Math.min((f-2*o)/u.w,(g-2*o)/u.h))>this._private.maxZoom?this._private.maxZoom:m)<this._private.minZoom?this._private.minZoom:m,pan:{x:(f-m*(u.x1+u.x2))/2,y:(g-m*(u.y1+u.y2))/2}}}},zoomRange:function(i,o){var u=this._private;if(null==o){var c=i;i=c.min,o=c.max}return Ce(i)&&Ce(o)&&i<=o?(u.minZoom=i,u.maxZoom=o):Ce(i)&&void 0===o&&i<=u.maxZoom?u.minZoom=i:Ce(o)&&void 0===i&&o>=u.minZoom&&(u.maxZoom=o),this},minZoom:function(i){return void 0===i?this._private.minZoom:this.zoomRange({min:i})},maxZoom:function(i){return void 0===i?this._private.maxZoom:this.zoomRange({max:i})},getZoomedViewport:function(i){var d,f,o=this._private,u=o.pan,c=o.zoom,g=!1;return o.zoomingEnabled||(g=!0),Ce(i)?f=i:Fe(i)&&(f=i.level,null!=i.position?d=$c(i.position,c,u):null!=i.renderedPosition&&(d=i.renderedPosition),null!=d&&!o.panningEnabled&&(g=!0)),f=(f=f>o.maxZoom?o.maxZoom:f)<o.minZoom?o.minZoom:f,!g&&Ce(f)&&f!==c&&(null==d||Ce(d.x)&&Ce(d.y))?null!=d?{zoomed:!0,panned:!0,zoom:f,pan:{x:-f/c*(d.x-u.x)+d.x,y:-f/c*(d.y-u.y)+d.y}}:{zoomed:!0,panned:!1,zoom:f,pan:u}:null},zoom:function(i){if(void 0===i)return this._private.zoom;var o=this.getZoomedViewport(i),u=this._private;return null!=o&&o.zoomed?(u.zoom=o.zoom,o.panned&&(u.pan.x=o.pan.x,u.pan.y=o.pan.y),this.emit("zoom"+(o.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(i){var o=this._private,u=!0,c=!0,d=[],f=!1,g=!1;if(!i)return this;if(Ce(i.zoom)||(u=!1),Fe(i.pan)||(c=!1),!u&&!c)return this;if(u){var m=i.zoom;m<o.minZoom||m>o.maxZoom||!o.zoomingEnabled?f=!0:(o.zoom=m,d.push("zoom"))}if(c&&(!f||!i.cancelOnFailedZoom)&&o.panningEnabled){var v=i.pan;Ce(v.x)&&(o.pan.x=v.x,g=!1),Ce(v.y)&&(o.pan.y=v.y,g=!1),g||d.push("pan")}return d.length>0&&(d.push("viewport"),this.emit(d.join(" ")),this.notify("viewport")),this},center:function(i){var o=this.getCenterPan(i);return o&&(this._private.pan=o,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(i,o){if(this._private.panningEnabled){if(le(i)){var u=i;i=this.mutableElements().filter(u)}else Nt(i)||(i=this.mutableElements());if(0!==i.length){var c=i.boundingBox(),d=this.width(),f=this.height();return{x:(d-(o=void 0===o?this._private.zoom:o)*(c.x1+c.x2))/2,y:(f-o*(c.y1+c.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var u,c,i=this._private,o=i.container;return i.sizeCache=i.sizeCache||(o?(u=Ht.getComputedStyle(o),{width:o.clientWidth-(c=function(f){return parseFloat(u.getPropertyValue(f))})("padding-left")-c("padding-right"),height:o.clientHeight-c("padding-top")-c("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var i=this._private.pan,o=this._private.zoom,u=this.renderedExtent(),c={x1:(u.x1-i.x)/o,x2:(u.x2-i.x)/o,y1:(u.y1-i.y)/o,y2:(u.y2-i.y)/o};return c.w=c.x2-c.x1,c.h=c.y2-c.y1,c},renderedExtent:function(){var i=this.width(),o=this.height();return{x1:0,y1:0,x2:i,y2:o,w:i,h:o}},multiClickDebounceTime:function(i){return i?(this._private.multiClickDebounceTime=i,this):this._private.multiClickDebounceTime}};ua.centre=ua.center,ua.autolockNodes=ua.autolock,ua.autoungrabifyNodes=ua.autoungrabify;var Ni={data:xt.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:xt.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:xt.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:xt.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Ni.attr=Ni.data,Ni.removeAttr=Ni.removeData;var Pu=function(i){var o=this,u=(i=Ge({},i)).container;u&&!pn(u)&&pn(u[0])&&(u=u[0]);var c=u?u._cyreg:null;(c=c||{})&&c.cy&&(c.cy.destroy(),c={});var d=c.readies=c.readies||[];u&&(u._cyreg=c),c.cy=o;var f=void 0!==Ht&&void 0!==u&&!i.headless,g=i;g.layout=Ge({name:f?"grid":"null"},g.layout),g.renderer=Ge({name:f?"canvas":"null"},g.renderer);var m=function(_,S,A){return void 0!==S?S:void 0!==A?A:_},v=this._private={container:u,ready:!1,options:g,elements:new jt(this),listeners:[],aniEles:new jt(this),data:g.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:m(!0,g.zoomingEnabled),userZoomingEnabled:m(!0,g.userZoomingEnabled),panningEnabled:m(!0,g.panningEnabled),userPanningEnabled:m(!0,g.userPanningEnabled),boxSelectionEnabled:m(!0,g.boxSelectionEnabled),autolock:m(!1,g.autolock,g.autolockNodes),autoungrabify:m(!1,g.autoungrabify,g.autoungrabifyNodes),autounselectify:m(!1,g.autounselectify),styleEnabled:void 0===g.styleEnabled?f:g.styleEnabled,zoom:Ce(g.zoom)?g.zoom:1,pan:{x:Fe(g.pan)&&Ce(g.pan.x)?g.pan.x:0,y:Fe(g.pan)&&Ce(g.pan.y)?g.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:m(250,g.multiClickDebounceTime)};this.createEmitter(),this.selectionType(g.selectionType),this.zoomRange({min:g.minZoom,max:g.maxZoom}),v.styleEnabled&&o.setStyle([]);var b=Ge({},g,g.renderer);o.initRenderer(b),function(_,S){if(_.some(_n))return oo.all(_).then(S);S(_)}([g.style,g.elements],function(C){var _=C[0],S=C[1];v.styleEnabled&&o.style().append(_),function(_,S,A){o.notifications(!1);var M=o.mutableElements();M.length>0&&M.remove(),null!=_&&(Fe(_)||Ve(_))&&o.add(_),o.one("layoutready",function(I){o.notifications(!0),o.emit(I),o.one("load",S),o.emitAndNotify("load")}).one("layoutstop",function(){o.one("done",A),o.emit("done")});var P=Ge({},o._private.options.layout);P.eles=o.elements(),o.layout(P).run()}(S,function(){o.startAnimationLoop(),v.ready=!0,He(g.ready)&&o.on("ready",g.ready);for(var A=0;A<d.length;A++)o.on("ready",d[A]);c&&(c.readies=[]),o.emit("ready")},g.done)})},El=Pu.prototype;Ge(El,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(i){return this.isReady()?this.emitter().emit("ready",[],i):this.on("ready",i),this},destroy:function(){var i=this;if(!i.destroyed())return i.stopAnimationLoop(),i.destroyRenderer(),this.emit("destroy"),i._private.destroyed=!0,i},hasElementWithId:function(i){return this._private.elements.hasElementWithId(i)},getElementById:function(i){return this._private.elements.getElementById(i)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(i){return this._private.elements.merge(i),this},removeFromPool:function(i){return this._private.elements.unmerge(i),this},container:function(){return this._private.container||null},mount:function(i){if(null!=i){var o=this,u=o._private,c=u.options;return!pn(i)&&pn(i[0])&&(i=i[0]),o.stopAnimationLoop(),o.destroyRenderer(),u.container=i,u.styleEnabled=!0,o.invalidateSize(),o.initRenderer(Ge({},c,c.renderer,{name:"null"===c.renderer.name?"canvas":c.renderer.name})),o.startAnimationLoop(),o.style(c.style),o.emit("mount"),o}},unmount:function(){var i=this;return i.stopAnimationLoop(),i.destroyRenderer(),i.initRenderer({name:"null"}),i.emit("unmount"),i},options:function(){return Kr(this._private.options)},json:function(i){var o=this,u=o._private,c=o.mutableElements();if(Fe(i)){if(o.startBatch(),i.elements){var f={},g=function(N,B){for(var U=[],R=[],V=0;V<N.length;V++){var F=N[V];if(F.data.id){var j=""+F.data.id,z=o.getElementById(j);f[j]=!0,0!==z.length?R.push({ele:z,json:F}):(B&&(F.group=B),U.push(F))}else qt("cy.json() cannot handle elements without an ID attribute")}o.add(U);for(var L=0;L<R.length;L++){var q=R[L];q.ele.json(q.json)}};if(Ve(i.elements))g(i.elements);else for(var m=["nodes","edges"],v=0;v<m.length;v++){var y=m[v],b=i.elements[y];Ve(b)&&g(b,y)}var D=o.collection();c.filter(function(I){return!f[I.id()]}).forEach(function(I){I.isParent()?D.merge(I):I.remove()}),D.forEach(function(I){return I.children().move({parent:null})}),D.forEach(function(I){return(N=I,o.getElementById(N.id())).remove();var N})}i.style&&o.style(i.style),null!=i.zoom&&i.zoom!==u.zoom&&o.zoom(i.zoom),i.pan&&(i.pan.x!==u.pan.x||i.pan.y!==u.pan.y)&&o.pan(i.pan),i.data&&o.data(i.data);for(var C=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],_=0;_<C.length;_++){var S=C[_];null!=i[S]&&o[S](i[S])}return o.endBatch(),this}var M={};i?M.elements=this.elements().map(function(I){return I.json()}):(M.elements={},c.forEach(function(I){var N=I.group();M.elements[N]||(M.elements[N]=[]),M.elements[N].push(I.json())})),this._private.styleEnabled&&(M.style=o.style().json()),M.data=Kr(o.data());var P=u.options;return M.zoomingEnabled=u.zoomingEnabled,M.userZoomingEnabled=u.userZoomingEnabled,M.zoom=u.zoom,M.minZoom=u.minZoom,M.maxZoom=u.maxZoom,M.panningEnabled=u.panningEnabled,M.userPanningEnabled=u.userPanningEnabled,M.pan=Kr(u.pan),M.boxSelectionEnabled=u.boxSelectionEnabled,M.renderer=Kr(P.renderer),M.hideEdgesOnViewport=P.hideEdgesOnViewport,M.textureOnViewport=P.textureOnViewport,M.wheelSensitivity=P.wheelSensitivity,M.motionBlur=P.motionBlur,M.multiClickDebounceTime=P.multiClickDebounceTime,M}}),El.$id=El.getElementById,[ml,ib,Ov,fh,Va,sb,wl,Ha,hh,ua,Ni].forEach(function(s){Ge(El,s)});var Lv={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}},Eo=function(i){return i.scratch("breadthfirst")},ph=function(i,o){return i.scratch("breadthfirst",o)};function gh(s){this.options=Ge({},Lv,s)}gh.prototype.run=function(){var v,s=this.options,i=s,o=s.cy,u=i.eles,c=u.nodes().filter(function(xe){return!xe.isParent()}),d=u,f=i.directed,g=i.maximal||i.maximalAdjustments>0,m=Rr(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(Nt(i.roots))v=i.roots;else if(Ve(i.roots)){for(var y=[],b=0;b<i.roots.length;b++){var C=o.getElementById(i.roots[b]);y.push(C)}v=o.collection(y)}else if(le(i.roots))v=o.$(i.roots);else if(f)v=c.roots();else{var _=u.components();v=o.collection();for(var S=function(Te){var We=_[Te],$e=We.maxDegree(!1),ke=We.filter(function(je){return je.degree(!1)===$e});v=v.add(ke)},A=0;A<_.length;A++)S(A)}var M=[],P={},I=function(Te,We){null==M[We]&&(M[We]=[]);var $e=M[We].length;M[We].push(Te),ph(Te,{index:$e,depth:We})};d.bfs({roots:v,directed:i.directed,visit:function(Te,We,$e,ke,je){var Rt=Te[0],Et=Rt.id();I(Rt,je),P[Et]=!0}});for(var B=[],U=0;U<c.length;U++){var R=c[U];P[R.id()]||B.push(R)}var V=function(Te){for(var We=M[Te],$e=0;$e<We.length;$e++){var ke=We[$e];null!=ke?ph(ke,{depth:Te,index:$e}):(We.splice($e,1),$e--)}},F=function(){for(var Te=0;Te<M.length;Te++)V(Te)},j=function(Te,We){for(var $e=Eo(Te),ke=Te.incomers().filter(function(O){return O.isNode()&&u.has(O)}),je=-1,Rt=Te.id(),Et=0;Et<ke.length;Et++){var _e=Eo(ke[Et]);je=Math.max(je,_e.depth)}return $e.depth<=je&&(We[Rt]?null:(function(Te,We){var $e=Eo(Te);M[$e.depth][$e.index]=null,I(Te,We)}(Te,je+1),We[Rt]=!0,!0))};if(f&&g){var z=[],L={},q=function(Te){return z.push(Te)};for(c.forEach(function(xe){return z.push(xe)});z.length>0;){var Z=z.shift(),W=j(Z,L);if(W)Z.outgoers().filter(function(xe){return xe.isNode()&&u.has(xe)}).forEach(q);else if(null===W){qt("Detected double maximal shift for node `"+Z.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}F();var X=0;if(i.avoidOverlap)for(var K=0;K<c.length;K++){var ae=c[K].layoutDimensions(i);X=Math.max(X,ae.w,ae.h)}for(var de={},ve=function(Te){if(de[Te.id()])return de[Te.id()];for(var We=Eo(Te).depth,$e=Te.neighborhood(),ke=0,je=0,Rt=0;Rt<$e.length;Rt++){var Et=$e[Rt];if(!Et.isEdge()&&!Et.isParent()&&c.has(Et)){var ht=Eo(Et);if(null!=ht){var _e=ht.index,O=ht.depth;null!=_e&&null!=O&&O<We&&(ke+=_e/M[O].length,je++)}}}return ke/=je=Math.max(1,je),0===je&&(ke=0),de[Te.id()]=ke,ke},he=function(Te,We){var je=ve(Te)-ve(We);return 0===je?Pc(Te.id(),We.id()):je},se=0;se<M.length;se++)M[se].sort(he),V(se);for(var Y=[],oe=0;oe<B.length;oe++)Y.push(B[oe]);M.unshift(Y),F();for(var pe=0,Ee=0;Ee<M.length;Ee++)pe=Math.max(M[Ee].length,pe);var Me_x=m.x1+m.w/2,Me_y=m.x1+m.h/2,Ze=M.reduce(function(xe,Te){return Math.max(xe,Te.length)},0);return u.nodes().layoutPositions(this,i,function(Te){var We=Eo(Te),$e=We.depth,ke=We.index,je=M[$e].length,Rt=Math.max(m.w/((i.grid?Ze:je)+1),X),Et=Math.max(m.h/(M.length+1),X),ht=Math.min(m.w/2/M.length,m.h/2/M.length);if(ht=Math.max(ht,X),i.circle){var O=ht*$e+ht-(M.length>0&&M[0].length<=3?ht/2:0),ne=2*Math.PI/M[$e].length*ke;return 0===$e&&1===M[0].length&&(O=1),{x:Me_x+O*Math.cos(ne),y:Me_y+O*Math.sin(ne)}}return{x:Me_x+(ke+1-(je+1)/2)*Rt,y:($e+1)*Et}}),this};var Bv={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function wd(s){this.options=Ge({},Bv,s)}wd.prototype.run=function(){var s=this.options,i=s,o=s.cy,u=i.eles,c=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,d=u.nodes().not(":parent");i.sort&&(d=d.sort(i.sort));for(var y,f=Rr(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()}),g={x:f.x1+f.w/2,y:f.y1+f.h/2},v=(void 0===i.sweep?2*Math.PI-2*Math.PI/d.length:i.sweep)/Math.max(1,d.length-1),b=0,D=0;D<d.length;D++){var _=d[D].layoutDimensions(i);b=Math.max(b,_.w,_.h)}if(y=Ce(i.radius)?i.radius:d.length<=1?0:Math.min(f.h,f.w)/2-b,d.length>1&&i.avoidOverlap){b*=1.75;var M=Math.cos(v)-Math.cos(0),P=Math.sin(v)-Math.sin(0),I=Math.sqrt(b*b/(M*M+P*P));y=Math.max(I,y)}return u.nodes().layoutPositions(this,i,function(U,R){var V=i.startAngle+R*v*(c?1:-1),F=y*Math.cos(V),j=y*Math.sin(V);return{x:g.x+F,y:g.y+j}}),this};var bd={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(i){return i.degree()},levelWidth:function(i){return i.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Dl(s){this.options=Ge({},bd,s)}Dl.prototype.run=function(){for(var s=this.options,i=s,o=void 0!==i.counterclockwise?!i.counterclockwise:i.clockwise,u=s.cy,c=i.eles,d=c.nodes().not(":parent"),f=Rr(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:u.width(),h:u.height()}),g={x:f.x1+f.w/2,y:f.y1+f.h/2},m=[],v=0,y=0;y<d.length;y++){var D,b=d[y];D=i.concentric(b),m.push({value:D,node:b}),b._private.scratch.concentric=D}d.updateStyle();for(var C=0;C<d.length;C++){var S=d[C].layoutDimensions(i);v=Math.max(v,S.w,S.h)}m.sort(function(xe,Te){return Te.value-xe.value});for(var A=i.levelWidth(d),M=[[]],P=M[0],I=0;I<m.length;I++){var N=m[I];P.length>0&&Math.abs(P[0].value-N.value)>=A&&M.push(P=[]),P.push(N)}var U=v+i.minNodeSpacing;if(!i.avoidOverlap){var R=M.length>0&&M[0].length>1,V=Math.min(f.w,f.h)/2-U;U=Math.min(U,V/(M.length+R?1:0))}for(var j=0,z=0;z<M.length;z++){var L=M[z],q=void 0===i.sweep?2*Math.PI-2*Math.PI/L.length:i.sweep,$=L.dTheta=q/Math.max(1,L.length-1);if(L.length>1&&i.avoidOverlap){var Z=Math.cos($)-Math.cos(0),W=Math.sin($)-Math.sin(0),X=Math.sqrt(U*U/(Z*Z+W*W));j=Math.max(X,j)}L.r=j,j+=U}if(i.equidistant){for(var K=0,Q=0,ae=0;ae<M.length;ae++)K=Math.max(K,M[ae].r-Q);Q=0;for(var de=0;de<M.length;de++){var ve=M[de];0===de&&(Q=ve.r),ve.r=Q,Q+=K}}for(var he={},se=0;se<M.length;se++)for(var Y=M[se],oe=Y.dTheta,pe=Y.r,Ee=0;Ee<Y.length;Ee++){var Me=Y[Ee],Ze=i.startAngle+(o?1:-1)*oe*Ee,it={x:g.x+pe*Math.cos(Ze),y:g.y+pe*Math.sin(Ze)};he[Me.node.id()]=it}return c.nodes().layoutPositions(this,i,function(xe){var Te=xe.id();return he[Te]}),this};var vh,Cl={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(i,o){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(i){return 2048},nodeOverlap:4,idealEdgeLength:function(i){return 32},edgeElasticity:function(i){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Do(s){this.options=Ge({},Cl,s),this.options.layout=this}Do.prototype.run=function(){var s=this.options,i=s.cy,o=this;o.stopped=!1,(!0===s.animate||!1===s.animate)&&o.emit({type:"layoutstart",layout:o}),vh=!0===s.debug;var u=Ru(i,o,s);vh&&(void 0)(u),s.randomize&&mh(u);var c=Ti(),d=function(){_l(u,i,s),!0===s.fit&&i.fit(s.padding)},f=function(D){return!(o.stopped||D>=s.numIter||(wh(u,s),u.temperature=u.temperature*s.coolingFactor,u.temperature<s.minTemp))},g=function(){if(!0===s.animate||!1===s.animate)d(),o.one("layoutstop",s.stop),o.emit({type:"layoutstop",layout:o});else{var D=s.eles.nodes(),C=yh(u,s,D);D.layoutPositions(o,s,C)}},m=0,v=!0;if(!0===s.animate)!function b(){for(var D=0;v&&D<s.refresh;)v=f(m),m++,D++;v?(Ti()-c>=s.animationThreshold&&d(),Rc(b)):(Ed(u,s),g())}();else{for(;v;)v=f(m),m++;Ed(u,s),g()}return this},Do.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Do.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Ru=function(i,o,u){for(var c=u.eles.edges(),d=u.eles.nodes(),f={isCompound:i.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:d.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:c.size(),temperature:u.initialTemp,clientWidth:i.width(),clientHeight:i.width(),boundingBox:Rr(u.boundingBox?u.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()})},g=u.eles.components(),m={},v=0;v<g.length;v++)for(var y=g[v],b=0;b<y.length;b++)m[y[b].id()]=v;for(v=0;v<f.nodeSize;v++){var _=(C=d[v]).layoutDimensions(u);(S={}).isLocked=C.locked(),S.id=C.data("id"),S.parentId=C.data("parent"),S.cmptId=m[C.id()],S.children=[],S.positionX=C.position("x"),S.positionY=C.position("y"),S.offsetX=0,S.offsetY=0,S.height=_.w,S.width=_.h,S.maxX=S.positionX+S.width/2,S.minX=S.positionX-S.width/2,S.maxY=S.positionY+S.height/2,S.minY=S.positionY-S.height/2,S.padLeft=parseFloat(C.style("padding")),S.padRight=parseFloat(C.style("padding")),S.padTop=parseFloat(C.style("padding")),S.padBottom=parseFloat(C.style("padding")),S.nodeRepulsion=He(u.nodeRepulsion)?u.nodeRepulsion(C):u.nodeRepulsion,f.layoutNodes.push(S),f.idToIndex[S.id]=v}var A=[],M=0,P=-1,I=[];for(v=0;v<f.nodeSize;v++){var C,N=(C=f.layoutNodes[v]).parentId;null!=N?f.layoutNodes[f.idToIndex[N]].children.push(C.id):(A[++P]=C.id,I.push(C.id))}for(f.graphSet.push(I);M<=P;){var B=A[M++],R=f.layoutNodes[f.idToIndex[B]].children;if(R.length>0)for(f.graphSet.push(R),v=0;v<R.length;v++)A[++P]=R[v]}for(v=0;v<f.graphSet.length;v++){var V=f.graphSet[v];for(b=0;b<V.length;b++)f.indexToGraph[f.idToIndex[V[b]]]=v}for(v=0;v<f.edgeSize;v++){var j=c[v],z={};z.id=j.data("id"),z.sourceId=j.data("source"),z.targetId=j.data("target");var L=He(u.idealEdgeLength)?u.idealEdgeLength(j):u.idealEdgeLength,q=He(u.edgeElasticity)?u.edgeElasticity(j):u.edgeElasticity,$=f.idToIndex[z.sourceId],Z=f.idToIndex[z.targetId];if(f.indexToGraph[$]!=f.indexToGraph[Z]){for(var K=Vv(z.sourceId,z.targetId,f),Q=f.graphSet[K],ae=0,S=f.layoutNodes[$];-1===Q.indexOf(S.id);)S=f.layoutNodes[f.idToIndex[S.parentId]],ae++;for(S=f.layoutNodes[Z];-1===Q.indexOf(S.id);)S=f.layoutNodes[f.idToIndex[S.parentId]],ae++;L*=ae*u.nestingFactor}z.idealLength=L,z.elasticity=q,f.layoutEdges.push(z)}return f},Vv=function(i,o,u){var c=Hv(i,o,0,u);return 2>c.count?0:c.graph},Hv=function s(i,o,u,c){var d=c.graphSet[u];if(-1<d.indexOf(i)&&-1<d.indexOf(o))return{count:2,graph:u};for(var f=0,g=0;g<d.length;g++){var y=c.layoutNodes[c.idToIndex[d[g]]].children;if(0!==y.length){var D=s(i,o,c.indexToGraph[c.idToIndex[y[0]]],c);if(0!==D.count){if(1!==D.count)return D;if(2==++f)break}}}return{count:f,graph:u}},mh=function(i,o){for(var u=i.clientWidth,c=i.clientHeight,d=0;d<i.nodeSize;d++){var f=i.layoutNodes[d];0===f.children.length&&!f.isLocked&&(f.positionX=Math.random()*u,f.positionY=Math.random()*c)}},yh=function(i,o,u){var c=i.boundingBox,d={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return o.boundingBox&&(u.forEach(function(f){var g=i.layoutNodes[i.idToIndex[f.data("id")]];d.x1=Math.min(d.x1,g.positionX),d.x2=Math.max(d.x2,g.positionX),d.y1=Math.min(d.y1,g.positionY),d.y2=Math.max(d.y2,g.positionY)}),d.w=d.x2-d.x1,d.h=d.y2-d.y1),function(f,g){var m=i.layoutNodes[i.idToIndex[f.data("id")]];return o.boundingBox?{x:c.x1+(m.positionX-d.x1)/d.w*c.w,y:c.y1+(m.positionY-d.y1)/d.h*c.h}:{x:m.positionX,y:m.positionY}}},_l=function(i,o,u){var c=u.layout,d=u.eles.nodes(),f=yh(i,u,d);d.positions(f),!0!==i.ready&&(i.ready=!0,c.one("layoutready",u.ready),c.emit({type:"layoutready",layout:this}))},wh=function(i,o,u){Uv(i,o),Sl(i),zv(i,o),jv(i),qv(i)},Uv=function(i,o){for(var u=0;u<i.graphSet.length;u++)for(var c=i.graphSet[u],d=c.length,f=0;f<d;f++)for(var g=i.layoutNodes[i.idToIndex[c[f]]],m=f+1;m<d;m++)bh(g,i.layoutNodes[i.idToIndex[c[m]]],i,o)},Ue=function(i){return-i+2*i*Math.random()},bh=function(i,o,u,c){if(i.cmptId===o.cmptId||u.isCompound){var g=o.positionX-i.positionX,m=o.positionY-i.positionY;0===g&&0===m&&(g=Ue(1),m=Ue(1));var y=ob(i,o,g,m);if(y>0)var C=(b=c.nodeOverlap*y)*g/(D=Math.sqrt(g*g+m*m)),_=b*m/D;else{var b,S=Co(i,g,m),A=Co(o,-1*g,-1*m),M=A.x-S.x,P=A.y-S.y,I=M*M+P*P,D=Math.sqrt(I);C=(b=(i.nodeRepulsion+o.nodeRepulsion)/I)*M/D,_=b*P/D}i.isLocked||(i.offsetX-=C,i.offsetY-=_),o.isLocked||(o.offsetX+=C,o.offsetY+=_)}},ob=function(i,o,u,c){if(u>0)var d=i.maxX-o.minX;else d=o.maxX-i.minX;if(c>0)var f=i.maxY-o.minY;else f=o.maxY-i.minY;return d>=0&&f>=0?Math.sqrt(d*d+f*f):0},Co=function(i,o,u){var c=i.positionX,d=i.positionY,f=i.height||1,g=i.width||1,m=u/o,v=f/g,y={};return 0===o&&0<u||0===o&&0>u?(y.x=c,y.y=d+f/2,y):0<o&&-1*v<=m&&m<=v?(y.x=c+g/2,y.y=d+g*u/2/o,y):0>o&&-1*v<=m&&m<=v?(y.x=c-g/2,y.y=d-g*u/2/o,y):0<u&&(m<=-1*v||m>=v)?(y.x=c+f*o/2/u,y.y=d+f/2,y):(0>u&&(m<=-1*v||m>=v)&&(y.x=c-f*o/2/u,y.y=d-f/2),y)},Sl=function(i,o){for(var u=0;u<i.edgeSize;u++){var c=i.layoutEdges[u],f=i.layoutNodes[i.idToIndex[c.sourceId]],m=i.layoutNodes[i.idToIndex[c.targetId]],v=m.positionX-f.positionX,y=m.positionY-f.positionY;if(0!==v||0!==y){var b=Co(f,v,y),D=Co(m,-1*v,-1*y),C=D.x-b.x,_=D.y-b.y,S=Math.sqrt(C*C+_*_),A=Math.pow(c.idealLength-S,2)/c.elasticity;if(0!==S)var M=A*C/S,P=A*_/S;else M=0,P=0;f.isLocked||(f.offsetX+=M,f.offsetY+=P),m.isLocked||(m.offsetX-=M,m.offsetY-=P)}}},zv=function(i,o){if(0!==o.gravity)for(var c=0;c<i.graphSet.length;c++){var d=i.graphSet[c],f=d.length;if(0===c)var g=i.clientHeight/2,m=i.clientWidth/2;else{var y=i.layoutNodes[i.idToIndex[i.layoutNodes[i.idToIndex[d[0]]].parentId]];g=y.positionX,m=y.positionY}for(var b=0;b<f;b++){var D=i.layoutNodes[i.idToIndex[d[b]]];if(!D.isLocked){var C=g-D.positionX,_=m-D.positionY,S=Math.sqrt(C*C+_*_);if(S>1){var M=o.gravity*_/S;D.offsetX+=o.gravity*C/S,D.offsetY+=M}}}}},jv=function(i,o){var u=[],c=0,d=-1;for(u.push.apply(u,i.graphSet[0]),d+=i.graphSet[0].length;c<=d;){var f=u[c++],m=i.layoutNodes[i.idToIndex[f]],v=m.children;if(0<v.length&&!m.isLocked){for(var y=m.offsetX,b=m.offsetY,D=0;D<v.length;D++){var C=i.layoutNodes[i.idToIndex[v[D]]];C.offsetX+=y,C.offsetY+=b,u[++d]=v[D]}m.offsetX=0,m.offsetY=0}}},qv=function(i,o){for(var u=0;u<i.nodeSize;u++)0<(c=i.layoutNodes[u]).children.length&&(c.maxX=void 0,c.minX=void 0,c.maxY=void 0,c.minY=void 0);for(u=0;u<i.nodeSize;u++)if(!(0<(c=i.layoutNodes[u]).children.length||c.isLocked)){var d=Tl(c.offsetX,c.offsetY,i.temperature);c.positionX+=d.x,c.positionY+=d.y,c.offsetX=0,c.offsetY=0,c.minX=c.positionX-c.width,c.maxX=c.positionX+c.width,c.minY=c.positionY-c.height,c.maxY=c.positionY+c.height,ki(c,i)}for(u=0;u<i.nodeSize;u++){var c;0<(c=i.layoutNodes[u]).children.length&&!c.isLocked&&(c.positionX=(c.maxX+c.minX)/2,c.positionY=(c.maxY+c.minY)/2,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY)}},Tl=function(i,o,u){var c=Math.sqrt(i*i+o*o);if(c>u)var d={x:u*i/c,y:u*o/c};else d={x:i,y:o};return d},ki=function s(i,o){var u=i.parentId;if(null!=u){var c=o.layoutNodes[o.idToIndex[u]],d=!1;if((null==c.maxX||i.maxX+c.padRight>c.maxX)&&(c.maxX=i.maxX+c.padRight,d=!0),(null==c.minX||i.minX-c.padLeft<c.minX)&&(c.minX=i.minX-c.padLeft,d=!0),(null==c.maxY||i.maxY+c.padBottom>c.maxY)&&(c.maxY=i.maxY+c.padBottom,d=!0),(null==c.minY||i.minY-c.padTop<c.minY)&&(c.minY=i.minY-c.padTop,d=!0),d)return s(c,o)}},Ed=function(i,o){for(var u=i.layoutNodes,c=[],d=0;d<u.length;d++){var f=u[d],g=f.cmptId;(c[g]=c[g]||[]).push(f)}var v=0;for(d=0;d<c.length;d++)if(y=c[d]){y.x1=1/0,y.x2=-1/0,y.y1=1/0,y.y2=-1/0;for(var b=0;b<y.length;b++){var D=y[b];y.x1=Math.min(y.x1,D.positionX-D.width/2),y.x2=Math.max(y.x2,D.positionX+D.width/2),y.y1=Math.min(y.y1,D.positionY-D.height/2),y.y2=Math.max(y.y2,D.positionY+D.height/2)}y.w=y.x2-y.x1,y.h=y.y2-y.y1,v+=y.w*y.h}c.sort(function(P,I){return I.w*I.h-P.w*P.h});var C=0,_=0,S=0,A=0,M=Math.sqrt(v)*i.clientWidth/i.clientHeight;for(d=0;d<c.length;d++){var y;if(y=c[d]){for(b=0;b<y.length;b++)(D=y[b]).isLocked||(D.positionX+=C-y.x1,D.positionY+=_-y.y1);C+=y.w+o.componentSpacing,S+=y.w+o.componentSpacing,A=Math.max(A,y.h),S>M&&(_+=A+o.componentSpacing,C=0,S=0,A=0)}}},_o={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(i){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Eh(s){this.options=Ge({},_o,s)}Eh.prototype.run=function(){var s=this.options,i=s,o=s.cy,u=i.eles,c=u.nodes().not(":parent");i.sort&&(c=c.sort(i.sort));var d=Rr(i.boundingBox?i.boundingBox:{x1:0,y1:0,w:o.width(),h:o.height()});if(0===d.h||0===d.w)u.nodes().layoutPositions(this,i,function(de){return{x:d.x1,y:d.y1}});else{var f=c.size(),g=Math.sqrt(f*d.h/d.w),m=Math.round(g),v=Math.round(d.w/d.h*g),y=function(ve){if(null==ve)return Math.min(m,v);Math.min(m,v)==m?m=ve:v=ve},b=function(ve){if(null==ve)return Math.max(m,v);Math.max(m,v)==m?m=ve:v=ve},D=i.rows,C=null!=i.cols?i.cols:i.columns;if(null!=D&&null!=C)m=D,v=C;else if(null!=D&&null==C)m=D,v=Math.ceil(f/m);else if(null==D&&null!=C)v=C,m=Math.ceil(f/v);else if(v*m>f){var _=y(),S=b();(_-1)*S>=f?y(_-1):(S-1)*_>=f&&b(S-1)}else for(;v*m<f;){var A=y(),M=b();(M+1)*A>=f?b(M+1):y(A+1)}var P=d.w/v,I=d.h/m;if(i.condense&&(P=0,I=0),i.avoidOverlap)for(var N=0;N<c.length;N++){var B=c[N],U=B._private.position;(null==U.x||null==U.y)&&(U.x=0,U.y=0);var R=B.layoutDimensions(i),V=i.avoidOverlapPadding,j=R.h+V;P=Math.max(P,R.w+V),I=Math.max(I,j)}for(var z={},L=function(ve,he){return!!z["c-"+ve+"-"+he]},q=function(ve,he){z["c-"+ve+"-"+he]=!0},$=0,Z=0,W=function(){++Z>=v&&(Z=0,$++)},X={},K=0;K<c.length;K++){var Q=c[K],ae=i.position(Q);if(ae&&(void 0!==ae.row||void 0!==ae.col)){var ee={row:ae.row,col:ae.col};if(void 0===ee.col)for(ee.col=0;L(ee.row,ee.col);)ee.col++;else if(void 0===ee.row)for(ee.row=0;L(ee.row,ee.col);)ee.row++;X[Q.id()]=ee,q(ee.row,ee.col)}}c.layoutPositions(this,i,function(ve,he){var se,Y;if(ve.locked()||ve.isParent())return!1;var oe=X[ve.id()];if(oe)se=oe.col*P+P/2+d.x1,Y=oe.row*I+I/2+d.y1;else{for(;L($,Z);)W();se=Z*P+P/2+d.x1,Y=$*I+I/2+d.y1,q($,Z),W()}return{x:se,y:Y}})}return this};var Dh={ready:function(){},stop:function(){}};function Al(s){this.options=Ge({},Dh,s)}Al.prototype.run=function(){var s=this.options,i=s.eles,o=this;return o.emit("layoutstart"),i.nodes().positions(function(){return{x:0,y:0}}),o.one("layoutready",s.ready),o.emit("layoutready"),o.one("layoutstop",s.stop),o.emit("layoutstop"),this},Al.prototype.stop=function(){return this};var Nu={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Dd(s){this.options=Ge({},Nu,s)}Dd.prototype.run=function(){var s=this.options,o=s.eles.nodes(),u=He(s.positions);return o.layoutPositions(this,s,function(d,f){var g=function(d){if(null==s.positions)return function(i){return{x:i.x,y:i.y}}(d.position());if(u)return s.positions(d);var f=s.positions[d._private.data.id];return null==f?null:f}(d);return!d.locked()&&null!=g&&g}),this};var Gv={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(i,o){return!0},ready:void 0,stop:void 0,transform:function(i,o){return o}};function Ch(s){this.options=Ge({},Gv,s)}Ch.prototype.run=function(){var s=this.options,i=s.cy,o=s.eles,u=Rr(s.boundingBox?s.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});return o.nodes().layoutPositions(this,s,function(f,g){return{x:u.x1+Math.round(Math.random()*u.w),y:u.y1+Math.round(Math.random()*u.h)}}),this};var So=[{name:"breadthfirst",impl:gh},{name:"circle",impl:wd},{name:"concentric",impl:Dl},{name:"cose",impl:Do},{name:"grid",impl:Eh},{name:"null",impl:Al},{name:"preset",impl:Dd},{name:"random",impl:Ch}];function To(s){this.options=s,this.notifications=0}var _h=function(){},Wv=function(){throw new Error("A headless instance can not render images")};To.prototype={recalculateRenderedStyle:_h,notify:function(){this.notifications++},init:_h,isHeadless:function(){return!0},png:Wv,jpg:Wv};var ku={arrowShapeWidth:.3,registerArrowShapes:function(){var s=this.arrowShapes={},i=this,o=function(v,y,b,D,C,_,S){return C.x-b/2-S<=v&&v<=C.x+b/2+S&&C.y-b/2-S<=y&&y<=C.y+b/2+S},u=function(v,y,b,D,C){var _=v*Math.cos(D)-y*Math.sin(D),S=v*Math.sin(D)+y*Math.cos(D);return{x:_*b+C.x,y:S*b+C.y}},c=function(v,y,b,D){for(var C=[],_=0;_<v.length;_+=2)C.push(u(v[_],v[_+1],y,b,D));return C},d=function(v){for(var y=[],b=0;b<v.length;b++){var D=v[b];y.push(D.x,D.y)}return y},f=function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").pfValue*2},g=function(v,y){le(y)&&(y=s[y]),s[v]=Ge({name:v,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(D,C,_,S,A,M){var P=d(c(this.points,_+2*M,S,A));return dr(D,C,P)},roughCollide:o,draw:function(D,C,_,S){var A=c(this.points,C,_,S);i.arrowShapeImpl("polygon")(D,A)},spacing:function(D){return 0},gap:f},y)};g("none",{collide:au,roughCollide:au,draw:ps,spacing:Nn,gap:Nn}),g("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),g("arrow","triangle"),g("triangle-backcurve",{points:s.triangle.points,controlPoint:[0,-.15],roughCollide:o,draw:function(v,y,b,D,C){var _=c(this.points,y,b,D),S=this.controlPoint,A=u(S[0],S[1],y,b,D);i.arrowShapeImpl(this.name)(v,_,A)},gap:function(v){return.8*f(v)}}),g("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(v,y,b,D,C,_,S){var A=d(c(this.points,b+2*S,D,C)),M=d(c(this.pointsTee,b+2*S,D,C));return dr(v,y,A)||dr(v,y,M)},draw:function(v,y,b,D,C){var _=c(this.points,y,b,D),S=c(this.pointsTee,y,b,D);i.arrowShapeImpl(this.name)(v,_,S)}}),g("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(v,y,b,D,C,_,S){var A=C,M=Math.pow(A.x-v,2)+Math.pow(A.y-y,2)<=Math.pow((b+2*S)*this.radius,2),P=d(c(this.points,b+2*S,D,C));return dr(v,y,P)||M},draw:function(v,y,b,D,C){var _=c(this.pointsTr,y,b,D);i.arrowShapeImpl(this.name)(v,_,D.x,D.y,this.radius*y)},spacing:function(v){return i.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(v,y){var b=this.baseCrossLinePts.slice(),D=y/v;return b[3]=b[3]-D,b[5]=b[5]-D,b},collide:function(v,y,b,D,C,_,S){var A=d(c(this.points,b+2*S,D,C)),M=d(c(this.crossLinePts(b,_),b+2*S,D,C));return dr(v,y,A)||dr(v,y,M)},draw:function(v,y,b,D,C){var _=c(this.points,y,b,D),S=c(this.crossLinePts(y,C),y,b,D);i.arrowShapeImpl(this.name)(v,_,S)}}),g("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(v){return.525*f(v)}}),g("circle",{radius:.15,collide:function(v,y,b,D,C,_,S){var A=C;return Math.pow(A.x-v,2)+Math.pow(A.y-y,2)<=Math.pow((b+2*S)*this.radius,2)},draw:function(v,y,b,D,C){i.arrowShapeImpl(this.name)(v,D.x,D.y,this.radius*y)},spacing:function(v){return i.getArrowWidth(v.pstyle("width").pfValue,v.pstyle("arrow-scale").value)*this.radius}}),g("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(v){return 1},gap:function(v){return 1}}),g("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),g("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(v){return v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}}),g("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(v){return.95*v.pstyle("width").pfValue*v.pstyle("arrow-scale").value}})}},Rs={projectIntoViewport:function(s,i){var o=this.cy,u=this.findContainerClientCoords(),c=u[0],d=u[1],f=u[4],g=o.pan(),m=o.zoom();return[((s-c)/f-g.x)/m,((i-d)/f-g.y)/m]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var s=this.container,i=s.getBoundingClientRect(),o=Ht.getComputedStyle(s),u=function(M){return parseFloat(o.getPropertyValue(M))},c_left=u("padding-left"),c_right=u("padding-right"),c_top=u("padding-top"),c_bottom=u("padding-bottom"),d_left=u("border-left-width"),d_right=u("border-right-width"),d_top=u("border-top-width"),f=(u("border-bottom-width"),s.clientWidth);return this.containerBB=[i.left+c_left+d_left,i.top+c_top+d_top,f-(c_left+c_right),s.clientHeight-(c_top+c_bottom),i.width/(f+(d_left+d_right))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(s,i,o,u){return this.findNearestElements(s,i,o,u)[0]},findNearestElements:function(s,i,o,u){var _,S,c=this,d=this,f=d.getCachedZSortedEles(),g=[],m=d.cy.zoom(),v=d.cy.hasCompoundNodes(),y=(u?24:8)/m,b=(u?8:2)/m,D=(u?8:2)/m,C=1/0;function A(R,V){if(R.isNode()){if(S)return;S=R,g.push(R)}if(R.isEdge()&&(null==V||V<C))if(_){if(_.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value&&_.pstyle("z-compound-depth").value===R.pstyle("z-compound-depth").value)for(var F=0;F<g.length;F++)if(g[F].isEdge()){g[F]=R,_=R,C=null!=V?V:C;break}}else g.push(R),_=R,C=null!=V?V:C}function M(R){var V=R.outerWidth()+2*b,F=R.outerHeight()+2*b,j=V/2,z=F/2,L=R.position();if(L.x-j<=s&&s<=L.x+j&&L.y-z<=i&&i<=L.y+z&&d.nodeShapes[c.getNodeShape(R)].checkPoint(s,i,0,V,F,L.x,L.y))return A(R,0),!0}function P(R){var X,V=R._private,F=V.rscratch,j=R.pstyle("width").pfValue,z=R.pstyle("arrow-scale").value,L=j/2+y,q=L*L,$=2*L,Z=V.source,W=V.target;if("segments"===F.edgeType||"straight"===F.edgeType||"haystack"===F.edgeType){for(var K=F.allpts,Q=0;Q+3<K.length;Q+=2)if(zf(s,i,K[Q],K[Q+1],K[Q+2],K[Q+3],$)&&q>(X=Da(s,i,K[Q],K[Q+1],K[Q+2],K[Q+3])))return A(R,X),!0}else if("bezier"===F.edgeType||"multibezier"===F.edgeType||"self"===F.edgeType||"compound"===F.edgeType)for(K=F.allpts,Q=0;Q+5<F.allpts.length;Q+=4)if(nv(s,i,K[Q],K[Q+1],K[Q+2],K[Q+3],K[Q+4],K[Q+5],$)&&q>(X=rv(s,i,K[Q],K[Q+1],K[Q+2],K[Q+3],K[Q+4],K[Q+5])))return A(R,X),!0;Z=Z||V.source,W=W||V.target;var ae=c.getArrowWidth(j,z),ee=[{name:"source",x:F.arrowStartX,y:F.arrowStartY,angle:F.srcArrowAngle},{name:"target",x:F.arrowEndX,y:F.arrowEndY,angle:F.tgtArrowAngle},{name:"mid-source",x:F.midX,y:F.midY,angle:F.midsrcArrowAngle},{name:"mid-target",x:F.midX,y:F.midY,angle:F.midtgtArrowAngle}];for(Q=0;Q<ee.length;Q++){var ie=ee[Q],de=d.arrowShapes[R.pstyle(ie.name+"-arrow-shape").value],ve=R.pstyle("width").pfValue;if(de.roughCollide(s,i,ae,ie.angle,{x:ie.x,y:ie.y},ve,y)&&de.collide(s,i,ae,ie.angle,{x:ie.x,y:ie.y},ve,y))return A(R),!0}v&&g.length>0&&(M(Z),M(W))}function I(R,V,F){return ci(R,V,F)}function N(R,V){var z,F=R._private,j=D;z=V?V+"-":"",R.boundingBox();var L=F.labelBounds[V||"main"],q=R.pstyle(z+"label").value;if("yes"===R.pstyle("text-events").strValue&&q){var Z=I(F.rscratch,"labelX",V),W=I(F.rscratch,"labelY",V),X=I(F.rscratch,"labelAngle",V),K=R.pstyle(z+"text-margin-x").pfValue,Q=R.pstyle(z+"text-margin-y").pfValue,ae=L.x1-j-K,ee=L.x2+j-K,ie=L.y1-j-Q,de=L.y2+j-Q;if(X){var ve=Math.cos(X),he=Math.sin(X),se=function(it,xe){return{x:(it-=Z)*ve-(xe-=W)*he+Z,y:it*he+xe*ve+W}},Y=se(ae,ie),oe=se(ae,de),pe=se(ee,ie),Ee=se(ee,de);if(dr(s,i,[Y.x+K,Y.y+Q,pe.x+K,pe.y+Q,Ee.x+K,Ee.y+Q,oe.x+K,oe.y+Q]))return A(R),!0}else if(Js(L,s,i))return A(R),!0}}o&&(f=f.interactive);for(var B=f.length-1;B>=0;B--){var U=f[B];U.isNode()?M(U)||N(U):P(U)||N(U)||N(U,"source")||N(U,"target")}return g},getAllInBox:function(s,i,o,u){for(var c=this.getCachedZSortedEles().interactive,d=[],f=Math.min(s,o),g=Math.max(s,o),m=Math.min(i,u),v=Math.max(i,u),y=Rr({x1:s=f,y1:i=m,x2:o=g,y2:u=v}),b=0;b<c.length;b++){var D=c[b];if(D.isNode()){var C=D,_=C.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});jc(y,_)&&!el(_,y)&&d.push(C)}else{var S=D,A=S._private,M=A.rscratch;if(null!=M.startX&&null!=M.startY&&!Js(y,M.startX,M.startY)||null!=M.endX&&null!=M.endY&&!Js(y,M.endX,M.endY))continue;if("bezier"===M.edgeType||"multibezier"===M.edgeType||"self"===M.edgeType||"compound"===M.edgeType||"segments"===M.edgeType||"haystack"===M.edgeType){for(var P=A.rstyle.bezierPts||A.rstyle.linePts||A.rstyle.haystackPts,I=!0,N=0;N<P.length;N++)if(!Uf(y,P[N])){I=!1;break}I&&d.push(S)}else("haystack"===M.edgeType||"straight"===M.edgeType)&&d.push(S)}}return d}},Cd={calculateArrowAngles:function(s){var m,v,y,b,D,C,i=s._private.rscratch,o="haystack"===i.edgeType,u="bezier"===i.edgeType,c="multibezier"===i.edgeType,d="segments"===i.edgeType,f="compound"===i.edgeType,g="self"===i.edgeType;o?(y=i.haystackPts[0],b=i.haystackPts[1],D=i.haystackPts[2],C=i.haystackPts[3]):(y=i.arrowStartX,b=i.arrowStartY,D=i.arrowEndX,C=i.arrowEndY),_=i.midX,S=i.midY,d?(m=y-i.segpts[0],v=b-i.segpts[1]):c||f||g||u?(m=y-Un((A=i.allpts)[0],A[2],A[4],.1),v=b-Un(A[1],A[3],A[5],.1)):(m=y-_,v=b-S),i.srcArrowAngle=Uc(m,v);var _=i.midX,S=i.midY;if(o&&(_=(y+D)/2,S=(b+C)/2),m=D-y,v=C-b,d)if((A=i.allpts).length/2%2==0)m=A[I=A.length/2]-A[N=I-2],v=A[I+1]-A[N+1];else{var I,N,B=2+(I=A.length/2-1);m=A[I]-A[N=I-2],v=A[I+1]-A[N+1]}else if(c||f||g){var R,V,F,j,L,z,q,A=i.allpts;i.ctrlpts.length/2%2==0?(R=Un(A[z=A.length/2-1],A[L=z+2],A[q=L+2],0),V=Un(A[z+1],A[L+1],A[q+1],0),F=Un(A[z],A[L],A[q],1e-4),j=Un(A[z+1],A[L+1],A[q+1],1e-4)):(R=Un(A[z=(L=A.length/2-1)-2],A[L],A[q=L+2],.4999),V=Un(A[z+1],A[L+1],A[q+1],.4999),F=Un(A[z],A[L],A[q],.5),j=Un(A[z+1],A[L+1],A[q+1],.5)),m=F-R,v=j-V}if(i.midtgtArrowAngle=Uc(m,v),i.midDispX=m,i.midDispY=v,m*=-1,v*=-1,d&&(A=i.allpts).length/2%2!=0&&(m=-(A[B=2+(I=A.length/2-1)]-A[I]),v=-(A[B+1]-A[I+1])),i.midsrcArrowAngle=Uc(m,v),d)m=D-i.segpts[i.segpts.length-2],v=C-i.segpts[i.segpts.length-1];else if(c||f||g||u){var $=(A=i.allpts).length;m=D-Un(A[$-6],A[$-4],A[$-2],.9),v=C-Un(A[$-5],A[$-3],A[$-1],.9)}else m=D-_,v=C-S;i.tgtArrowAngle=Uc(m,v)}};Cd.getArrowWidth=Cd.getArrowHeight=function(s,i){var o=this.arrowWidthCache=this.arrowWidthCache||{},u=o[s+", "+i];return u||(u=Math.max(Math.pow(13.37*s,.9),29)*i,o[s+", "+i]=u,u)};var gr={};function Sh(s){var i=[];if(null!=s){for(var o=0;o<s.length;o+=2)i.push({x:s[o],y:s[o+1]});return i}}gr.findHaystackPoints=function(s){for(var i=0;i<s.length;i++){var o=s[i],u=o._private,c=u.rscratch;if(!c.haystack){var d=2*Math.random()*Math.PI;c.source={x:Math.cos(d),y:Math.sin(d)},d=2*Math.random()*Math.PI,c.target={x:Math.cos(d),y:Math.sin(d)}}var f=u.source,g=u.target,m=f.position(),v=g.position(),y=f.width(),b=g.width(),D=f.height(),C=g.height(),S=o.pstyle("haystack-radius").value/2;c.haystackPts=c.allpts=[c.source.x*y*S+m.x,c.source.y*D*S+m.y,c.target.x*b*S+v.x,c.target.y*C*S+v.y],c.midX=(c.allpts[0]+c.allpts[2])/2,c.midY=(c.allpts[1]+c.allpts[3])/2,c.edgeType="haystack",c.haystack=!0,this.storeEdgeProjections(o),this.calculateArrowAngles(o),this.recalculateEdgeLabelProjections(o),this.calculateLabelAngles(o)}},gr.findSegmentsPoints=function(s,i){var o=s._private.rscratch,u=i.posPts,c=i.intersectionPts,d=i.vectorNormInverse,f=s.pstyle("edge-distances").value,g=s.pstyle("segment-weights"),m=s.pstyle("segment-distances"),v=Math.min(g.pfValue.length,m.pfValue.length);o.edgeType="segments",o.segpts=[];for(var y=0;y<v;y++){var b=g.pfValue[y],D=m.pfValue[y],C=1-b,S="node-position"===f?u:c,A={x:S.x1*C+S.x2*b,y:S.y1*C+S.y2*b};o.segpts.push(A.x+d.x*D,A.y+d.y*D)}},gr.findLoopPoints=function(s,i,o,u){var c=s._private.rscratch,d=i.dirCounts,f=i.srcPos,g=s.pstyle("control-point-distances"),m=g?g.pfValue[0]:void 0,v=s.pstyle("loop-direction").pfValue,y=s.pstyle("loop-sweep").pfValue,b=s.pstyle("control-point-step-size").pfValue;c.edgeType="self";var D=o,C=b;u&&(D=0,C=m);var _=v-Math.PI/2,S=_-y/2,A=_+y/2,M=String(v+"_"+y);D=void 0===d[M]?d[M]=0:++d[M],c.ctrlpts=[f.x+1.4*Math.cos(S)*C*(D/3+1),f.y+1.4*Math.sin(S)*C*(D/3+1),f.x+1.4*Math.cos(A)*C*(D/3+1),f.y+1.4*Math.sin(A)*C*(D/3+1)]},gr.findCompoundLoopPoints=function(s,i,o,u){var c=s._private.rscratch;c.edgeType="compound";var d=i.srcPos,f=i.tgtPos,g=i.srcW,m=i.srcH,v=i.tgtW,y=i.tgtH,b=s.pstyle("control-point-step-size").pfValue,D=s.pstyle("control-point-distances"),_=o,S=b;u&&(_=0,S=D?D.pfValue[0]:void 0);var M={x:d.x-g/2,y:d.y-m/2},P={x:f.x-v/2,y:f.y-y/2},I={x:Math.min(M.x,P.x),y:Math.min(M.y,P.y)},B=Math.max(.5,Math.log(.01*g)),U=Math.max(.5,Math.log(.01*v));c.ctrlpts=[I.x,I.y-(1+Math.pow(50,1.12)/100)*S*(_/3+1)*B,I.x-(1+Math.pow(50,1.12)/100)*S*(_/3+1)*U,I.y]},gr.findStraightEdgePoints=function(s){s._private.rscratch.edgeType="straight"},gr.findBezierPoints=function(s,i,o,u,c){var d=s._private.rscratch,f=i.vectorNormInverse,g=i.posPts,m=i.intersectionPts,v=s.pstyle("edge-distances").value,y=s.pstyle("control-point-step-size").pfValue,b=s.pstyle("control-point-distances"),D=s.pstyle("control-point-weights"),C=b&&D?Math.min(b.value.length,D.value.length):1,_=b?b.pfValue[0]:void 0,S=D.value[0],A=u;d.edgeType=A?"multibezier":"bezier",d.ctrlpts=[];for(var M=0;M<C;M++){var I,P=(.5-i.eles.length/2+o)*y*(c?-1:1),N=tv(P);A&&(_=b?b.pfValue[M]:y,S=D.value[M]);var B=void 0!==(I=u?_:void 0!==_?N*_:void 0)?I:P,U=1-S,V="node-position"===v?g:m,F={x:V.x1*U+V.x2*S,y:V.y1*U+V.y2*S};d.ctrlpts.push(F.x+f.x*B,F.y+f.y*B)}},gr.findTaxiPoints=function(s,i){var o=s._private.rscratch;o.edgeType="segments";var u="vertical",c="horizontal",d="leftward",f="rightward",g="downward",m="upward",y=i.posPts,b=i.srcW,D=i.srcH,C=i.tgtW,_=i.tgtH,A="node-position"!==s.pstyle("edge-distances").value,M=s.pstyle("taxi-direction").value,P=M,I=s.pstyle("taxi-turn"),N="%"===I.units,B=I.pfValue,U=B<0,R=s.pstyle("taxi-turn-min-distance").pfValue,F=A?(D+_)/2:0,j=y.x2-y.x1,z=y.y2-y.y1,L=function(Be,Ct){return Be>0?Math.max(Be-Ct,0):Math.min(Be+Ct,0)},q=L(j,A?(b+C)/2:0),$=L(z,F),Z=!1;"auto"===P?M=Math.abs(q)>Math.abs($)?c:u:P===m||P===g?(M=u,Z=!0):(P===d||P===f)&&(M=c,Z=!0);var ee,W=M===u,X=W?$:q,K=W?z:j,Q=tv(K),ae=!1;(!Z||!N&&!U)&&(P===g&&K<0||P===m&&K>0||P===d&&K>0||P===f&&K<0)&&(X=(Q*=-1)*Math.abs(X),ae=!0);var ve=function(Be){return Math.abs(Be)<R||Math.abs(Be)>=Math.abs(X)},he=ve(ee=N?(B<0?1+B:B)*X:(B<0?X:0)+B*Q),se=ve(Math.abs(X)-Math.abs(ee));if(!he&&!se||ae)if(W){var O=y.y1+ee+(A?D/2*Q:0);o.segpts=[y.x1,O,y.x2,O]}else{var ue=y.x1+ee+(A?b/2*Q:0);o.segpts=[ue,y.y1,ue,y.y2]}else if(W){var oe=Math.abs(K)<=D/2,pe=Math.abs(j)<=C/2;if(oe){var Ee=(y.x1+y.x2)/2;o.segpts=[Ee,y.y1,Ee,y.y2]}else if(pe){var it=(y.y1+y.y2)/2;o.segpts=[y.x1,it,y.x2,it]}else o.segpts=[y.x1,y.y2]}else{var We=Math.abs(K)<=b/2,$e=Math.abs(z)<=_/2;if(We){var ke=(y.y1+y.y2)/2;o.segpts=[y.x1,ke,y.x2,ke]}else if($e){var Et=(y.x1+y.x2)/2;o.segpts=[Et,y.y1,Et,y.y2]}else o.segpts=[y.x2,y.y1]}},gr.tryToCorrectInvalidPoints=function(s,i){var o=s._private.rscratch;if("bezier"===o.edgeType){var u=i.srcPos,c=i.tgtPos,d=i.srcW,f=i.srcH,g=i.tgtW,m=i.tgtH,v=i.srcShape,y=i.tgtShape,b=!Ce(o.startX)||!Ce(o.startY),D=!Ce(o.arrowStartX)||!Ce(o.arrowStartY),C=!Ce(o.endX)||!Ce(o.endY),_=!Ce(o.arrowEndX)||!Ce(o.arrowEndY),M=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,P=Xs({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.startX,y:o.startY}),I=P<M,N=Xs({x:o.ctrlpts[0],y:o.ctrlpts[1]},{x:o.endX,y:o.endY}),B=N<M,U=!1;if(b||D||I){U=!0;var R={x:o.ctrlpts[0]-u.x,y:o.ctrlpts[1]-u.y},V=Math.sqrt(R.x*R.x+R.y*R.y),F={x:R.x/V,y:R.y/V},j=Math.max(d,f),z={x:o.ctrlpts[0]+2*F.x*j,y:o.ctrlpts[1]+2*F.y*j},L=v.intersectLine(u.x,u.y,d,f,z.x,z.y,0);I?(o.ctrlpts[0]=o.ctrlpts[0]+F.x*(M-P),o.ctrlpts[1]=o.ctrlpts[1]+F.y*(M-P)):(o.ctrlpts[0]=L[0]+F.x*M,o.ctrlpts[1]=L[1]+F.y*M)}if(C||_||B){U=!0;var q={x:o.ctrlpts[0]-c.x,y:o.ctrlpts[1]-c.y},$=Math.sqrt(q.x*q.x+q.y*q.y),Z={x:q.x/$,y:q.y/$},W=Math.max(d,f),X={x:o.ctrlpts[0]+2*Z.x*W,y:o.ctrlpts[1]+2*Z.y*W},K=y.intersectLine(c.x,c.y,g,m,X.x,X.y,0);B?(o.ctrlpts[0]=o.ctrlpts[0]+Z.x*(M-N),o.ctrlpts[1]=o.ctrlpts[1]+Z.y*(M-N)):(o.ctrlpts[0]=K[0]+Z.x*M,o.ctrlpts[1]=K[1]+Z.y*M)}U&&this.findEndpoints(s)}},gr.storeAllpts=function(s){var i=s._private.rscratch;if("multibezier"===i.edgeType||"bezier"===i.edgeType||"self"===i.edgeType||"compound"===i.edgeType){i.allpts=[],i.allpts.push(i.startX,i.startY);for(var o=0;o+1<i.ctrlpts.length;o+=2)i.allpts.push(i.ctrlpts[o],i.ctrlpts[o+1]),o+3<i.ctrlpts.length&&i.allpts.push((i.ctrlpts[o]+i.ctrlpts[o+2])/2,(i.ctrlpts[o+1]+i.ctrlpts[o+3])/2);var u;i.allpts.push(i.endX,i.endY),i.ctrlpts.length/2%2==0?(i.midX=i.allpts[u=i.allpts.length/2-1],i.midY=i.allpts[u+1]):(i.midX=Un(i.allpts[u=i.allpts.length/2-3],i.allpts[u+2],i.allpts[u+4],.5),i.midY=Un(i.allpts[u+1],i.allpts[u+3],i.allpts[u+5],.5))}else if("straight"===i.edgeType)i.allpts=[i.startX,i.startY,i.endX,i.endY],i.midX=(i.startX+i.endX+i.arrowStartX+i.arrowEndX)/4,i.midY=(i.startY+i.endY+i.arrowStartY+i.arrowEndY)/4;else if("segments"===i.edgeType)if(i.allpts=[],i.allpts.push(i.startX,i.startY),i.allpts.push.apply(i.allpts,i.segpts),i.allpts.push(i.endX,i.endY),i.segpts.length%4==0){var d=i.segpts.length/2,f=d-2;i.midX=(i.segpts[f]+i.segpts[d])/2,i.midY=(i.segpts[f+1]+i.segpts[d+1])/2}else{var g=i.segpts.length/2-1;i.midX=i.segpts[g],i.midY=i.segpts[g+1]}},gr.checkForInvalidEdgeWarning=function(s){var i=s[0]._private.rscratch;i.nodesOverlap||Ce(i.startX)&&Ce(i.startY)&&Ce(i.endX)&&Ce(i.endY)?i.loggedErr=!1:i.loggedErr||(i.loggedErr=!0,qt("Edge `"+s.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},gr.findEdgeControlPoints=function(s){var i=this;if(s&&0!==s.length){for(var o=this,c=o.cy.hasCompoundNodes(),d={map:new xi,get:function(R){var V=this.map.get(R[0]);return null!=V?V.get(R[1]):null},set:function(R,V){var F=this.map.get(R[0]);null==F&&(F=new xi,this.map.set(R[0],F)),F.set(R[1],V)}},f=[],g=[],m=0;m<s.length;m++){var v=s[m],y=v._private,b=v.pstyle("curve-style").value;if(!v.removed()&&v.takesUpSpace()){if("haystack"===b){g.push(v);continue}var D="unbundled-bezier"===b||"segments"===b||"straight"===b||"straight-triangle"===b||"taxi"===b,C="unbundled-bezier"===b||"bezier"===b,S=y.target,P=[y.source.poolIndex(),S.poolIndex()].sort(),I=d.get(P);null==I&&(d.set(P,I={eles:[]}),f.push(P)),I.eles.push(v),D&&(I.hasUnbundled=!0),C&&(I.hasBezier=!0)}}for(var N=function(R){var F=d.get(f[R]),j=void 0;if(!F.hasUnbundled){var z=F.eles[0].parallelEdges().filter(function(_e){return _e.isBundledBezier()});Lc(F.eles),z.forEach(function(_e){return F.eles.push(_e)}),F.eles.sort(function(_e,O){return _e.poolIndex()-O.poolIndex()})}var L=F.eles[0],q=L.source(),$=L.target();if(q.poolIndex()>$.poolIndex()){var Z=q;q=$,$=Z}var W=F.srcPos=q.position(),X=F.tgtPos=$.position(),K=F.srcW=q.outerWidth(),Q=F.srcH=q.outerHeight(),ae=F.tgtW=$.outerWidth(),ee=F.tgtH=$.outerHeight(),ie=F.srcShape=o.nodeShapes[i.getNodeShape(q)],de=F.tgtShape=o.nodeShapes[i.getNodeShape($)];F.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ve=0;ve<F.eles.length;ve++){var he=F.eles[ve],se=he[0]._private.rscratch,Y=he.pstyle("curve-style").value,oe="unbundled-bezier"===Y||"segments"===Y||"taxi"===Y,pe=!q.same(he.source());if(!F.calculatedIntersection&&q!==$&&(F.hasBezier||F.hasUnbundled)){F.calculatedIntersection=!0;var Ee=ie.intersectLine(W.x,W.y,K,Q,X.x,X.y,0),Me=F.srcIntn=Ee,Ze=de.intersectLine(X.x,X.y,ae,ee,W.x,W.y,0),it=F.tgtIntn=Ze,xe=F.intersectionPts={x1:Ee[0],x2:Ze[0],y1:Ee[1],y2:Ze[1]},Te=F.posPts={x1:W.x,x2:X.x,y1:W.y,y2:X.y},We=Ze[1]-Ee[1],$e=Ze[0]-Ee[0],ke=Math.sqrt($e*$e+We*We),je=F.vector={x:$e,y:We},Rt=F.vectorNorm={x:je.x/ke,y:je.y/ke},Et={x:-Rt.y,y:Rt.x};F.nodesOverlap=!Ce(ke)||de.checkPoint(Ee[0],Ee[1],0,ae,ee,X.x,X.y)||ie.checkPoint(Ze[0],Ze[1],0,K,Q,W.x,W.y),F.vectorNormInverse=Et,j={nodesOverlap:F.nodesOverlap,dirCounts:F.dirCounts,calculatedIntersection:!0,hasBezier:F.hasBezier,hasUnbundled:F.hasUnbundled,eles:F.eles,srcPos:X,tgtPos:W,srcW:ae,srcH:ee,tgtW:K,tgtH:Q,srcIntn:it,tgtIntn:Me,srcShape:de,tgtShape:ie,posPts:{x1:Te.x2,y1:Te.y2,x2:Te.x1,y2:Te.y1},intersectionPts:{x1:xe.x2,y1:xe.y2,x2:xe.x1,y2:xe.y1},vector:{x:-je.x,y:-je.y},vectorNorm:{x:-Rt.x,y:-Rt.y},vectorNormInverse:{x:-Et.x,y:-Et.y}}}var ht=pe?j:F;se.nodesOverlap=ht.nodesOverlap,se.srcIntn=ht.srcIntn,se.tgtIntn=ht.tgtIntn,c&&(q.isParent()||q.isChild()||$.isParent()||$.isChild())&&(q.parents().anySame($)||$.parents().anySame(q)||q.same($)&&q.isParent())?i.findCompoundLoopPoints(he,ht,ve,oe):q===$?i.findLoopPoints(he,ht,ve,oe):"segments"===Y?i.findSegmentsPoints(he,ht):"taxi"===Y?i.findTaxiPoints(he,ht):"straight"===Y||!oe&&F.eles.length%2==1&&ve===Math.floor(F.eles.length/2)?i.findStraightEdgePoints(he):i.findBezierPoints(he,ht,ve,oe,pe),i.findEndpoints(he),i.tryToCorrectInvalidPoints(he,ht),i.checkForInvalidEdgeWarning(he),i.storeAllpts(he),i.storeEdgeProjections(he),i.calculateArrowAngles(he),i.recalculateEdgeLabelProjections(he),i.calculateLabelAngles(he)}},B=0;B<f.length;B++)N(B);this.findHaystackPoints(g)}},gr.getSegmentPoints=function(s){var i=s[0]._private.rscratch;if("segments"===i.edgeType)return this.recalculateRenderedStyle(s),Sh(i.segpts)},gr.getControlPoints=function(s){var i=s[0]._private.rscratch,o=i.edgeType;if("bezier"===o||"multibezier"===o||"self"===o||"compound"===o)return this.recalculateRenderedStyle(s),Sh(i.ctrlpts)},gr.getEdgeMidpoint=function(s){var i=s[0]._private.rscratch;return this.recalculateRenderedStyle(s),{x:i.midX,y:i.midY}};var Ml={manualEndptToPx:function(s,i){var u=s.position(),c=s.outerWidth(),d=s.outerHeight();if(2===i.value.length){var f=[i.pfValue[0],i.pfValue[1]];return"%"===i.units[0]&&(f[0]=f[0]*c),"%"===i.units[1]&&(f[1]=f[1]*d),f[0]+=u.x,f[1]+=u.y,f}var g=i.pfValue[0];g=-Math.PI/2+g;var m=2*Math.max(c,d),v=[u.x+Math.cos(g)*m,u.y+Math.sin(g)*m];return this.nodeShapes[this.getNodeShape(s)].intersectLine(u.x,u.y,c,d,v[0],v[1],0)},findEndpoints:function(s){var o,j,z,L,q,i=this,u=s.source()[0],c=s.target()[0],d=u.position(),f=c.position(),g=s.pstyle("target-arrow-shape").value,m=s.pstyle("source-arrow-shape").value,v=s.pstyle("target-distance-from-node").pfValue,y=s.pstyle("source-distance-from-node").pfValue,b=s.pstyle("curve-style").value,D=s._private.rscratch,C=D.edgeType,S="self"===C||"compound"===C,A="bezier"===C||"multibezier"===C||S,M="bezier"!==C,P="straight"===C||"segments"===C,I="segments"===C,N=A||M||P,B=S||"taxi"===b,U=s.pstyle("source-endpoint"),R=B?"outside-to-node":U.value,V=s.pstyle("target-endpoint"),F=B?"outside-to-node":V.value;if(D.srcManEndpt=U,D.tgtManEndpt=V,A){var $=[D.ctrlpts[0],D.ctrlpts[1]];j=M?[D.ctrlpts[D.ctrlpts.length-2],D.ctrlpts[D.ctrlpts.length-1]]:$,z=$}else if(P){var W=I?D.segpts.slice(0,2):[f.x,f.y];j=I?D.segpts.slice(D.segpts.length-2):[d.x,d.y],z=W}if("inside-to-node"===F)o=[f.x,f.y];else if(V.units)o=this.manualEndptToPx(c,V);else if("outside-to-line"===F)o=D.tgtIntn;else if("outside-to-node"===F||"outside-to-node-or-label"===F?L=j:("outside-to-line"===F||"outside-to-line-or-label"===F)&&(L=[d.x,d.y]),o=i.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),L[0],L[1],0),"outside-to-node-or-label"===F||"outside-to-line-or-label"===F){var K=c._private.rscratch,ee=K.labelX,ie=K.labelY,de=K.labelWidth/2,ve=K.labelHeight/2,he=c.pstyle("text-valign").value;"top"===he?ie-=ve:"bottom"===he&&(ie+=ve);var se=c.pstyle("text-halign").value;"left"===se?ee-=de:"right"===se&&(ee+=de);var Y=uu(L[0],L[1],[ee-de,ie-ve,ee+de,ie-ve,ee+de,ie+ve,ee-de,ie+ve],f.x,f.y);if(Y.length>0){var oe=d,pe=gs(oe,ea(o)),Ee=gs(oe,ea(Y)),Me=pe;Ee<pe&&(o=Y,Me=Ee),Y.length>2&&gs(oe,{x:Y[2],y:Y[3]})<Me&&(o=[Y[2],Y[3]])}}var it=Wc(o,j,i.arrowShapes[g].spacing(s)+v),xe=Wc(o,j,i.arrowShapes[g].gap(s)+v);if(D.endX=xe[0],D.endY=xe[1],D.arrowEndX=it[0],D.arrowEndY=it[1],"inside-to-node"===R)o=[d.x,d.y];else if(U.units)o=this.manualEndptToPx(u,U);else if("outside-to-line"===R)o=D.srcIntn;else if("outside-to-node"===R||"outside-to-node-or-label"===R?q=z:("outside-to-line"===R||"outside-to-line-or-label"===R)&&(q=[f.x,f.y]),o=i.nodeShapes[this.getNodeShape(u)].intersectLine(d.x,d.y,u.outerWidth(),u.outerHeight(),q[0],q[1],0),"outside-to-node-or-label"===R||"outside-to-line-or-label"===R){var Te=u._private.rscratch,ke=Te.labelX,je=Te.labelY,Rt=Te.labelWidth/2,Et=Te.labelHeight/2,ht=u.pstyle("text-valign").value;"top"===ht?je-=Et:"bottom"===ht&&(je+=Et);var _e=u.pstyle("text-halign").value;"left"===_e?ke-=Rt:"right"===_e&&(ke+=Rt);var O=uu(q[0],q[1],[ke-Rt,je-Et,ke+Rt,je-Et,ke+Rt,je+Et,ke-Rt,je+Et],d.x,d.y);if(O.length>0){var ne=f,fe=gs(ne,ea(o)),ue=gs(ne,ea(O)),ce=fe;ue<fe&&(o=[O[0],O[1]],ce=ue),O.length>2&&gs(ne,{x:O[2],y:O[3]})<ce&&(o=[O[2],O[3]])}}var we=Wc(o,z,i.arrowShapes[m].spacing(s)+y),Be=Wc(o,z,i.arrowShapes[m].gap(s)+y);D.startX=Be[0],D.startY=Be[1],D.arrowStartX=we[0],D.arrowStartY=we[1],N&&(D.badLine=!(Ce(D.startX)&&Ce(D.startY)&&Ce(D.endX)&&Ce(D.endY)))},getSourceEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[0],y:i.haystackPts[1]}:{x:i.arrowStartX,y:i.arrowStartY}},getTargetEndpoint:function(s){var i=s[0]._private.rscratch;return"haystack"===(this.recalculateRenderedStyle(s),i.edgeType)?{x:i.haystackPts[2],y:i.haystackPts[3]}:{x:i.arrowEndX,y:i.arrowEndY}}},Ao={};function _d(s,i,o){for(var u=function(v,y,b,D){return Un(v,y,b,D)},d=i._private.rstyle.bezierPts,f=0;f<s.bezierProjPcts.length;f++){var g=s.bezierProjPcts[f];d.push({x:u(o[0],o[2],o[4],g),y:u(o[1],o[3],o[5],g)})}}Ao.storeEdgeProjections=function(s){var i=s._private,o=i.rscratch,u=o.edgeType;if(i.rstyle.bezierPts=null,i.rstyle.linePts=null,i.rstyle.haystackPts=null,"multibezier"===u||"bezier"===u||"self"===u||"compound"===u){i.rstyle.bezierPts=[];for(var c=0;c+5<o.allpts.length;c+=4)_d(this,s,o.allpts.slice(c,c+6))}else if("segments"===u){var d=i.rstyle.linePts=[];for(c=0;c+1<o.allpts.length;c+=2)d.push({x:o.allpts[c],y:o.allpts[c+1]})}else if("haystack"===u){var f=o.haystackPts;i.rstyle.haystackPts=[{x:f[0],y:f[1]},{x:f[2],y:f[3]}]}i.rstyle.arrowWidth=this.getArrowWidth(s.pstyle("width").pfValue,s.pstyle("arrow-scale").value)*this.arrowShapeWidth},Ao.recalculateEdgeProjections=function(s){this.findEdgeControlPoints(s)};var vr={recalculateNodeLabelProjection:function(s){var i=s.pstyle("label").strValue;if(!Vn(i)){var o,u,c=s._private,d=s.width(),f=s.height(),g=s.padding(),m=s.position(),v=s.pstyle("text-halign").strValue,y=s.pstyle("text-valign").strValue,b=c.rscratch,D=c.rstyle;switch(v){case"left":o=m.x-d/2-g;break;case"right":o=m.x+d/2+g;break;default:o=m.x}switch(y){case"top":u=m.y-f/2-g;break;case"bottom":u=m.y+f/2+g;break;default:u=m.y}b.labelX=o,b.labelY=u,D.labelX=o,D.labelY=u,this.calculateLabelAngles(s),this.applyLabelDimensions(s)}}},Th=function(i,o){var u=Math.atan(o/i);return 0===i&&u<0&&(u*=-1),u},Ah=function(i,o){return Th(o.x-i.x,o.y-i.y)};vr.recalculateEdgeLabelProjections=function(s){var i,o=s._private,u=o.rscratch,c=this,d={mid:s.pstyle("label").strValue,source:s.pstyle("source-label").strValue,target:s.pstyle("target-label").strValue};if(d.mid||d.source||d.target){var f=function(b,D,C){Xi(o.rscratch,b,D,C),Xi(o.rstyle,b,D,C)};f("labelX",null,(i={x:u.midX,y:u.midY}).x),f("labelY",null,i.y);var g=Th(u.midDispX,u.midDispY);f("labelAutoAngle",null,g);var m=function y(){if(y.cache)return y.cache;for(var b=[],D=0;D+5<u.allpts.length;D+=4)b.push({p0:{x:u.allpts[D],y:u.allpts[D+1]},p1:{x:u.allpts[D+2],y:u.allpts[D+3]},p2:{x:u.allpts[D+4],y:u.allpts[D+5]},startDist:0,length:0,segments:[]});var A=o.rstyle.bezierPts,M=c.bezierProjPcts.length;function P(R,V,F,j,z){var L=Xs(V,F),q=R.segments[R.segments.length-1];R.segments.push({p0:V,p1:F,t0:j,t1:z,startDist:q?q.startDist+q.length:0,length:L}),R.length+=L}for(var I=0;I<b.length;I++){var N=b[I],B=b[I-1];B&&(N.startDist=B.startDist+B.length),P(N,N.p0,A[I*M],0,c.bezierProjPcts[0]);for(var U=0;U<M-1;U++)P(N,A[I*M+U],A[I*M+U+1],c.bezierProjPcts[U],c.bezierProjPcts[U+1]);P(N,A[I*M+M-1],N.p2,c.bezierProjPcts[M-1],1)}return y.cache=b},v=function(b){var D,C="source"===b;if(d[b]){var _=s.pstyle(b+"-text-offset").pfValue;switch(u.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var A,S=m(),M=0,P=0,I=0;I<S.length;I++){for(var N=S[C?I:S.length-1-I],B=0;B<N.segments.length;B++){var U=N.segments[C?B:N.segments.length-1-B];if(M=P,(P+=U.length)>=_||I===S.length-1&&B===N.segments.length-1){A={cp:N,segment:U};break}}if(A)break}var V=A.cp,F=A.segment,j=(_-M)/F.length,z=F.t1-F.t0,L=C?F.t0+z*j:F.t1-z*j;L=Ut(0,L,1),i=Xo(V.p0,V.p1,V.p2,L),D=function(i,o,u,c){var d=Ut(0,c-.001,1),f=Ut(0,c+.001,1),g=Xo(i,o,u,d),m=Xo(i,o,u,f);return Ah(g,m)}(V.p0,V.p1,V.p2,L);break;case"straight":case"segments":case"haystack":for(var $,Z,W,X,q=0,K=u.allpts.length,Q=0;Q+3<K&&(C?(W={x:u.allpts[Q],y:u.allpts[Q+1]},X={x:u.allpts[Q+2],y:u.allpts[Q+3]}):(W={x:u.allpts[K-2-Q],y:u.allpts[K-1-Q]},X={x:u.allpts[K-4-Q],y:u.allpts[K-3-Q]}),Z=q,!((q+=$=Xs(W,X))>=_));Q+=2);var ee=(_-Z)/$;ee=Ut(0,ee,1),i=function(i,o,u,c){var d_x=o.x-i.x,d_y=o.y-i.y,f=Xs(i,o);return u=null==u?0:u,{x:i.x+d_x/f*(c=null!=c?c:u*f),y:i.y+d_y/f*c}}(W,X,ee),D=Ah(W,X)}f("labelX",b,i.x),f("labelY",b,i.y),f("labelAutoAngle",b,D)}};v("source"),v("target"),this.applyLabelDimensions(s)}},vr.applyLabelDimensions=function(s){this.applyPrefixedLabelDimensions(s),s.isEdge()&&(this.applyPrefixedLabelDimensions(s,"source"),this.applyPrefixedLabelDimensions(s,"target"))},vr.applyPrefixedLabelDimensions=function(s,i){var o=s._private,u=this.getLabelText(s,i),c=this.calculateLabelDimensions(s,u),d=s.pstyle("line-height").pfValue,f=s.pstyle("text-wrap").strValue,g=ci(o.rscratch,"labelWrapCachedLines",i)||[],m="wrap"!==f?1:Math.max(g.length,1),v=c.height/m,y=v*d,b=c.width,D=c.height+(m-1)*(d-1)*v;Xi(o.rstyle,"labelWidth",i,b),Xi(o.rscratch,"labelWidth",i,b),Xi(o.rstyle,"labelHeight",i,D),Xi(o.rscratch,"labelHeight",i,D),Xi(o.rscratch,"labelLineHeight",i,y)},vr.getLabelText=function(s,i){var o=s._private,c=s.pstyle((i?i+"-":"")+"label").strValue,d=s.pstyle("text-transform").value,f=function(ae,ee){return ee?(Xi(o.rscratch,ae,i,ee),ee):ci(o.rscratch,ae,i)};if(!c)return"";"none"==d||("uppercase"==d?c=c.toUpperCase():"lowercase"==d&&(c=c.toLowerCase()));var g=s.pstyle("text-wrap").value;if("wrap"===g){var m=f("labelKey");if(null!=m&&f("labelWrapKey")===m)return f("labelWrapCachedText");for(var y=c.split("\n"),b=s.pstyle("text-max-width").pfValue,C="anywhere"===s.pstyle("text-overflow-wrap").value,_=[],S=/[\s\u200b]+/,A=C?"":" ",M=0;M<y.length;M++){var P=y[M],N=this.calculateLabelDimensions(s,P).width;if(C){var B=P.split("").join("\u200b");P=B}if(N>b){for(var U=P.split(S),R="",V=0;V<U.length;V++){var F=U[V];this.calculateLabelDimensions(s,0===R.length?F:R+A+F).width<=b?R+=F+A:(R&&_.push(R),R=F+A)}R.match(/^[\s\u200b]+$/)||_.push(R)}else _.push(P)}f("labelWrapCachedLines",_),c=f("labelWrapCachedText",_.join("\n")),f("labelWrapKey",m)}else if("ellipsis"===g){var q=s.pstyle("text-max-width").pfValue,$="",W=!1;if(this.calculateLabelDimensions(s,c).width<q)return c;for(var X=0;X<c.length&&!(this.calculateLabelDimensions(s,$+c[X]+"\u2026").width>q);X++)$+=c[X],X===c.length-1&&(W=!0);return W||($+="\u2026"),$}return c},vr.getLabelJustification=function(s){var i=s.pstyle("text-justification").strValue,o=s.pstyle("text-halign").strValue;if("auto"!==i)return i;if(!s.isNode())return"center";switch(o){case"left":return"right";case"right":return"left";default:return"center"}},vr.calculateLabelDimensions=function(s,i){var u=hs(i,s._private.labelDimsKey),c=this.labelDimCache||(this.labelDimCache=[]),d=c[u];if(null!=d)return d;var g=s.pstyle("font-style").strValue,m=s.pstyle("font-size").pfValue,v=s.pstyle("font-family").strValue,y=s.pstyle("font-weight").strValue,b=this.labelCalcCanvas,D=this.labelCalcCanvasContext;if(!b){b=this.labelCalcCanvas=document.createElement("canvas"),D=this.labelCalcCanvasContext=b.getContext("2d");var C=b.style;C.position="absolute",C.left="-9999px",C.top="-9999px",C.zIndex="-1",C.visibility="hidden",C.pointerEvents="none"}D.font="".concat(g," ").concat(y," ").concat(m,"px ").concat(v);for(var _=0,S=0,A=i.split("\n"),M=0;M<A.length;M++){var I=D.measureText(A[M]),N=Math.ceil(I.width),B=m;_=Math.max(N,_),S+=B}return c[u]={width:_+=0,height:S+=0}},vr.calculateLabelAngle=function(s,i){var u=s._private.rscratch,c=s.isEdge(),f=s.pstyle((i?i+"-":"")+"text-rotation"),g=f.strValue;return"none"===g?0:c&&"autorotate"===g?u.labelAutoAngle:"autorotate"===g?0:f.pfValue},vr.calculateLabelAngles=function(s){var i=this,o=s.isEdge(),c=s._private.rscratch;c.labelAngle=i.calculateLabelAngle(s),o&&(c.sourceLabelAngle=i.calculateLabelAngle(s,"source"),c.targetLabelAngle=i.calculateLabelAngle(s,"target"))};var xl={},Sd=!1;xl.getNodeShape=function(s){var o=s.pstyle("shape").value;if("cutrectangle"===o&&(s.width()<28||s.height()<28))return Sd||(qt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Sd=!0),"rectangle";if(s.isParent())return"rectangle"===o||"roundrectangle"===o||"round-rectangle"===o||"cutrectangle"===o||"cut-rectangle"===o||"barrel"===o?o:"rectangle";if("polygon"===o){var u=s.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(u).name}return o};var Pl={updateCachedGrabbedEles:function(){var s=this.cachedZSortedEles;if(s){s.drag=[],s.nondrag=[];for(var i=[],o=0;o<s.length;o++){var c=(u=s[o])._private.rscratch;u.grabbed()&&!u.isParent()?i.push(u):c.inDragLayer?s.drag.push(u):s.nondrag.push(u)}for(o=0;o<i.length;o++){var u;s.drag.push(u=i[o])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(s){if(s||!this.cachedZSortedEles){var i=this.cy.mutableElements().toArray();i.sort(xs),i.interactive=i.filter(function(o){return o.interactive()}),this.cachedZSortedEles=i,this.updateCachedGrabbedEles()}else i=this.cachedZSortedEles;return i}},Td={};[Rs,Cd,gr,Ml,Ao,vr,xl,{registerCalculationListeners:function(){var s=this.cy,i=s.collection(),o=this,u=function(f){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(i.merge(f),g)for(var m=0;m<f.length;m++){var v=f[m],y=v._private,b=y.rstyle;b.clean=!1,b.cleanConnected=!1}};o.binder(s).on("bounds.* dirty.*",function(f){u(f.target)}).on("style.* background.*",function(f){u(f.target,!1)});var c=function(f){if(f){var g=o.onUpdateEleCalcsFns;i.cleanStyle();for(var m=0;m<i.length;m++){var v=i[m],y=v._private.rstyle;v.isNode()&&!y.cleanConnected&&(u(v.connectedEdges()),y.cleanConnected=!0)}if(g)for(var b=0;b<g.length;b++)(0,g[b])(f,i);o.recalculateRenderedStyle(i),i=s.collection()}};o.flushRenderedStyleQueue=function(){c(!0)},o.beforeRender(c,o.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(s){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(s)},recalculateRenderedStyle:function(s,i){var o=function(N){return N._private.rstyle.cleanConnected},u=[],c=[];if(!this.destroyed){void 0===i&&(i=!0);for(var d=0;d<s.length;d++){var f=s[d],g=f._private,m=g.rstyle;f.isEdge()&&(!o(f.source())||!o(f.target()))&&(m.clean=!1),!(i&&m.clean||f.removed())&&"none"!==f.pstyle("display").value&&("nodes"===g.group?c.push(f):u.push(f),m.clean=!0)}for(var v=0;v<c.length;v++){var y=c[v],D=y._private.rstyle,C=y.position();this.recalculateNodeLabelProjection(y),D.nodeX=C.x,D.nodeY=C.y,D.nodeW=y.pstyle("width").pfValue,D.nodeH=y.pstyle("height").pfValue}this.recalculateEdgeProjections(u);for(var _=0;_<u.length;_++){var A=u[_]._private,M=A.rstyle,P=A.rscratch;M.srcX=P.arrowStartX,M.srcY=P.arrowStartY,M.tgtX=P.arrowEndX,M.tgtY=P.arrowEndY,M.midX=P.midX,M.midY=P.midY,M.labelAngle=P.labelAngle,M.sourceLabelAngle=P.sourceLabelAngle,M.targetLabelAngle=P.targetLabelAngle}}}},Pl].forEach(function(s){Ge(Td,s)});var Mh={getCachedImage:function(s,i,o){var c=this.imageCache=this.imageCache||{},d=c[s];if(d)return d.image.complete||d.image.addEventListener("load",o),d.image;var f=(d=c[s]=c[s]||{}).image=new Image;f.addEventListener("load",o),f.addEventListener("error",function(){f.error=!0});var g="data:";return s.substring(0,g.length).toLowerCase()===g||(f.crossOrigin=i),f.src=s,f}},Mo={registerBinding:function(s,i,o,u){var c=Array.prototype.slice.apply(arguments,[1]),d=this.binder(s);return d.on.apply(d,c)},binder:function(s){var i=this,o=s===window||s===document||s===document.body||function(i){return"undefined"!=typeof HTMLElement&&i instanceof HTMLElement}(s);if(null==i.supportsPassiveEvents){var u=!1;try{var c=Object.defineProperty({},"passive",{get:function(){return u=!0,!0}});window.addEventListener("test",null,c)}catch(f){}i.supportsPassiveEvents=u}var d=function(g,m,v){var y=Array.prototype.slice.call(arguments);return o&&i.supportsPassiveEvents&&(y[2]={capture:null!=v&&v,passive:!1,once:!1}),i.bindings.push({target:s,args:y}),(s.addEventListener||s.on).apply(s,y),this};return{on:d,addEventListener:d,addListener:d,bind:d}},nodeIsDraggable:function(s){return s&&s.isNode()&&!s.locked()&&s.grabbable()},nodeIsGrabbable:function(s){return this.nodeIsDraggable(s)&&s.interactive()}};Mo.load=function(){var s=this,i=function(O){return O.selected()},o=function(O,ne,fe,ue){null==O&&(O=s.cy);for(var ce=0;ce<ne.length;ce++)O.emit({originalEvent:fe,type:ne[ce],position:ue})},u=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},c=function(O,ne){var fe=!0;if(s.cy.hasCompoundNodes()&&O&&O.pannable()){for(var ue=0;ne&&ue<ne.length;ue++)if((O=ne[ue]).isNode()&&O.isParent()&&!O.pannable()){fe=!1;break}}else fe=!0;return fe},g=function(O){O[0]._private.rscratch.inDragLayer=!0},v=function(O){O[0]._private.rscratch.isGrabTarget=!0},b=function(O,ne){var fe=ne.addToList;fe.has(O)||(fe.merge(O),function(O){O[0]._private.grabbed=!0}(O))},C=function(O,ne){ne=ne||{};var fe=O.cy().hasCompoundNodes();ne.inDragLayer&&(O.forEach(g),O.neighborhood().stdFilter(function(ue){return!fe||ue.isEdge()}).forEach(g)),ne.addToList&&O.forEach(function(ue){b(ue,ne)}),function(O,ne){if(O.cy().hasCompoundNodes()&&(null!=ne.inDragLayer||null!=ne.addToList)){var fe=O.descendants();ne.inDragLayer&&(fe.forEach(g),fe.connectedEdges().forEach(g)),ne.addToList&&ne.addToList.unmerge(fe)}}(O,ne),A(O,{inDragLayer:ne.inDragLayer}),s.updateCachedGrabbedEles()},_=C,S=function(O){!O||(s.getCachedZSortedEles().forEach(function(ne){(function(O){O[0]._private.grabbed=!1})(ne),function(O){O[0]._private.rscratch.inDragLayer=!1}(ne),function(O){O[0]._private.rscratch.isGrabTarget=!1}(ne)}),s.updateCachedGrabbedEles())},A=function(O,ne){if((null!=ne.inDragLayer||null!=ne.addToList)&&O.cy().hasCompoundNodes()){var fe=O.ancestors().orphans();if(!fe.same(O)){var ue=fe.descendants().spawnSelf().merge(fe).unmerge(O).unmerge(O.descendants()),ce=ue.connectedEdges();ne.inDragLayer&&(ce.forEach(g),ue.forEach(g)),ne.addToList&&ue.forEach(function(ot){b(ot,ne)})}}},M=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},P="undefined"!=typeof MutationObserver,I="undefined"!=typeof ResizeObserver;P?(s.removeObserver=new MutationObserver(function(_e){for(var O=0;O<_e.length;O++){var fe=_e[O].removedNodes;if(fe)for(var ue=0;ue<fe.length;ue++)if(fe[ue]===s.container){s.destroy();break}}}),s.container.parentNode&&s.removeObserver.observe(s.container.parentNode,{childList:!0})):s.registerBinding(s.container,"DOMNodeRemoved",function(_e){s.destroy()});var N=jr(function(){s.cy.resize()},100);P&&(s.styleObserver=new MutationObserver(N),s.styleObserver.observe(s.container,{attributes:!0})),s.registerBinding(window,"resize",N),I&&(s.resizeObserver=new ResizeObserver(N),s.resizeObserver.observe(s.container));var U=function(){s.invalidateContainerClientCoordsCache()};(function(O,ne){for(;null!=O;)s.registerBinding(_e=O,"transitionend",U),s.registerBinding(_e,"animationend",U),s.registerBinding(_e,"scroll",U),O=O.parentNode;var _e})(s.container),s.registerBinding(s.container,"contextmenu",function(_e){_e.preventDefault()});var F,j,z,V=function(O){for(var ne=s.findContainerClientCoords(),fe=ne[0],ue=ne[1],ce=ne[2],ot=ne[3],we=O.touches?O.touches:[O],Be=!1,Ct=0;Ct<we.length;Ct++){var Vt=we[Ct];if(fe<=Vt.clientX&&Vt.clientX<=fe+ce&&ue<=Vt.clientY&&Vt.clientY<=ue+ot){Be=!0;break}}if(!Be)return!1;for(var pt=s.container,lt=O.target.parentNode,Se=!1;lt;){if(lt===pt){Se=!0;break}lt=lt.parentNode}return!!Se};s.registerBinding(s.container,"mousedown",function(O){if(V(O)){O.preventDefault(),M(),s.hoverData.capture=!0,s.hoverData.which=O.which;var ne=s.cy,fe=[O.clientX,O.clientY],ue=s.projectIntoViewport(fe[0],fe[1]),ce=s.selection,ot=s.findNearestElements(ue[0],ue[1],!0,!1),we=ot[0],Be=s.dragData.possibleDragElements;if(s.hoverData.mdownPos=ue,s.hoverData.mdownGPos=fe,3==O.which){s.hoverData.cxtStarted=!0;var Vt={originalEvent:O,type:"cxttapstart",position:{x:ue[0],y:ue[1]}};we?(we.activate(),we.emit(Vt),s.hoverData.down=we):ne.emit(Vt),s.hoverData.downTime=(new Date).getTime(),s.hoverData.cxtDragged=!1}else if(1==O.which){if(we&&we.activate(),null!=we&&s.nodeIsGrabbable(we)){var pt=function(rn){return{originalEvent:O,type:rn,position:{x:ue[0],y:ue[1]}}};if(v(we),we.selected()){Be=s.dragData.possibleDragElements=ne.collection();var lt=ne.$(function(Se){return Se.isNode()&&Se.selected()&&s.nodeIsGrabbable(Se)});C(lt,{addToList:Be}),we.emit(pt("grabon")),lt.forEach(function(rn){rn.emit(pt("grab"))})}else Be=s.dragData.possibleDragElements=ne.collection(),_(we,{addToList:Be}),we.emit(pt("grabon")).emit(pt("grab"));s.redrawHint("eles",!0),s.redrawHint("drag",!0)}s.hoverData.down=we,s.hoverData.downs=ot,s.hoverData.downTime=(new Date).getTime(),o(we,["mousedown","tapstart","vmousedown"],O,{x:ue[0],y:ue[1]}),null==we?(ce[4]=1,s.data.bgActivePosistion={x:ue[0],y:ue[1]},s.redrawHint("select",!0),s.redraw()):we.pannable()&&(ce[4]=1),s.hoverData.tapholdCancelled=!1,clearTimeout(s.hoverData.tapholdTimeout),s.hoverData.tapholdTimeout=setTimeout(function(){if(!s.hoverData.tapholdCancelled){var rn=s.hoverData.down;rn?rn.emit({originalEvent:O,type:"taphold",position:{x:ue[0],y:ue[1]}}):ne.emit({originalEvent:O,type:"taphold",position:{x:ue[0],y:ue[1]}})}},s.tapholdDuration)}ce[0]=ce[2]=ue[0],ce[1]=ce[3]=ue[1]}},!1),s.registerBinding(window,"mousemove",function(O){var Fs;if(s.hoverData.capture||V(O)){var fe=!1,ue=s.cy,ce=ue.zoom(),ot=[O.clientX,O.clientY],we=s.projectIntoViewport(ot[0],ot[1]),Be=s.hoverData.mdownPos,Ct=s.hoverData.mdownGPos,Vt=s.selection,pt=null;!s.hoverData.draggingEles&&!s.hoverData.dragging&&!s.hoverData.selecting&&(pt=s.findNearestElement(we[0],we[1],!0,!1));var jn,Ot=s.hoverData.last,lt=s.hoverData.down,Se=[we[0]-Vt[2],we[1]-Vt[3]],rn=s.dragData.possibleDragElements;if(Ct){var ii=ot[0]-Ct[0],Qt=ot[1]-Ct[1];s.hoverData.isOverThresholdDrag=jn=ii*ii+Qt*Qt>=s.desktopTapThreshold2}var gi=u(O);jn&&(s.hoverData.tapholdCancelled=!0),fe=!0,o(pt,["mousemove","vmousemove","tapdrag"],O,{x:we[0],y:we[1]});var ja=function(){s.data.bgActivePosistion=void 0,s.hoverData.selecting||ue.emit({originalEvent:O,type:"boxstart",position:{x:we[0],y:we[1]}}),Vt[4]=1,s.hoverData.selecting=!0,s.redrawHint("select",!0),s.redraw()};if(3===s.hoverData.which){if(jn){var qa={originalEvent:O,type:"cxtdrag",position:{x:we[0],y:we[1]}};lt?lt.emit(qa):ue.emit(qa),s.hoverData.cxtDragged=!0,(!s.hoverData.cxtOver||pt!==s.hoverData.cxtOver)&&(s.hoverData.cxtOver&&s.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:we[0],y:we[1]}}),s.hoverData.cxtOver=pt,pt&&pt.emit({originalEvent:O,type:"cxtdragover",position:{x:we[0],y:we[1]}}))}}else if(s.hoverData.dragging){if(fe=!0,ue.panningEnabled()&&ue.userPanningEnabled()){var Ga;if(s.hoverData.justStartedPan){var Ld=s.hoverData.mdownPos;Ga={x:(we[0]-Ld[0])*ce,y:(we[1]-Ld[1])*ce},s.hoverData.justStartedPan=!1}else Ga={x:Se[0]*ce,y:Se[1]*ce};ue.panBy(Ga),ue.emit("dragpan"),s.hoverData.dragged=!0}we=s.projectIntoViewport(O.clientX,O.clientY)}else if(1!=Vt[4]||null!=lt&&!lt.pannable()){if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),(!lt||!lt.grabbed())&&pt!=Ot&&(Ot&&o(Ot,["mouseout","tapdragout"],O,{x:we[0],y:we[1]}),pt&&o(pt,["mouseover","tapdragover"],O,{x:we[0],y:we[1]}),s.hoverData.last=pt),lt)if(jn){if(ue.boxSelectionEnabled()&&gi)lt&&lt.grabbed()&&(S(rn),lt.emit("freeon"),rn.emit("free"),s.dragData.didDrag&&(lt.emit("dragfreeon"),rn.emit("dragfree"))),ja();else if(lt&&lt.grabbed()&&s.nodeIsDraggable(lt)){var Hr=!s.dragData.didDrag;Hr&&s.redrawHint("eles",!0),s.dragData.didDrag=!0;var sr=ue.collection();s.hoverData.draggingEles||C(rn,{inDragLayer:!0});var Zn={x:0,y:0};if(Ce(Se[0])&&Ce(Se[1])&&(Zn.x+=Se[0],Zn.y+=Se[1],Hr)){var Oi=s.hoverData.dragDelta;Oi&&Ce(Oi[0])&&Ce(Oi[1])&&(Zn.x+=Oi[0],Zn.y+=Oi[1])}for(var Li=0;Li<rn.length;Li++){var Ka=rn[Li];s.nodeIsDraggable(Ka)&&Ka.grabbed()&&sr.push(Ka)}s.hoverData.draggingEles=!0,sr.silentShift(Zn).emit("position drag"),s.redrawHint("drag",!0),s.redraw()}}else 0===(Fs=s.hoverData.dragDelta=s.hoverData.dragDelta||[]).length?(Fs.push(Se[0]),Fs.push(Se[1])):(Fs[0]+=Se[0],Fs[1]+=Se[1]);fe=!0}else jn&&(s.hoverData.dragging||!ue.boxSelectionEnabled()||!gi&&ue.panningEnabled()&&ue.userPanningEnabled()?!s.hoverData.selecting&&ue.panningEnabled()&&ue.userPanningEnabled()&&c(lt,s.hoverData.downs)&&(s.hoverData.dragging=!0,s.hoverData.justStartedPan=!0,Vt[4]=0,s.data.bgActivePosistion=ea(Be),s.redrawHint("select",!0),s.redraw()):ja(),lt&&lt.pannable()&&lt.active()&&lt.unactivate());if(Vt[2]=we[0],Vt[3]=we[1],fe)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1),s.registerBinding(window,"mouseup",function(O){if(s.hoverData.capture){s.hoverData.capture=!1;var fe=s.cy,ue=s.projectIntoViewport(O.clientX,O.clientY),ce=s.selection,ot=s.findNearestElement(ue[0],ue[1],!0,!1),we=s.dragData.possibleDragElements,Be=s.hoverData.down,Ct=u(O);if(s.data.bgActivePosistion&&(s.redrawHint("select",!0),s.redraw()),s.hoverData.tapholdCancelled=!0,s.data.bgActivePosistion=void 0,Be&&Be.unactivate(),3===s.hoverData.which){var Vt={originalEvent:O,type:"cxttapend",position:{x:ue[0],y:ue[1]}};if(Be?Be.emit(Vt):fe.emit(Vt),!s.hoverData.cxtDragged){var pt={originalEvent:O,type:"cxttap",position:{x:ue[0],y:ue[1]}};Be?Be.emit(pt):fe.emit(pt)}s.hoverData.cxtDragged=!1,s.hoverData.which=null}else if(1===s.hoverData.which){if(o(ot,["mouseup","tapend","vmouseup"],O,{x:ue[0],y:ue[1]}),!s.dragData.didDrag&&!s.hoverData.dragged&&!s.hoverData.selecting&&!s.hoverData.isOverThresholdDrag&&(o(Be,["click","tap","vclick"],O,{x:ue[0],y:ue[1]}),j=!1,O.timeStamp-z<=fe.multiClickDebounceTime()?(F&&clearTimeout(F),j=!0,z=null,o(Be,["dblclick","dbltap","vdblclick"],O,{x:ue[0],y:ue[1]})):(F=setTimeout(function(){j||o(Be,["oneclick","onetap","voneclick"],O,{x:ue[0],y:ue[1]})},fe.multiClickDebounceTime()),z=O.timeStamp)),null==Be&&!s.dragData.didDrag&&!s.hoverData.selecting&&!s.hoverData.dragged&&!u(O)&&(fe.$(i).unselect(["tapunselect"]),we.length>0&&s.redrawHint("eles",!0),s.dragData.possibleDragElements=we=fe.collection()),ot==Be&&!s.dragData.didDrag&&!s.hoverData.selecting&&null!=ot&&ot._private.selectable&&(s.hoverData.dragging||("additive"===fe.selectionType()||Ct?ot.selected()?ot.unselect(["tapunselect"]):ot.select(["tapselect"]):Ct||(fe.$(i).unmerge(ot).unselect(["tapunselect"]),ot.select(["tapselect"]))),s.redrawHint("eles",!0)),s.hoverData.selecting){var Ot=fe.collection(s.getAllInBox(ce[0],ce[1],ce[2],ce[3]));s.redrawHint("select",!0),Ot.length>0&&s.redrawHint("eles",!0),fe.emit({type:"boxend",originalEvent:O,position:{x:ue[0],y:ue[1]}}),"additive"===fe.selectionType()||Ct||fe.$(i).unmerge(Ot).unselect(),Ot.emit("box").stdFilter(function(jn){return jn.selectable()&&!jn.selected()}).select().emit("boxselect"),s.redraw()}if(s.hoverData.dragging&&(s.hoverData.dragging=!1,s.redrawHint("select",!0),s.redrawHint("eles",!0),s.redraw()),!ce[4]){s.redrawHint("drag",!0),s.redrawHint("eles",!0);var Se=Be&&Be.grabbed();S(we),Se&&(Be.emit("freeon"),we.emit("free"),s.dragData.didDrag&&(Be.emit("dragfreeon"),we.emit("dragfree")))}}ce[4]=0,s.hoverData.down=null,s.hoverData.cxtStarted=!1,s.hoverData.draggingEles=!1,s.hoverData.selecting=!1,s.hoverData.isOverThresholdDrag=!1,s.dragData.didDrag=!1,s.hoverData.dragged=!1,s.hoverData.dragDelta=[],s.hoverData.mdownPos=null,s.hoverData.mdownGPos=null}},!1);var L=function(O){if(!s.scrollingPage){var ne=s.cy,fe=ne.zoom(),ue=ne.pan(),ce=s.projectIntoViewport(O.clientX,O.clientY),ot=[ce[0]*fe+ue.x,ce[1]*fe+ue.y];if(s.hoverData.draggingEles||s.hoverData.dragging||s.hoverData.cxtStarted||0!==s.selection[4])return void O.preventDefault();if(ne.panningEnabled()&&ne.userPanningEnabled()&&ne.zoomingEnabled()&&ne.userZoomingEnabled()){var we;O.preventDefault(),s.data.wheelZooming=!0,clearTimeout(s.data.wheelTimeout),s.data.wheelTimeout=setTimeout(function(){s.data.wheelZooming=!1,s.redrawHint("eles",!0),s.redraw()},150),we=null!=O.deltaY?O.deltaY/-250:null!=O.wheelDeltaY?O.wheelDeltaY/1e3:O.wheelDelta/1e3,we*=s.wheelSensitivity,1===O.deltaMode&&(we*=33);var Ct=ne.zoom()*Math.pow(10,we);"gesturechange"===O.type&&(Ct=s.gestureStartZoom*O.scale),ne.zoom({level:Ct,renderedPosition:{x:ot[0],y:ot[1]}}),ne.emit("gesturechange"===O.type?"pinchzoom":"scrollzoom")}}};s.registerBinding(s.container,"wheel",L,!0),s.registerBinding(window,"scroll",function(O){s.scrollingPage=!0,clearTimeout(s.scrollingPageTimeout),s.scrollingPageTimeout=setTimeout(function(){s.scrollingPage=!1},250)},!0),s.registerBinding(s.container,"gesturestart",function(O){s.gestureStartZoom=s.cy.zoom(),s.hasTouchStarted||O.preventDefault()},!0),s.registerBinding(s.container,"gesturechange",function(_e){s.hasTouchStarted||L(_e)},!0),s.registerBinding(s.container,"mouseout",function(O){var ne=s.projectIntoViewport(O.clientX,O.clientY);s.cy.emit({originalEvent:O,type:"mouseout",position:{x:ne[0],y:ne[1]}})},!1),s.registerBinding(s.container,"mouseover",function(O){var ne=s.projectIntoViewport(O.clientX,O.clientY);s.cy.emit({originalEvent:O,type:"mouseover",position:{x:ne[0],y:ne[1]}})},!1);var q,$,Z,W,X,K,Q,ae,ee,ie,de,ve,he,oe,pe,Ee,Me,Ze,it,xe,se=function(O,ne,fe,ue){return Math.sqrt((fe-O)*(fe-O)+(ue-ne)*(ue-ne))},Y=function(O,ne,fe,ue){return(fe-O)*(fe-O)+(ue-ne)*(ue-ne)};if(s.registerBinding(s.container,"touchstart",oe=function(O){if(s.hasTouchStarted=!0,V(O)){M(),s.touchData.capture=!0,s.data.bgActivePosistion=void 0;var ne=s.cy,fe=s.touchData.now,ue=s.touchData.earlier;if(O.touches[0]){var ce=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);fe[0]=ce[0],fe[1]=ce[1]}if(O.touches[1]&&(ce=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),fe[2]=ce[0],fe[3]=ce[1]),O.touches[2]&&(ce=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),fe[4]=ce[0],fe[5]=ce[1]),O.touches[1]){s.touchData.singleTouchMoved=!0,S(s.dragData.touchDragEles);var ot=s.findContainerClientCoords();de=ot[2],ve=ot[3],$=O.touches[0].clientY-(ie=ot[1]),Z=O.touches[1].clientX-(ee=ot[0]),W=O.touches[1].clientY-ie,he=0<=(q=O.touches[0].clientX-ee)&&q<=de&&0<=Z&&Z<=de&&0<=$&&$<=ve&&0<=W&&W<=ve;var we=ne.pan(),Be=ne.zoom();if(X=se(q,$,Z,W),K=Y(q,$,Z,W),ae=[((Q=[(q+Z)/2,($+W)/2])[0]-we.x)/Be,(Q[1]-we.y)/Be],K<4e4&&!O.touches[2]){var pt=s.findNearestElement(fe[0],fe[1],!0,!0),Ot=s.findNearestElement(fe[2],fe[3],!0,!0);return pt&&pt.isNode()?(pt.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),s.touchData.start=pt):Ot&&Ot.isNode()?(Ot.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),s.touchData.start=Ot):ne.emit({originalEvent:O,type:"cxttapstart",position:{x:fe[0],y:fe[1]}}),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!0,s.touchData.cxtDragged=!1,s.data.bgActivePosistion=void 0,void s.redraw()}}if(O.touches[2])ne.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]&&O.touches[0]){var lt=s.findNearestElements(fe[0],fe[1],!0,!0),Se=lt[0];if(null!=Se&&(Se.activate(),s.touchData.start=Se,s.touchData.starts=lt,s.nodeIsGrabbable(Se))){var rn=s.dragData.touchDragEles=ne.collection(),jn=null;s.redrawHint("eles",!0),s.redrawHint("drag",!0),Se.selected()?(jn=ne.$(function(mr){return mr.selected()&&s.nodeIsGrabbable(mr)}),C(jn,{addToList:rn})):_(Se,{addToList:rn}),v(Se);var ii=function(gi){return{originalEvent:O,type:gi,position:{x:fe[0],y:fe[1]}}};Se.emit(ii("grabon")),jn?jn.forEach(function(mr){mr.emit(ii("grab"))}):Se.emit(ii("grab"))}o(Se,["touchstart","tapstart","vmousedown"],O,{x:fe[0],y:fe[1]}),null==Se&&(s.data.bgActivePosistion={x:ce[0],y:ce[1]},s.redrawHint("select",!0),s.redraw()),s.touchData.singleTouchMoved=!1,s.touchData.singleTouchStartTime=+new Date,clearTimeout(s.touchData.tapholdTimeout),s.touchData.tapholdTimeout=setTimeout(function(){!1===s.touchData.singleTouchMoved&&!s.pinching&&!s.touchData.selecting&&o(s.touchData.start,["taphold"],O,{x:fe[0],y:fe[1]})},s.tapholdDuration)}if(O.touches.length>=1){for(var Sr=s.touchData.startPosition=[],Qt=0;Qt<fe.length;Qt++)Sr[Qt]=ue[Qt]=fe[Qt];var Vr=O.touches[0];s.touchData.startGPosition=[Vr.clientX,Vr.clientY]}}},!1),s.registerBinding(window,"touchmove",pe=function(O){var ne=s.touchData.capture;if(ne||V(O)){var fe=s.selection,ue=s.cy,ce=s.touchData.now,ot=s.touchData.earlier,we=ue.zoom();if(O.touches[0]){var Be=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ce[0]=Be[0],ce[1]=Be[1]}O.touches[1]&&(Be=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),ce[2]=Be[0],ce[3]=Be[1]),O.touches[2]&&(Be=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),ce[4]=Be[0],ce[5]=Be[1]);var Vt,Ct=s.touchData.startGPosition;if(ne&&O.touches[0]&&Ct){for(var pt=[],Ot=0;Ot<ce.length;Ot++)pt[Ot]=ce[Ot]-ot[Ot];var lt=O.touches[0].clientX-Ct[0],rn=O.touches[0].clientY-Ct[1];Vt=lt*lt+rn*rn>=s.touchTapThreshold2}if(ne&&s.touchData.cxt){O.preventDefault();var gi=Y(Sr=O.touches[0].clientX-ee,Qt=O.touches[0].clientY-ie,Vr=O.touches[1].clientX-ee,mr=O.touches[1].clientY-ie);if(gi/K>=2.25||gi>=22500){s.touchData.cxt=!1,s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var Wa={originalEvent:O,type:"cxttapend",position:{x:ce[0],y:ce[1]}};s.touchData.start?(s.touchData.start.unactivate().emit(Wa),s.touchData.start=null):ue.emit(Wa)}}if(ne&&s.touchData.cxt){Wa={originalEvent:O,type:"cxtdrag",position:{x:ce[0],y:ce[1]}},s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.touchData.start?s.touchData.start.emit(Wa):ue.emit(Wa),s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxtDragged=!0;var Hr=s.findNearestElement(ce[0],ce[1],!0,!0);(!s.touchData.cxtOver||Hr!==s.touchData.cxtOver)&&(s.touchData.cxtOver&&s.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:ce[0],y:ce[1]}}),s.touchData.cxtOver=Hr,Hr&&Hr.emit({originalEvent:O,type:"cxtdragover",position:{x:ce[0],y:ce[1]}}))}else if(ne&&O.touches[2]&&ue.boxSelectionEnabled())O.preventDefault(),s.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,s.touchData.selecting||ue.emit({originalEvent:O,type:"boxstart",position:{x:ce[0],y:ce[1]}}),s.touchData.selecting=!0,s.touchData.didSelect=!0,fe[4]=1,fe&&0!==fe.length&&void 0!==fe[0]?(fe[2]=(ce[0]+ce[2]+ce[4])/3,fe[3]=(ce[1]+ce[3]+ce[5])/3):(fe[0]=(ce[0]+ce[2]+ce[4])/3,fe[1]=(ce[1]+ce[3]+ce[5])/3,fe[2]=(ce[0]+ce[2]+ce[4])/3+1,fe[3]=(ce[1]+ce[3]+ce[5])/3+1),s.redrawHint("select",!0),s.redraw();else if(ne&&O.touches[1]&&!s.touchData.didSelect&&ue.zoomingEnabled()&&ue.panningEnabled()&&ue.userZoomingEnabled()&&ue.userPanningEnabled()){if(O.preventDefault(),s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),sr=s.dragData.touchDragEles){s.redrawHint("drag",!0);for(var Zn=0;Zn<sr.length;Zn++){var Oi=sr[Zn]._private;Oi.grabbed=!1,Oi.rscratch.inDragLayer=!1}}var Sr,Qt,Vr,mr,Li=s.touchData.start,Ka=se(Sr=O.touches[0].clientX-ee,Qt=O.touches[0].clientY-ie,Vr=O.touches[1].clientX-ee,mr=O.touches[1].clientY-ie),Jh=Ka/X;if(he){var ep=(Sr-q+(Vr-Z))/2,gb=(Qt-$+(mr-W))/2,$l=ue.zoom(),tp=$l*Jh,Ul=ue.pan(),Bd=ae[0]*$l+Ul.x,np=ae[1]*$l+Ul.y,Vd={x:-tp/$l*(Bd-Ul.x-ep)+Bd,y:-tp/$l*(np-Ul.y-gb)+np};Li&&Li.active()&&(S(sr=s.dragData.touchDragEles),s.redrawHint("drag",!0),s.redrawHint("eles",!0),Li.unactivate().emit("freeon"),sr.emit("free"),s.dragData.didDrag&&(Li.emit("dragfreeon"),sr.emit("dragfree"))),ue.viewport({zoom:tp,pan:Vd,cancelOnFailedZoom:!0}),ue.emit("pinchzoom"),X=Ka,q=Sr,$=Qt,Z=Vr,W=mr,s.pinching=!0}O.touches[0]&&(Be=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),ce[0]=Be[0],ce[1]=Be[1]),O.touches[1]&&(Be=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),ce[2]=Be[0],ce[3]=Be[1]),O.touches[2]&&(Be=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),ce[4]=Be[0],ce[5]=Be[1])}else if(O.touches[0]&&!s.touchData.didSelect){var Bi=s.touchData.start,rp=s.touchData.last;if(!s.hoverData.draggingEles&&!s.swipePanning&&(Hr=s.findNearestElement(ce[0],ce[1],!0,!0)),ne&&null!=Bi&&O.preventDefault(),ne&&null!=Bi&&s.nodeIsDraggable(Bi))if(Vt){var sr=s.dragData.touchDragEles,bm=!s.dragData.didDrag;bm&&C(sr,{inDragLayer:!0}),s.dragData.didDrag=!0;var Uu={x:0,y:0};Ce(pt[0])&&Ce(pt[1])&&(Uu.x+=pt[0],Uu.y+=pt[1],bm)&&(s.redrawHint("eles",!0),(Vi=s.touchData.dragDelta)&&Ce(Vi[0])&&Ce(Vi[1])&&(Uu.x+=Vi[0],Uu.y+=Vi[1])),s.hoverData.draggingEles=!0,sr.silentShift(Uu).emit("position drag"),s.redrawHint("drag",!0),s.touchData.startPosition[0]==ot[0]&&s.touchData.startPosition[1]==ot[1]&&s.redrawHint("eles",!0),s.redraw()}else{var Vi;0===(Vi=s.touchData.dragDelta=s.touchData.dragDelta||[]).length?(Vi.push(pt[0]),Vi.push(pt[1])):(Vi[0]+=pt[0],Vi[1]+=pt[1])}if(o(Bi||Hr,["touchmove","tapdrag","vmousemove"],O,{x:ce[0],y:ce[1]}),(!Bi||!Bi.grabbed())&&Hr!=rp&&(rp&&rp.emit({originalEvent:O,type:"tapdragout",position:{x:ce[0],y:ce[1]}}),Hr&&Hr.emit({originalEvent:O,type:"tapdragover",position:{x:ce[0],y:ce[1]}})),s.touchData.last=Hr,ne)for(Zn=0;Zn<ce.length;Zn++)ce[Zn]&&s.touchData.startPosition[Zn]&&Vt&&(s.touchData.singleTouchMoved=!0);ne&&(null==Bi||Bi.pannable())&&ue.panningEnabled()&&ue.userPanningEnabled()&&(c(Bi,s.touchData.starts)&&(O.preventDefault(),s.data.bgActivePosistion||(s.data.bgActivePosistion=ea(s.touchData.startPosition)),s.swipePanning?(ue.panBy({x:pt[0]*we,y:pt[1]*we}),ue.emit("dragpan")):Vt&&(s.swipePanning=!0,ue.panBy({x:lt*we,y:rn*we}),ue.emit("dragpan"),Bi&&(Bi.unactivate(),s.redrawHint("select",!0),s.touchData.start=null))),Be=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY),ce[0]=Be[0],ce[1]=Be[1])}for(Ot=0;Ot<ce.length;Ot++)ot[Ot]=ce[Ot];ne&&O.touches.length>0&&!s.hoverData.draggingEles&&!s.swipePanning&&null!=s.data.bgActivePosistion&&(s.data.bgActivePosistion=void 0,s.redrawHint("select",!0),s.redraw())}},!1),s.registerBinding(window,"touchcancel",Ee=function(O){var ne=s.touchData.start;s.touchData.capture=!1,ne&&ne.unactivate()}),s.registerBinding(window,"touchend",Me=function(O){var ne=s.touchData.start;if(s.touchData.capture){0===O.touches.length&&(s.touchData.capture=!1),O.preventDefault();var ue=s.selection;s.swipePanning=!1,s.hoverData.draggingEles=!1;var Vt,ce=s.cy,ot=ce.zoom(),we=s.touchData.now,Be=s.touchData.earlier;if(O.touches[0]){var Ct=s.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);we[0]=Ct[0],we[1]=Ct[1]}if(O.touches[1]&&(Ct=s.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY),we[2]=Ct[0],we[3]=Ct[1]),O.touches[2]&&(Ct=s.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY),we[4]=Ct[0],we[5]=Ct[1]),ne&&ne.unactivate(),s.touchData.cxt){if(Vt={originalEvent:O,type:"cxttapend",position:{x:we[0],y:we[1]}},ne?ne.emit(Vt):ce.emit(Vt),!s.touchData.cxtDragged){var pt={originalEvent:O,type:"cxttap",position:{x:we[0],y:we[1]}};ne?ne.emit(pt):ce.emit(pt)}return s.touchData.start&&(s.touchData.start._private.grabbed=!1),s.touchData.cxt=!1,s.touchData.start=null,void s.redraw()}if(!O.touches[2]&&ce.boxSelectionEnabled()&&s.touchData.selecting){s.touchData.selecting=!1;var Ot=ce.collection(s.getAllInBox(ue[0],ue[1],ue[2],ue[3]));ue[0]=void 0,ue[1]=void 0,ue[2]=void 0,ue[3]=void 0,ue[4]=0,s.redrawHint("select",!0),ce.emit({type:"boxend",originalEvent:O,position:{x:we[0],y:we[1]}}),Ot.emit("box").stdFilter(function(qa){return qa.selectable()&&!qa.selected()}).select().emit("boxselect"),Ot.nonempty()&&s.redrawHint("eles",!0),s.redraw()}if(null!=ne&&ne.unactivate(),O.touches[2])s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);else if(!O.touches[1]&&!O.touches[0]&&!O.touches[0]){s.data.bgActivePosistion=void 0,s.redrawHint("select",!0);var Se=s.dragData.touchDragEles;if(null!=ne){var rn=ne._private.grabbed;S(Se),s.redrawHint("drag",!0),s.redrawHint("eles",!0),rn&&(ne.emit("freeon"),Se.emit("free"),s.dragData.didDrag&&(ne.emit("dragfreeon"),Se.emit("dragfree"))),o(ne,["touchend","tapend","vmouseup","tapdragout"],O,{x:we[0],y:we[1]}),ne.unactivate(),s.touchData.start=null}else{var jn=s.findNearestElement(we[0],we[1],!0,!0);o(jn,["touchend","tapend","vmouseup","tapdragout"],O,{x:we[0],y:we[1]})}var ii=s.touchData.startPosition[0]-we[0],Qt=s.touchData.startPosition[1]-we[1],gi=(ii*ii+Qt*Qt)*ot*ot;s.touchData.singleTouchMoved||(ne||ce.$(":selected").unselect(["tapunselect"]),o(ne,["tap","vclick"],O,{x:we[0],y:we[1]}),Ze=!1,O.timeStamp-xe<=ce.multiClickDebounceTime()?(it&&clearTimeout(it),Ze=!0,xe=null,o(ne,["dbltap","vdblclick"],O,{x:we[0],y:we[1]})):(it=setTimeout(function(){Ze||o(ne,["onetap","voneclick"],O,{x:we[0],y:we[1]})},ce.multiClickDebounceTime()),xe=O.timeStamp)),null!=ne&&!s.dragData.didDrag&&ne._private.selectable&&gi<s.touchTapThreshold2&&!s.pinching&&("single"===ce.selectionType()?(ce.$(i).unmerge(ne).unselect(["tapunselect"]),ne.select(["tapselect"])):ne.selected()?ne.unselect(["tapunselect"]):ne.select(["tapselect"]),s.redrawHint("eles",!0)),s.touchData.singleTouchMoved=!0}for(var ar=0;ar<we.length;ar++)Be[ar]=we[ar];s.dragData.didDrag=!1,0===O.touches.length&&(s.touchData.dragDelta=[],s.touchData.startPosition=null,s.touchData.startGPosition=null,s.touchData.didSelect=!1),O.touches.length<2&&(1===O.touches.length&&(s.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),s.pinching=!1,s.redrawHint("eles",!0),s.redraw())}},!1),"undefined"==typeof TouchEvent){var Te=[],We=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},je=function(O){for(var ne=0;ne<Te.length;ne++)if(Te[ne].event.pointerId===O.pointerId)return void Te.splice(ne,1)},Et=function(O){O.touches=Te.map(function(ne){return ne.touch})},ht=function(O){return"mouse"===O.pointerType||4===O.pointerType};s.registerBinding(s.container,"pointerdown",function(_e){ht(_e)||(_e.preventDefault(),Te.push(function(O){return{event:O,touch:We(O)}}(_e)),Et(_e),oe(_e))}),s.registerBinding(s.container,"pointerup",function(_e){ht(_e)||(je(_e),Et(_e),Me(_e))}),s.registerBinding(s.container,"pointercancel",function(_e){ht(_e)||(je(_e),Et(_e),Ee())}),s.registerBinding(s.container,"pointermove",function(_e){var O,ne;ht(_e)||(_e.preventDefault(),O=_e,(ne=Te.filter(function(fe){return fe.event.pointerId===O.pointerId})[0]).event=O,ne.touch=We(O),Et(_e),pe(_e))})}};var ca={generatePolygon:function(s,i){return this.nodeShapes[s]={renderer:this,name:s,points:i,draw:function(u,c,d,f,g){this.renderer.nodeShapeImpl("polygon",u,c,d,f,g,this.points)},intersectLine:function(u,c,d,f,g,m,v){return uu(g,m,this.points,u,c,d/2,f/2,v)},checkPoint:function(u,c,d,f,g,m,v){return Ca(u,c,this.points,m,v,f,g,[0,-1],d)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){return function(i,o,u,c,d,f){var g=u-i,m=c-o;g/=d,m/=f;var v=Math.sqrt(g*g+m*m),y=v-1;if(y<0)return[];var b=y/v;return[(u-i)*b+i,(c-o)*b+o]}(d,f,i,o,u/2+g,c/2+g)},checkPoint:function(i,o,u,c,d,f,g){return Kn(i,o,c,d,f,g,u)}}},generateRoundPolygon:function(s,i){for(var o=new Array(2*i.length),u=0;u<i.length/2;u++){var d,c=2*u;d=u<i.length/2-1?2*(u+1):0,o[4*u]=i[c],o[4*u+1]=i[c+1];var f=i[d]-i[c],g=i[d+1]-i[c+1],m=Math.sqrt(f*f+g*g);o[4*u+2]=f/m,o[4*u+3]=g/m}return this.nodeShapes[s]={renderer:this,name:s,points:o,draw:function(y,b,D,C,_){this.renderer.nodeShapeImpl("round-polygon",y,b,D,C,_,this.points)},intersectLine:function(y,b,D,C,_,S,A){return function(i,o,u,c,d,f,g,m){for(var y,v=[],b=new Array(u.length),D=f/2,C=g/2,_=nl(f,g),S=0;S<u.length/4;S++){var M,A;A=0===S?u.length-2:4*S-2,M=4*S+2;var P=c+D*u[4*S],I=d+C*u[4*S+1],B=_/Math.tan(Math.acos(-u[A]*u[M]-u[A+1]*u[M+1])/2),U=P-B*u[A],R=I-B*u[A+1],V=P+B*u[M],F=I+B*u[M+1];0===S?(b[u.length-2]=U,b[u.length-1]=R):(b[4*S-2]=U,b[4*S-1]=R),b[4*S]=V,b[4*S+1]=F;var j=u[A+1],z=-u[A];j*u[M]+z*u[M+1]<0&&(j*=-1,z*=-1),0!==(y=tl(i,o,c,d,U+j*_,R+z*_,_)).length&&v.push(y[0],y[1])}for(var Z=0;Z<b.length/4;Z++)0!==(y=Sa(i,o,c,d,b[4*Z],b[4*Z+1],b[4*Z+2],b[4*Z+3],!1)).length&&v.push(y[0],y[1]);if(v.length>2){for(var W=[v[0],v[1]],X=Math.pow(W[0]-i,2)+Math.pow(W[1]-o,2),K=1;K<v.length/2;K++){var Q=Math.pow(v[2*K]-i,2)+Math.pow(v[2*K+1]-o,2);Q<=X&&(W[0]=v[2*K],W[1]=v[2*K+1],X=Q)}return W}return v}(_,S,this.points,y,b,D,C)},checkPoint:function(y,b,D,C,_,S,A){return function(i,o,u,c,d,f,g){for(var m=new Array(u.length),v=f/2,y=g/2,b=nl(f,g),D=b*b,C=0;C<u.length/4;C++){var S,_;_=0===C?u.length-2:4*C-2,S=4*C+2;var A=c+v*u[4*C],M=d+y*u[4*C+1],I=b/Math.tan(Math.acos(-u[_]*u[S]-u[_+1]*u[S+1])/2),N=A-I*u[_],B=M-I*u[_+1],U=A+I*u[S],R=M+I*u[S+1];m[4*C]=N,m[4*C+1]=B,m[4*C+2]=U,m[4*C+3]=R;var V=u[_+1],F=-u[_];V*u[S]+F*u[S+1]<0&&(V*=-1,F*=-1);var L=B+F*b;if(Math.pow(N+V*b-i,2)+Math.pow(L-o,2)<=D)return!0}return dr(i,o,m)}(y,b,this.points,S,A,C,_)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Er(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){return lu(d,f,i,o,u,c,g)},checkPoint:function(i,o,u,c,d,f,g){var m=Ta(c,d),v=2*m;return!!(Ca(i,o,this.points,f,g,c,d-v,[0,-1],u)||Ca(i,o,this.points,f,g,c-v,d,[0,-1],u)||Kn(i,o,v,v,f-c/2+m,g-d/2+m,u)||Kn(i,o,v,v,f+c/2-m,g-d/2+m,u)||Kn(i,o,v,v,f+c/2-m,g+d/2-m,u)||Kn(i,o,v,v,f-c/2+m,g+d/2-m,u))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Er(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},generateCutTrianglePts:function(i,o,u,c){var d=this.cornerLength,f=o/2,g=i/2,m=u-g,v=u+g,y=c-f,b=c+f;return{topLeft:[m,y+d,m+d,y,m+d,y+d],topRight:[v-d,y,v,y+d,v-d,y+d],bottomRight:[v,b-d,v-d,b,v-d,b-d],bottomLeft:[m+d,b,m,b-d,m+d,b-d]}},intersectLine:function(i,o,u,c,d,f,g){var m=this.generateCutTrianglePts(u+2*g,c+2*g,i,o),v=[].concat.apply([],[m.topLeft.splice(0,4),m.topRight.splice(0,4),m.bottomRight.splice(0,4),m.bottomLeft.splice(0,4)]);return uu(d,f,v,i,o)},checkPoint:function(i,o,u,c,d,f,g){if(Ca(i,o,this.points,f,g,c,d-2*this.cornerLength,[0,-1],u)||Ca(i,o,this.points,f,g,c-2*this.cornerLength,d,[0,-1],u))return!0;var m=this.generateCutTrianglePts(c,d,f,g);return dr(i,o,m.topLeft)||dr(i,o,m.topRight)||dr(i,o,m.bottomRight)||dr(i,o,m.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Er(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){var b=this.generateBarrelBezierPts(u+2*g,c+2*g,i,o),D=function(S){var A=Xo({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.15),M=Xo({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.5),P=Xo({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},.85);return[S[0],S[1],A.x,A.y,M.x,M.y,P.x,P.y,S[4],S[5]]},C=[].concat(D(b.topLeft),D(b.topRight),D(b.bottomRight),D(b.bottomLeft));return uu(d,f,C,i,o)},generateBarrelBezierPts:function(i,o,u,c){var d=o/2,f=i/2,g=u-f,m=u+f,v=c-d,y=c+d,b=di(i,o),D=b.heightOffset,C=b.widthOffset,_=b.ctrlPtOffsetPct*i,S={topLeft:[g,v+D,g+_,v,g+C,v],topRight:[m-C,v,m-_,v,m,v+D],bottomRight:[m,y-D,m-_,y,m-C,y],bottomLeft:[g+C,y,g+_,y,g,y-D]};return S.topLeft.isTop=!0,S.topRight.isTop=!0,S.bottomLeft.isBottom=!0,S.bottomRight.isBottom=!0,S},checkPoint:function(i,o,u,c,d,f,g){var m=di(c,d),y=m.widthOffset;if(Ca(i,o,this.points,f,g,c,d-2*m.heightOffset,[0,-1],u)||Ca(i,o,this.points,f,g,c-2*y,d,[0,-1],u))return!0;for(var b=this.generateBarrelBezierPts(c,d,f,g),D=function(R,V,F){var j=F[4],z=F[2],L=F[0],q=F[5],$=F[1],Z=Math.min(j,L),W=Math.max(j,L),X=Math.min(q,$),K=Math.max(q,$);if(Z<=R&&R<=W&&X<=V&&V<=K){var Q=function(i,o,u){return[i-2*o+u,2*(o-i),i]}(j,z,L),ae=function(i,o,u,c){var d=o*o-4*i*(u-=c);if(d<0)return[];var f=Math.sqrt(d),g=2*i;return[(-o+f)/g,(-o-f)/g]}(Q[0],Q[1],Q[2],R),ee=ae.filter(function(ie){return 0<=ie&&ie<=1});if(ee.length>0)return ee[0]}return null},C=Object.keys(b),_=0;_<C.length;_++){var A=b[C[_]],M=D(i,o,A);if(null!=M){var B=Un(A[5],A[3],A[1],M);if(A.isTop&&B<=o||A.isBottom&&o<=B)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Er(4,0),draw:function(i,o,u,c,d){this.renderer.nodeShapeImpl(this.name,i,o,u,c,d)},intersectLine:function(i,o,u,c,d,f,g){var v=o-(c/2+g),D=Sa(d,f,i,o,i-(u/2+g),v,i+(u/2+g),v,!1);return D.length>0?D:lu(d,f,i,o,u,c,g)},checkPoint:function(i,o,u,c,d,f,g){var m=Ta(c,d),v=2*m;if(Ca(i,o,this.points,f,g,c,d-v,[0,-1],u)||Ca(i,o,this.points,f,g,c-v,d,[0,-1],u))return!0;var y=c/2+2*u,b=d/2+2*u;return!!(dr(i,o,[f-y,g-b,f-y,g,f+y,g,f+y,g-b])||Kn(i,o,v,v,f+c/2-m,g+d/2-m,u)||Kn(i,o,v,v,f-c/2+m,g+d/2-m,u))}}},registerNodeShapes:function(){var s=this.nodeShapes={},i=this;this.generateEllipse(),this.generatePolygon("triangle",Er(3,0)),this.generateRoundPolygon("round-triangle",Er(3,0)),this.generatePolygon("rectangle",Er(4,0)),s.square=s.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var o=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",o),this.generateRoundPolygon("round-diamond",o),this.generatePolygon("pentagon",Er(5,0)),this.generateRoundPolygon("round-pentagon",Er(5,0)),this.generatePolygon("hexagon",Er(6,0)),this.generateRoundPolygon("round-hexagon",Er(6,0)),this.generatePolygon("heptagon",Er(7,0)),this.generateRoundPolygon("round-heptagon",Er(7,0)),this.generatePolygon("octagon",Er(8,0)),this.generateRoundPolygon("round-octagon",Er(8,0));var u=new Array(20),c=zt(5,0),d=zt(5,Math.PI/5),f=.5*(3-Math.sqrt(5));f*=1.57;for(var g=0;g<d.length/2;g++)d[2*g]*=f,d[2*g+1]*=f;for(g=0;g<5;g++)u[4*g]=c[2*g],u[4*g+1]=c[2*g+1],u[4*g+2]=d[2*g],u[4*g+3]=d[2*g+1];u=vs(u),this.generatePolygon("star",u),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var m=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",m),this.generateRoundPolygon("round-tag",m),s.makePolygon=function(v){var D,b="polygon-"+v.join("$");return(D=this[b])?D:i.generatePolygon(b,v)}}},Rl={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(s){s=s||Oc();var i=this;void 0===i.averageRedrawTime&&(i.averageRedrawTime=0),void 0===i.lastRedrawTime&&(i.lastRedrawTime=0),void 0===i.lastDrawTime&&(i.lastDrawTime=0),i.requestedFrame=!0,i.renderOptions=s},beforeRender:function(s,i){if(!this.destroyed){null==i&&$t("Priority is not optional for beforeRender");var o=this.beforeRenderCallbacks;o.push({fn:s,priority:i}),o.sort(function(u,c){return c.priority-u.priority})}}},xh=function(i,o,u){for(var c=i.beforeRenderCallbacks,d=0;d<c.length;d++)c[d].fn(o,u)};Rl.startRenderLoop=function(){var s=this,i=s.cy;s.renderLoopStarted||(s.renderLoopStarted=!0,Rc(function u(c){if(!s.destroyed){if(!i.batching())if(s.requestedFrame&&!s.skipFrame){xh(s,!0,c);var d=Ti();s.render(s.renderOptions);var f=s.lastDrawTime=Ti();void 0===s.averageRedrawTime&&(s.averageRedrawTime=f-d),void 0===s.redrawCount&&(s.redrawCount=0),s.redrawCount++,void 0===s.redrawTotalTime&&(s.redrawTotalTime=0);var g=f-d;s.redrawTotalTime+=g,s.lastRedrawTime=g,s.averageRedrawTime=s.averageRedrawTime/2+g/2,s.requestedFrame=!1}else xh(s,!1,c);s.skipFrame=!1,Rc(u)}}))};var xo=function(i){this.init(i)},Io=xo.prototype;Io.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],Io.init=function(s){var i=this;i.options=s,i.cy=s.cy;var o=i.container=s.cy.container();if(Ht){var u=Ht.document,c=u.head,d="__________cytoscape_stylesheet",f="__________cytoscape_container",g=null!=u.getElementById(d);if(o.className.indexOf(f)<0&&(o.className=(o.className||"")+" "+f),!g){var m=u.createElement("style");m.id=d,m.innerHTML="."+f+" { position: relative; }",c.insertBefore(m,c.children[0])}"static"===Ht.getComputedStyle(o).getPropertyValue("position")&&qt("A Cytoscape container has style position:static and so can not use UI extensions properly")}i.selection=[void 0,void 0,void 0,void 0,0],i.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],i.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},i.dragData={possibleDragElements:[]},i.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},i.redraws=0,i.showFps=s.showFps,i.debug=s.debug,i.hideEdgesOnViewport=s.hideEdgesOnViewport,i.textureOnViewport=s.textureOnViewport,i.wheelSensitivity=s.wheelSensitivity,i.motionBlurEnabled=s.motionBlur,i.forcedPixelRatio=Ce(s.pixelRatio)?s.pixelRatio:null,i.motionBlur=s.motionBlur,i.motionBlurOpacity=s.motionBlurOpacity,i.motionBlurTransparency=1-i.motionBlurOpacity,i.motionBlurPxRatio=1,i.mbPxRBlurry=1,i.minMbLowQualFrames=4,i.fullQualityMb=!1,i.clearedForMotionBlur=[],i.desktopTapThreshold=s.desktopTapThreshold,i.desktopTapThreshold2=s.desktopTapThreshold*s.desktopTapThreshold,i.touchTapThreshold=s.touchTapThreshold,i.touchTapThreshold2=s.touchTapThreshold*s.touchTapThreshold,i.tapholdDuration=500,i.bindings=[],i.beforeRenderCallbacks=[],i.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},i.registerNodeShapes(),i.registerArrowShapes(),i.registerCalculationListeners()},Io.notify=function(s,i){var o=this,u=o.cy;if(!this.destroyed){if("init"===s)return void o.load();if("destroy"===s)return void o.destroy();("add"===s||"remove"===s||"move"===s&&u.hasCompoundNodes()||"load"===s||"zorder"===s||"mount"===s)&&o.invalidateCachedZSortedEles(),"viewport"===s&&o.redrawHint("select",!0),("load"===s||"resize"===s||"mount"===s)&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container)),o.redrawHint("eles",!0),o.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}},Io.destroy=function(){var s=this;s.destroyed=!0,s.cy.stopAnimationLoop();for(var i=0;i<s.bindings.length;i++){var o=s.bindings[i],c=o.target;(c.off||c.removeEventListener).apply(c,o.args)}if(s.bindings=[],s.beforeRenderCallbacks=[],s.onUpdateEleCalcsFns=[],s.removeObserver&&s.removeObserver.disconnect(),s.styleObserver&&s.styleObserver.disconnect(),s.resizeObserver&&s.resizeObserver.disconnect(),s.labelCalcDiv)try{document.body.removeChild(s.labelCalcDiv)}catch(d){}},Io.isHeadless=function(){return!1},[ku,Td,Mh,Mo,ca,Rl].forEach(function(s){Ge(Io,s)});var Ih=1e3/60,Kv_setupDequeueing=function(i){return function(){var u=this,c=this.renderer;if(!u.dequeueingSetup){u.dequeueingSetup=!0;var d=jr(function(){c.redrawHint("eles",!0),c.redrawHint("drag",!0),c.redraw()},i.deqRedrawThreshold);c.beforeRender(function(v,y){var b=Ti(),D=c.averageRedrawTime,C=c.lastRedrawTime,_=[],S=c.cy.extent(),A=c.getPixelRatio();for(v||c.flushRenderedStyleQueue();;){var M=Ti(),P=M-b,I=M-y;if(C<Ih){if(I>=i.deqFastCost*(Ih-(v?D:0)))break}else if(v){if(P>=i.deqCost*C||P>=i.deqAvgCost*D)break}else if(I>=i.deqNoDrawCost*Ih)break;var B=i.deq(u,A,S);if(!(B.length>0))break;for(var U=0;U<B.length;U++)_.push(B[U])}_.length>0&&(i.onDeqd(u,_),!v&&i.shouldRedraw(u,_,A,S)&&d())},(i.priority||ps)(u))}}},ub=function(){function s(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:au;Cn(this,s),this.idsByKey=new xi,this.keyForId=new xi,this.cachesByLvl=new xi,this.lvls=[],this.getKey=i,this.doesEleInvalidateKey=o}return ui(s,[{key:"getIdsFor",value:function(o){null==o&&$t("Can not get id list for null key");var u=this.idsByKey,c=this.idsByKey.get(o);return c||(c=new Ji,u.set(o,c)),c}},{key:"addIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).add(u)}},{key:"deleteIdForKey",value:function(o,u){null!=o&&this.getIdsFor(o).delete(u)}},{key:"getNumberOfIdsForKey",value:function(o){return null==o?0:this.getIdsFor(o).size}},{key:"updateKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u),d=this.getKey(o);this.deleteIdForKey(c,u),this.addIdForKey(d,u),this.keyForId.set(u,d)}},{key:"deleteKeyMappingFor",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteIdForKey(c,u),this.keyForId.delete(u)}},{key:"keyHasChangedFor",value:function(o){var u=o.id();return this.keyForId.get(u)!==this.getKey(o)}},{key:"isInvalid",value:function(o){return this.keyHasChangedFor(o)||this.doesEleInvalidateKey(o)}},{key:"getCachesAt",value:function(o){var u=this.cachesByLvl,c=this.lvls,d=u.get(o);return d||(d=new xi,u.set(o,d),c.push(o)),d}},{key:"getCache",value:function(o,u){return this.getCachesAt(u).get(o)}},{key:"get",value:function(o,u){var c=this.getKey(o),d=this.getCache(c,u);return null!=d&&this.updateKeyMappingFor(o),d}},{key:"getForCachedKey",value:function(o,u){var c=this.keyForId.get(o.id());return this.getCache(c,u)}},{key:"hasCache",value:function(o,u){return this.getCachesAt(u).has(o)}},{key:"has",value:function(o,u){var c=this.getKey(o);return this.hasCache(c,u)}},{key:"setCache",value:function(o,u,c){c.key=o,this.getCachesAt(u).set(o,c)}},{key:"set",value:function(o,u,c){var d=this.getKey(o);this.setCache(d,u,c),this.updateKeyMappingFor(o)}},{key:"deleteCache",value:function(o,u){this.getCachesAt(u).delete(o)}},{key:"delete",value:function(o,u){var c=this.getKey(o);this.deleteCache(c,u)}},{key:"invalidateKey",value:function(o){var u=this;this.lvls.forEach(function(c){return u.deleteCache(o,c)})}},{key:"invalidate",value:function(o){var u=o.id(),c=this.keyForId.get(u);this.deleteKeyMappingFor(o);var d=this.doesEleInvalidateKey(o);return d&&this.invalidateKey(c),d||0===this.getNumberOfIdsForKey(c)}}]),s}(),Fl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},xd=Hn({getKey:null,doesEleInvalidateKey:au,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Mi,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ns=function(i,o){var u=this;u.renderer=i,u.onDequeues=[];var c=xd(o);Ge(u,c),u.lookup=new ub(c.getKey,c.doesEleInvalidateKey),u.setupDequeueing()},bn=Ns.prototype;bn.reasons=Fl,bn.getTextureQueue=function(s){var i=this;return i.eleImgCaches=i.eleImgCaches||{},i.eleImgCaches[s]=i.eleImgCaches[s]||[]},bn.getRetiredTextureQueue=function(s){var o=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return o[s]=o[s]||[]},bn.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new qr(function(o,u){return u.reqs-o.reqs})},bn.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},bn.getElement=function(s,i,o,u,c){var d=this,f=this.renderer,g=f.cy.zoom(),m=this.lookup;if(!i||0===i.w||0===i.h||isNaN(i.w)||isNaN(i.h)||!s.visible()||s.removed()||!d.allowEdgeTxrCaching&&s.isEdge()||!d.allowParentTxrCaching&&s.isParent())return null;if(null==u&&(u=Math.ceil($f(g*o))),u<-4)u=-4;else if(g>=7.99||u>3)return null;var v=Math.pow(2,u),y=i.h*v,b=i.w*v,D=f.eleTextBiggerThanMin(s,v);if(!this.isVisible(s,D))return null;var _,C=m.get(s,u);if(C&&C.invalidated&&(C.invalidated=!1,C.texture.invalidatedWidth-=C.width),C)return C;if(_=y<=25?25:y<=50?50:50*Math.ceil(y/50),y>1024||b>1024)return null;var S=d.getTextureQueue(_),A=S[S.length-2],M=function(){return d.recycleTexture(_,b)||d.addTexture(_,b)};A||(A=S[S.length-1]),A||(A=M()),A.width-A.usedWidth<b&&(A=M());for(var U,P=function(W){return W&&W.scaledLabelShown===D},I=c&&c===Fl.dequeue,N=c&&c===Fl.highQuality,B=c&&c===Fl.downscale,R=u+1;R<=3;R++){var V=m.get(s,R);if(V){U=V;break}}var F=U&&U.level===u+1?U:null,j=function(){A.context.drawImage(F.texture.canvas,F.x,0,F.width,F.height,A.usedWidth,0,b,y)};if(A.context.setTransform(1,0,0,1,0,0),A.context.clearRect(A.usedWidth,0,b,_),P(F))j();else if(P(U)){if(!N)return d.queueElement(s,U.level-1),U;for(var z=U.level;z>u;z--)F=d.getElement(s,i,o,z,Fl.downscale);j()}else{var L;if(!I&&!N&&!B)for(var q=u-1;q>=-4;q--){var $=m.get(s,q);if($){L=$;break}}if(P(L))return d.queueElement(s,u),L;A.context.translate(A.usedWidth,0),A.context.scale(v,v),this.drawElement(A.context,s,i,D,!1),A.context.scale(1/v,1/v),A.context.translate(-A.usedWidth,0)}return C={x:A.usedWidth,texture:A,level:u,scale:v,width:b,height:y,scaledLabelShown:D},A.usedWidth+=Math.ceil(b+8),A.eleCaches.push(C),m.set(s,u,C),d.checkTextureFullness(A),C},bn.invalidateElements=function(s){for(var i=0;i<s.length;i++)this.invalidateElement(s[i])},bn.invalidateElement=function(s){var i=this,o=i.lookup,u=[];if(o.isInvalid(s)){for(var d=-4;d<=3;d++){var f=o.getForCachedKey(s,d);f&&u.push(f)}if(o.invalidate(s))for(var m=0;m<u.length;m++){var v=u[m],y=v.texture;y.invalidatedWidth+=v.width,v.invalidated=!0,i.checkTextureUtility(y)}i.removeFromQueue(s)}},bn.checkTextureUtility=function(s){s.invalidatedWidth>=.2*s.width&&this.retireTexture(s)},bn.checkTextureFullness=function(s){var o=this.getTextureQueue(s.height);s.usedWidth/s.width>.8&&s.fullnessChecks>=10?Ea(o,s):s.fullnessChecks++},bn.retireTexture=function(s){var o=s.height,u=this.getTextureQueue(o),c=this.lookup;Ea(u,s),s.retired=!0;for(var d=s.eleCaches,f=0;f<d.length;f++){var g=d[f];c.deleteCache(g.key,g.level)}Lc(d),this.getRetiredTextureQueue(o).push(s)},bn.addTexture=function(s,i){var c={};return this.getTextureQueue(s).push(c),c.eleCaches=[],c.height=s,c.width=Math.max(1024,i),c.usedWidth=0,c.invalidatedWidth=0,c.fullnessChecks=0,c.canvas=this.renderer.makeOffscreenCanvas(c.width,c.height),c.context=c.canvas.getContext("2d"),c},bn.recycleTexture=function(s,i){for(var u=this.getTextureQueue(s),c=this.getRetiredTextureQueue(s),d=0;d<c.length;d++){var f=c[d];if(f.width>=i)return f.retired=!1,f.usedWidth=0,f.invalidatedWidth=0,f.fullnessChecks=0,Lc(f.eleCaches),f.context.setTransform(1,0,0,1,0,0),f.context.clearRect(0,0,f.width,f.height),Ea(c,f),u.push(f),f}},bn.queueElement=function(s,i){var u=this.getElementQueue(),c=this.getElementKeyToQueue(),d=this.getKey(s),f=c[d];if(f)f.level=Math.max(f.level,i),f.eles.merge(s),f.reqs++,u.updateItem(f);else{var g={eles:s.spawn().merge(s),level:i,reqs:1,key:d};u.push(g),c[d]=g}},bn.dequeue=function(s){for(var i=this,o=i.getElementQueue(),u=i.getElementKeyToQueue(),c=[],d=i.lookup,f=0;f<1&&o.size()>0;f++){var g=o.pop(),m=g.key,v=g.eles[0],y=d.hasCache(v,g.level);if(u[m]=null,!y){c.push(g);var b=i.getBoundingBox(v);i.getElement(v,b,s,g.level,Fl.dequeue)}}return c},bn.removeFromQueue=function(s){var o=this.getElementQueue(),u=this.getElementKeyToQueue(),c=this.getKey(s),d=u[c];null!=d&&(1===d.eles.length?(d.reqs=Fc,o.updateItem(d),o.pop(),u[c]=null):d.eles.unmerge(s))},bn.onDequeue=function(s){this.onDequeues.push(s)},bn.offDequeue=function(s){Ea(this.onDequeues,s)},bn.setupDequeueing=Kv_setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,o,u){return i.dequeue(o,u)},onDeqd:function(i,o){for(var u=0;u<i.onDequeues.length;u++)(0,i.onDequeues[u])(o)},shouldRedraw:function(i,o,u,c){for(var d=0;d<o.length;d++)for(var f=o[d].eles,g=0;g<f.length;g++){var m=f[g].boundingBox();if(jc(m,c))return!0}return!1},priority:function(i){return i.renderer.beforeRenderPriorities.eleTxrDeq}});var Lh=function(i){var o=this,u=o.renderer=i,c=u.cy;o.layersByLevel={},o.firstGet=!0,o.lastInvalidationTime=Ti()-500,o.skipping=!1,o.eleTxrDeqs=c.collection(),o.scheduleElementRefinement=jr(function(){o.refineElementTextures(o.eleTxrDeqs),o.eleTxrDeqs.unmerge(o.eleTxrDeqs)},50),u.beforeRender(function(f,g){o.skipping=g-o.lastInvalidationTime<=250},u.beforeRenderPriorities.lyrTxrSkip),o.layersQueue=new qr(function(g,m){return m.reqs-g.reqs}),o.setupDequeueing()},On=Lh.prototype,Pd=0,sm=Math.pow(2,53)-1;On.makeLayer=function(s,i){var o=Math.pow(2,i),u=Math.ceil(s.w*o),c=Math.ceil(s.h*o),d=this.renderer.makeOffscreenCanvas(u,c),f={id:Pd=++Pd%sm,bb:s,level:i,width:u,height:c,canvas:d,context:d.getContext("2d"),eles:[],elesQueue:[],reqs:0},g=f.context,m=-f.bb.x1,v=-f.bb.y1;return g.scale(o,o),g.translate(m,v),f},On.getLayers=function(s,i,o){var u=this,f=u.renderer.cy.zoom(),g=u.firstGet;if(u.firstGet=!1,null==o)if((o=Math.ceil($f(f*i)))<-4)o=-4;else if(f>=3.99||o>2)return null;u.validateLayersElesOrdering(o,s);var b,C,m=u.layersByLevel,v=Math.pow(2,o),y=m[o]=m[o]||[];if(u.levelIsComplete(o,s))return y;!function(){var j=function(Z){if(u.validateLayersElesOrdering(Z,s),u.levelIsComplete(Z,s))return C=m[Z],!0},z=function(Z){if(!C)for(var W=o+Z;-4<=W&&W<=2&&!j(W);W+=Z);};z(1),z(-1);for(var L=y.length-1;L>=0;L--){var q=y[L];q.invalid&&Ea(y,q)}}();var A=function(j){var z=(j=j||{}).after;if(function(){if(!b){b=Rr();for(var j=0;j<s.length;j++)ft(b,s[j].boundingBox())}}(),b.w*v*(b.h*v)>16e6)return null;var q=u.makeLayer(b,o);if(null!=z){var $=y.indexOf(z)+1;y.splice($,0,q)}else(void 0===j.insert||j.insert)&&y.unshift(q);return q};if(u.skipping&&!g)return null;for(var M=null,P=s.length/1,I=!g,N=0;N<s.length;N++){var B=s[N],U=B._private.rscratch,R=U.imgLayerCaches=U.imgLayerCaches||{},V=R[o];if(V)M=V;else{if((!M||M.eles.length>=P||!el(M.bb,B.boundingBox()))&&!(M=A({insert:!0,after:M})))return null;C||I?u.queueLayer(M,B):u.drawEleInLayer(M,B,o,i),M.eles.push(B),R[o]=M}}return C||(I?null:y)},On.getEleLevelForLayerLevel=function(s,i){return s},On.drawEleInLayer=function(s,i,o,u){var d=this.renderer,f=s.context,g=i.boundingBox();0===g.w||0===g.h||!i.visible()||(o=this.getEleLevelForLayerLevel(o,u),d.setImgSmoothing(f,!1),d.drawCachedElement(f,i,null,null,o,!0),d.setImgSmoothing(f,!0))},On.levelIsComplete=function(s,i){var u=this.layersByLevel[s];if(!u||0===u.length)return!1;for(var c=0,d=0;d<u.length;d++){var f=u[d];if(f.reqs>0||f.invalid)return!1;c+=f.eles.length}return c===i.length},On.validateLayersElesOrdering=function(s,i){var o=this.layersByLevel[s];if(o)for(var u=0;u<o.length;u++){for(var c=o[u],d=-1,f=0;f<i.length;f++)if(c.eles[0]===i[f]){d=f;break}if(d<0)this.invalidateLayer(c);else{var g=d;for(f=0;f<c.eles.length;f++)if(c.eles[f]!==i[g+f]){this.invalidateLayer(c);break}}}},On.updateElementsInLayers=function(s,i){for(var u=St(s[0]),c=0;c<s.length;c++)for(var d=u?null:s[c],f=u?s[c]:s[c].ele,g=f._private.rscratch,m=g.imgLayerCaches=g.imgLayerCaches||{},v=-4;v<=2;v++){var y=m[v];!y||d&&this.getEleLevelForLayerLevel(y.level)!==d.level||i(y,f,d)}},On.haveLayers=function(){for(var i=!1,o=-4;o<=2;o++){var u=this.layersByLevel[o];if(u&&u.length>0){i=!0;break}}return i},On.invalidateElements=function(s){var i=this;0!==s.length&&(i.lastInvalidationTime=Ti(),0!==s.length&&i.haveLayers()&&i.updateElementsInLayers(s,function(u,c,d){i.invalidateLayer(u)}))},On.invalidateLayer=function(s){if(this.lastInvalidationTime=Ti(),!s.invalid){var i=s.level,o=s.eles;Ea(this.layersByLevel[i],s),s.elesQueue=[],s.invalid=!0,s.replacement&&(s.replacement.invalid=!0);for(var c=0;c<o.length;c++){var d=o[c]._private.rscratch.imgLayerCaches;d&&(d[i]=null)}}},On.refineElementTextures=function(s){var i=this;i.updateElementsInLayers(s,function(u,c,d){var f=u.replacement;if(f||((f=u.replacement=i.makeLayer(u.bb,u.level)).replaces=u,f.eles=u.eles),!f.reqs)for(var g=0;g<f.eles.length;g++)i.queueLayer(f,f.eles[g])})},On.enqueueElementRefinement=function(s){this.eleTxrDeqs.merge(s),this.scheduleElementRefinement()},On.queueLayer=function(s,i){var u=this.layersQueue,c=s.elesQueue,d=c.hasId=c.hasId||{};if(!s.replacement){if(i){if(d[i.id()])return;c.push(i),d[i.id()]=!0}s.reqs?(s.reqs++,u.updateItem(s)):(s.reqs=1,u.push(s))}},On.dequeue=function(s){for(var i=this,o=i.layersQueue,u=[],c=0;c<1&&0!==o.size();){var d=o.peek();if(d.replacement)o.pop();else if(d.replaces&&d!==d.replaces.replacement)o.pop();else if(d.invalid)o.pop();else{var f=d.elesQueue.shift();f&&(i.drawEleInLayer(d,f,d.level,s),c++),0===u.length&&u.push(!0),0===d.elesQueue.length&&(o.pop(),d.reqs=0,d.replaces&&i.applyLayerReplacement(d),i.requestRedraw())}}return u},On.applyLayerReplacement=function(s){var o=this.layersByLevel[s.level],u=s.replaces,c=o.indexOf(u);if(!(c<0||u.invalid)){o[c]=s;for(var d=0;d<s.eles.length;d++){var f=s.eles[d]._private,g=f.imgLayerCaches=f.imgLayerCaches||{};g&&(g[s.level]=s)}this.requestRedraw()}},On.requestRedraw=jr(function(){var s=this.renderer;s.redrawHint("eles",!0),s.redrawHint("drag",!0),s.redraw()},100),On.setupDequeueing=Kv_setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(i,o){return i.dequeue(o)},onDeqd:ps,shouldRedraw:Mi,priority:function(i){return i.renderer.beforeRenderPriorities.lyrTxrDeq}});var Vh,Bh={};function om(s,i){for(var o=0;o<i.length;o++){var u=i[o];s.lineTo(u.x,u.y)}}function lm(s,i,o){for(var u,c=0;c<i.length;c++){var d=i[c];0===c&&(u=d),s.lineTo(d.x,d.y)}s.quadraticCurveTo(o.x,o.y,u.x,u.y)}function um(s,i,o){s.beginPath&&s.beginPath();for(var u=i,c=0;c<u.length;c++)s.lineTo((d=u[c]).x,d.y);var f=o,g=o[0];for(s.moveTo(g.x,g.y),c=1;c<f.length;c++){var d;s.lineTo((d=f[c]).x,d.y)}s.closePath&&s.closePath()}function pb(s,i,o,u,c){s.beginPath&&s.beginPath(),s.arc(o,u,c,0,2*Math.PI,!1);var d=i,f=d[0];s.moveTo(f.x,f.y);for(var g=0;g<d.length;g++){var m=d[g];s.lineTo(m.x,m.y)}s.closePath&&s.closePath()}function Ll(s,i,o,u){s.arc(i,o,u,0,2*Math.PI,!1)}Bh.arrowShapeImpl=function(s){return(Vh||(Vh={polygon:om,"triangle-backcurve":lm,"triangle-tee":um,"circle-triangle":pb,"triangle-cross":um,circle:Ll}))[s]};var nn={drawElement:function(s,i,o,u,c,d){i.isNode()?this.drawNode(s,i,o,u,c,d):this.drawEdge(s,i,o,u,c,d)},drawElementOverlay:function(s,i){i.isNode()?this.drawNodeOverlay(s,i):this.drawEdgeOverlay(s,i)},drawElementUnderlay:function(s,i){i.isNode()?this.drawNodeUnderlay(s,i):this.drawEdgeUnderlay(s,i)},drawCachedElementPortion:function(s,i,o,u,c,d,f,g){var m=this,v=o.getBoundingBox(i);if(0!==v.w&&0!==v.h){var y=o.getElement(i,v,u,c,d);if(null!=y){var b=g(m,i);if(0===b)return;var M,P,I,N,B,V,D=f(m,i),C=v.x1,_=v.y1,S=v.w,A=v.h;if(0!==D){var U=o.getRotationPoint(i);s.translate(I=U.x,N=U.y),s.rotate(D),(B=m.getImgSmoothing(s))||m.setImgSmoothing(s,!0);var R=o.getRotationOffset(i);M=R.x,P=R.y}else M=C,P=_;1!==b&&(s.globalAlpha=(V=s.globalAlpha)*b),s.drawImage(y.texture.canvas,y.x,0,y.width,y.height,M,P,S,A),1!==b&&(s.globalAlpha=V),0!==D&&(s.rotate(-D),s.translate(-I,-N),B||m.setImgSmoothing(s,!1))}else o.drawElement(s,i)}}},Rd=function(){return 0},Hh=function(i,o){return i.getTextAngle(o,null)},$h=function(i,o){return i.getTextAngle(o,"source")},ir=function(i,o){return i.getTextAngle(o,"target")},Bl=function(i,o){return o.effectiveOpacity()},Vl=function(i,o){return o.pstyle("text-opacity").pfValue*o.effectiveOpacity()};nn.drawCachedElement=function(s,i,o,u,c,d){var f=this,g=f.data,m=g.eleTxrCache,v=g.lblTxrCache,y=g.slbTxrCache,b=g.tlbTxrCache,D=i.boundingBox(),C=!0===d?m.reasons.highQuality:null;if(0!==D.w&&0!==D.h&&i.visible()&&(!u||jc(D,u))){var _=i.isEdge(),S=i.element()._private.rscratch.badLine;f.drawElementUnderlay(s,i),f.drawCachedElementPortion(s,i,m,o,c,C,Rd,Bl),(!_||!S)&&f.drawCachedElementPortion(s,i,v,o,c,C,Hh,Vl),_&&!S&&(f.drawCachedElementPortion(s,i,y,o,c,C,$h,Vl),f.drawCachedElementPortion(s,i,b,o,c,C,ir,Vl)),f.drawElementOverlay(s,i)}},nn.drawElements=function(s,i){for(var u=0;u<i.length;u++)this.drawElement(s,i[u])},nn.drawCachedElements=function(s,i,o,u){for(var d=0;d<i.length;d++)this.drawCachedElement(s,i[d],o,u)},nn.drawCachedNodes=function(s,i,o,u){for(var d=0;d<i.length;d++){var f=i[d];!f.isNode()||this.drawCachedElement(s,f,o,u)}},nn.drawLayeredElements=function(s,i,o,u){var d=this.data.lyrTxrCache.getLayers(i,o);if(d)for(var f=0;f<d.length;f++){var g=d[f],m=g.bb;0===m.w||0===m.h||s.drawImage(g.canvas,m.x1,m.y1,m.w,m.h)}else this.drawCachedElements(s,i,o,u)};var da={drawEdge:function(s,i,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,g=i._private.rscratch;if((!d||i.visible())&&!g.badLine&&null!=g.allpts&&!isNaN(g.allpts[0])){var m;o&&s.translate(-(m=o).x1,-m.y1);var v=d?i.pstyle("opacity").value:1,y=d?i.pstyle("line-opacity").value:1,b=i.pstyle("curve-style").value,D=i.pstyle("line-style").value,C=i.pstyle("width").pfValue,_=i.pstyle("line-cap").value,S=v*y,A=v*y,M=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;"straight-triangle"===b?(f.eleStrokeStyle(s,i,L),f.drawEdgeTrianglePath(i,s,g.allpts)):(s.lineWidth=C,s.lineCap=_,f.eleStrokeStyle(s,i,L),f.drawEdgePath(i,s,g.allpts,D),s.lineCap="butt")},P=function(){!c||f.drawEdgeOverlay(s,i)},I=function(){!c||f.drawEdgeUnderlay(s,i)},N=function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;f.drawArrowheads(s,i,L)},B=function(){f.drawElementText(s,i,null,u)};s.lineJoin="round";var U="yes"===i.pstyle("ghost").value;if(U){var R=i.pstyle("ghost-offset-x").pfValue,V=i.pstyle("ghost-offset-y").pfValue,F=i.pstyle("ghost-opacity").value,j=S*F;s.translate(R,V),M(j),N(j),s.translate(-R,-V)}I(),M(),N(),P(),B(),o&&s.translate(m.x1,m.y1)}}},Uh=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(o,u){if(u.visible()){var c=u.pstyle("".concat(i,"-opacity")).value;if(0!==c){var d=this,f=d.usePaths(),g=u._private.rscratch,v=2*u.pstyle("".concat(i,"-padding")).pfValue,y=u.pstyle("".concat(i,"-color")).value;o.lineWidth=v,o.lineCap="self"!==g.edgeType||f?"round":"butt",d.colorStrokeStyle(o,y[0],y[1],y[2],c),d.drawEdgePath(u,o,g.allpts,"solid")}}}};da.drawEdgeOverlay=Uh("overlay"),da.drawEdgeUnderlay=Uh("underlay"),da.drawEdgePath=function(s,i,o,u){var f,c=s._private.rscratch,d=i,g=!1,m=this.usePaths(),v=s.pstyle("line-dash-pattern").pfValue,y=s.pstyle("line-dash-offset").pfValue;if(m){var b=o.join("$");c.pathCacheKey&&c.pathCacheKey===b?(f=i=c.pathCache,g=!0):(f=i=new Path2D,c.pathCacheKey=b,c.pathCache=f)}if(d.setLineDash)switch(u){case"dotted":d.setLineDash([1,1]);break;case"dashed":d.setLineDash(v),d.lineDashOffset=y;break;case"solid":d.setLineDash([])}if(!g&&!c.badLine)switch(i.beginPath&&i.beginPath(),i.moveTo(o[0],o[1]),c.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var C=2;C+3<o.length;C+=4)i.quadraticCurveTo(o[C],o[C+1],o[C+2],o[C+3]);break;case"straight":case"segments":case"haystack":for(var _=2;_+1<o.length;_+=2)i.lineTo(o[_],o[_+1])}i=d,m?i.stroke(f):i.stroke(),i.setLineDash&&i.setLineDash([])},da.drawEdgeTrianglePath=function(s,i,o){i.fillStyle=i.strokeStyle;for(var u=s.pstyle("width").pfValue,c=0;c+1<o.length;c+=2){var d=[o[c+2]-o[c],o[c+3]-o[c+1]],f=Math.sqrt(d[0]*d[0]+d[1]*d[1]),g=[d[1]/f,-d[0]/f],m=[g[0]*u/2,g[1]*u/2];i.beginPath(),i.moveTo(o[c]-m[0],o[c+1]-m[1]),i.lineTo(o[c]+m[0],o[c+1]+m[1]),i.lineTo(o[c+2],o[c+3]),i.closePath(),i.fill()}},da.drawArrowheads=function(s,i,o){var u=i._private.rscratch,c="haystack"===u.edgeType;c||this.drawArrowhead(s,i,"source",u.arrowStartX,u.arrowStartY,u.srcArrowAngle,o),this.drawArrowhead(s,i,"mid-target",u.midX,u.midY,u.midtgtArrowAngle,o),this.drawArrowhead(s,i,"mid-source",u.midX,u.midY,u.midsrcArrowAngle,o),c||this.drawArrowhead(s,i,"target",u.arrowEndX,u.arrowEndY,u.tgtArrowAngle,o)},da.drawArrowhead=function(s,i,o,u,c,d,f){if(!(isNaN(u)||null==u||isNaN(c)||null==c||isNaN(d)||null==d)){var g=this,m=i.pstyle(o+"-arrow-shape").value;if("none"!==m){var v="hollow"===i.pstyle(o+"-arrow-fill").value?"both":"filled",y=i.pstyle(o+"-arrow-fill").value,b=i.pstyle("width").pfValue,D=i.pstyle("opacity").value;void 0===f&&(f=D);var C=s.globalCompositeOperation;(1!==f||"hollow"===y)&&(s.globalCompositeOperation="destination-out",g.colorFillStyle(s,255,255,255,1),g.colorStrokeStyle(s,255,255,255,1),g.drawArrowShape(i,s,v,b,m,u,c,d),s.globalCompositeOperation=C);var _=i.pstyle(o+"-arrow-color").value;g.colorFillStyle(s,_[0],_[1],_[2],f),g.colorStrokeStyle(s,_[0],_[1],_[2],f),g.drawArrowShape(i,s,y,b,m,u,c,d)}}},da.drawArrowShape=function(s,i,o,u,c,d,f,g){var b,m=this,v=this.usePaths()&&"triangle-cross"!==c,y=!1,D=i,C={x:d,y:f},_=s.pstyle("arrow-scale").value,S=this.getArrowWidth(u,_),A=m.arrowShapes[c];if(v){var M=m.arrowPathCache=m.arrowPathCache||[],P=hs(c),I=M[P];null!=I?(b=i=I,y=!0):(b=i=new Path2D,M[P]=b)}y||(i.beginPath&&i.beginPath(),v?A.draw(i,1,0,{x:0,y:0},1):A.draw(i,S,g,C,u),i.closePath&&i.closePath()),i=D,v&&(i.translate(d,f),i.rotate(g),i.scale(S,S)),("filled"===o||"both"===o)&&(v?i.fill(b):i.fill()),("hollow"===o||"both"===o)&&(i.lineWidth=(A.matchEdgeWidth?u:1)/(v?S:1),i.lineJoin="miter",v?i.stroke(b):i.stroke()),v&&(i.scale(1/S,1/S),i.rotate(-g),i.translate(-d,-f))};var Vu={safeDrawImage:function(s,i,o,u,c,d,f,g,m,v){c<=0||d<=0||m<=0||v<=0||s.drawImage(i,o,u,c,d,f,g,m,v)},drawInscribedImage:function(s,i,o,u,c){var d=this,f=o.position(),g=f.x,m=f.y,v=o.cy().style(),y=v.getIndexedStyle.bind(v),b=y(o,"background-fit","value",u),D=y(o,"background-repeat","value",u),C=o.width(),_=o.height(),S=2*o.padding(),A=C+("inner"===y(o,"background-width-relative-to","value",u)?0:S),M=_+("inner"===y(o,"background-height-relative-to","value",u)?0:S),P=o._private.rscratch,N="node"===y(o,"background-clip","value",u),B=y(o,"background-image-opacity","value",u)*c,U=y(o,"background-image-smoothing","value",u),R=i.width||i.cachedW,V=i.height||i.cachedH;(null==R||null==V)&&(document.body.appendChild(i),R=i.cachedW=i.width||i.offsetWidth,V=i.cachedH=i.height||i.offsetHeight,document.body.removeChild(i));var F=R,j=V;if("auto"!==y(o,"background-width","value",u)&&(F="%"===y(o,"background-width","units",u)?y(o,"background-width","pfValue",u)*A:y(o,"background-width","pfValue",u)),"auto"!==y(o,"background-height","value",u)&&(j="%"===y(o,"background-height","units",u)?y(o,"background-height","pfValue",u)*M:y(o,"background-height","pfValue",u)),0!==F&&0!==j){if("contain"===b)F*=z=Math.min(A/F,M/j),j*=z;else if("cover"===b){var z;F*=z=Math.max(A/F,M/j),j*=z}var L=g-A/2,q=y(o,"background-position-x","units",u),$=y(o,"background-position-x","pfValue",u);L+="%"===q?(A-F)*$:$;var Z=y(o,"background-offset-x","units",u),W=y(o,"background-offset-x","pfValue",u);L+="%"===Z?(A-F)*W:W;var X=m-M/2,K=y(o,"background-position-y","units",u),Q=y(o,"background-position-y","pfValue",u);X+="%"===K?(M-j)*Q:Q;var ae=y(o,"background-offset-y","units",u),ee=y(o,"background-offset-y","pfValue",u);X+="%"===ae?(M-j)*ee:ee,P.pathCache&&(L-=g,X-=m,g=0,m=0);var ie=s.globalAlpha;s.globalAlpha=B;var de=d.getImgSmoothing(s),ve=!1;if("no"===U&&de?(d.setImgSmoothing(s,!1),ve=!0):"yes"===U&&!de&&(d.setImgSmoothing(s,!0),ve=!0),"no-repeat"===D)N&&(s.save(),P.pathCache?s.clip(P.pathCache):(d.nodeShapes[d.getNodeShape(o)].draw(s,g,m,A,M),s.clip())),d.safeDrawImage(s,i,0,0,R,V,L,X,F,j),N&&s.restore();else{var he=s.createPattern(i,D);s.fillStyle=he,d.nodeShapes[d.getNodeShape(o)].draw(s,g,m,A,M),s.translate(L,X),s.fill(),s.translate(-L,-X)}s.globalAlpha=ie,ve&&d.setImgSmoothing(s,de)}}},ks={};function zh(s,i,o,u,c){var d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;s.beginPath(),s.moveTo(i+d,o),s.lineTo(i+u-d,o),s.quadraticCurveTo(i+u,o,i+u,o+d),s.lineTo(i+u,o+c-d),s.quadraticCurveTo(i+u,o+c,i+u-d,o+c),s.lineTo(i+d,o+c),s.quadraticCurveTo(i,o+c,i,o+c-d),s.lineTo(i,o+d),s.quadraticCurveTo(i,o,i+d,o),s.closePath(),s.fill()}ks.eleTextBiggerThanMin=function(s,i){if(!i){var o=s.cy().zoom(),u=this.getPixelRatio(),c=Math.ceil($f(o*u));i=Math.pow(2,c)}return!(s.pstyle("font-size").pfValue*i<s.pstyle("min-zoomed-font-size").pfValue)},ks.drawElementText=function(s,i,o,u,c){var d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this;if(null==u){if(d&&!f.eleTextBiggerThanMin(i))return}else if(!1===u)return;if(i.isNode()){var g=i.pstyle("label");if(!g||!g.value)return;var m=f.getLabelJustification(i);s.textAlign=m,s.textBaseline="bottom"}else{var v=i.element()._private.rscratch.badLine,y=i.pstyle("label"),b=i.pstyle("source-label"),D=i.pstyle("target-label");if(v||(!y||!y.value)&&(!b||!b.value)&&(!D||!D.value))return;s.textAlign="center",s.textBaseline="bottom"}var _,C=!o;o&&s.translate(-(_=o).x1,-_.y1),null==c?(f.drawText(s,i,null,C,d),i.isEdge()&&(f.drawText(s,i,"source",C,d),f.drawText(s,i,"target",C,d))):f.drawText(s,i,c,C,d),o&&s.translate(_.x1,_.y1)},ks.getFontCache=function(s){var i;this.fontCaches=this.fontCaches||[];for(var o=0;o<this.fontCaches.length;o++)if((i=this.fontCaches[o]).context===s)return i;return this.fontCaches.push(i={context:s}),i},ks.setupTextStyle=function(s,i){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=i.pstyle("font-style").strValue,c=i.pstyle("font-size").pfValue+"px",d=i.pstyle("font-family").strValue,f=i.pstyle("font-weight").strValue,g=o?i.effectiveOpacity()*i.pstyle("text-opacity").value:1,m=i.pstyle("text-outline-opacity").value*g,v=i.pstyle("color").value,y=i.pstyle("text-outline-color").value;s.font=u+" "+f+" "+c+" "+d,s.lineJoin="round",this.colorFillStyle(s,v[0],v[1],v[2],g),this.colorStrokeStyle(s,y[0],y[1],y[2],m)},ks.getTextAngle=function(s,i){var c=s._private.rscratch,f=s.pstyle((i?i+"-":"")+"text-rotation"),g=ci(c,"labelAngle",i);return"autorotate"===f.strValue?s.isEdge()?g:0:"none"===f.strValue?0:f.pfValue},ks.drawText=function(s,i,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=i._private,f=d.rscratch,g=c?i.effectiveOpacity():1;if(!c||0!==g&&0!==i.pstyle("text-opacity").value){"main"===o&&(o=null);var y,b,m=ci(f,"labelX",o),v=ci(f,"labelY",o),D=this.getLabelText(i,o);if(null!=D&&""!==D&&!isNaN(m)&&!isNaN(v)){this.setupTextStyle(s,i,c);var B,C=o?o+"-":"",_=ci(f,"labelWidth",o),S=ci(f,"labelHeight",o),A=i.pstyle(C+"text-margin-x").pfValue,M=i.pstyle(C+"text-margin-y").pfValue,P=i.isEdge(),I=i.pstyle("text-halign").value,N=i.pstyle("text-valign").value;switch(P&&(I="center",N="center"),m+=A,v+=M,0!==(B=u?this.getTextAngle(i,o):0)&&(s.translate(y=m,b=v),s.rotate(B),m=0,v=0),N){case"top":break;case"center":v+=S/2;break;case"bottom":v+=S}var U=i.pstyle("text-background-opacity").value,R=i.pstyle("text-border-opacity").value,V=i.pstyle("text-border-width").pfValue,F=i.pstyle("text-background-padding").pfValue;if(U>0||V>0&&R>0){var j=m-F;switch(I){case"left":j-=_;break;case"center":j-=_/2}var z=v-S-F,L=_+2*F,q=S+2*F;if(U>0){var $=s.fillStyle,Z=i.pstyle("text-background-color").value;s.fillStyle="rgba("+Z[0]+","+Z[1]+","+Z[2]+","+U*g+")";var W=i.pstyle("text-background-shape").strValue;0===W.indexOf("round")?zh(s,j,z,L,q,2):s.fillRect(j,z,L,q),s.fillStyle=$}if(V>0&&R>0){var X=s.strokeStyle,K=s.lineWidth,Q=i.pstyle("text-border-color").value,ae=i.pstyle("text-border-style").value;if(s.strokeStyle="rgba("+Q[0]+","+Q[1]+","+Q[2]+","+R*g+")",s.lineWidth=V,s.setLineDash)switch(ae){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"double":s.lineWidth=V/4,s.setLineDash([]);break;case"solid":s.setLineDash([])}if(s.strokeRect(j,z,L,q),"double"===ae){var ee=V/2;s.strokeRect(j+ee,z+ee,L-2*ee,q-2*ee)}s.setLineDash&&s.setLineDash([]),s.lineWidth=K,s.strokeStyle=X}}var ie=2*i.pstyle("text-outline-width").pfValue;if(ie>0&&(s.lineWidth=ie),"wrap"===i.pstyle("text-wrap").value){var de=ci(f,"labelWrapCachedLines",o),ve=ci(f,"labelLineHeight",o),he=_/2,se=this.getLabelJustification(i);switch("auto"===se||("left"===I?"left"===se?m+=-_:"center"===se&&(m+=-he):"center"===I?"left"===se?m+=-he:"right"===se&&(m+=he):"right"===I&&("center"===se?m+=he:"right"===se&&(m+=_))),N){case"top":case"center":case"bottom":v-=(de.length-1)*ve}for(var Y=0;Y<de.length;Y++)ie>0&&s.strokeText(de[Y],m,v),s.fillText(de[Y],m,v),v+=ve}else ie>0&&s.strokeText(D,m,v),s.fillText(D,m,v);0!==B&&(s.rotate(-B),s.translate(-y,-b))}}};var Po={drawNode:function(s,i,o){var g,m,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],f=this,v=i._private,y=v.rscratch,b=i.position();if(Ce(b.x)&&Ce(b.y)&&(!d||i.visible())){var _,M,D=d?i.effectiveOpacity():1,C=f.usePaths(),S=!1,A=i.padding();g=i.width()+2*A,m=i.height()+2*A,o&&s.translate(-(M=o).x1,-M.y1);for(var P=i.pstyle("background-image"),I=P.value,N=new Array(I.length),B=new Array(I.length),U=0,R=0;R<I.length;R++){var V=I[R],F=N[R]=null!=V&&"none"!==V;if(F){var j=i.cy().style().getIndexedStyle(i,"background-image-crossorigin","value",R);U++,B[R]=f.getCachedImage(V,j,function(){v.backgroundTimestamp=Date.now(),i.emitAndNotify("background")})}}var z=i.pstyle("background-blacken").value,L=i.pstyle("border-width").pfValue,q=i.pstyle("background-opacity").value*D,$=i.pstyle("border-color").value,Z=i.pstyle("border-style").value,W=i.pstyle("border-opacity").value*D;s.lineJoin="miter";var X=function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;f.eleFillStyle(s,i,ke)},K=function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;f.colorStrokeStyle(s,$[0],$[1],$[2],ke)},Q=i.pstyle("shape").strValue,ae=i.pstyle("shape-polygon-points").pfValue;if(C){s.translate(b.x,b.y);var ee=f.nodePathCache=f.nodePathCache||[],ie=Of("polygon"===Q?Q+","+ae.join(","):Q,""+m,""+g),de=ee[ie];null!=de?(S=!0,y.pathCache=_=de):(_=new Path2D,ee[ie]=y.pathCache=_)}var ve=function(){if(!S){var ke=b;C&&(ke={x:0,y:0}),f.nodeShapes[f.getNodeShape(i)].draw(_||s,ke.x,ke.y,g,m)}C?s.fill(_):s.fill()},he=function(){for(var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,je=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Rt=v.backgrounding,Et=0,ht=0;ht<B.length;ht++){var _e=i.cy().style().getIndexedStyle(i,"background-image-containment","value",ht);je&&"over"===_e||!je&&"inside"===_e?Et++:N[ht]&&B[ht].complete&&!B[ht].error&&(Et++,f.drawInscribedImage(s,B[ht],i,ht,ke))}v.backgrounding=Et!==U,Rt!==v.backgrounding&&i.updateStyle(!1)},se=function(){var ke=arguments.length>0&&void 0!==arguments[0]&&arguments[0],je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D;f.hasPie(i)&&(f.drawPie(s,i,je),ke&&(C||f.nodeShapes[f.getNodeShape(i)].draw(s,b.x,b.y,g,m)))},Y=function(){var ke=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,je=(z>0?z:-z)*ke,Rt=z>0?0:255;0!==z&&(f.colorFillStyle(s,Rt,Rt,Rt,je),C?s.fill(_):s.fill())},oe=function(){if(L>0){if(s.lineWidth=L,s.lineCap="butt",s.setLineDash)switch(Z){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash([4,2]);break;case"solid":case"double":s.setLineDash([])}if(C?s.stroke(_):s.stroke(),"double"===Z){s.lineWidth=L/3;var ke=s.globalCompositeOperation;s.globalCompositeOperation="destination-out",C?s.stroke(_):s.stroke(),s.globalCompositeOperation=ke}s.setLineDash&&s.setLineDash([])}},pe=function(){c&&f.drawNodeOverlay(s,i,b,g,m)},Ee=function(){c&&f.drawNodeUnderlay(s,i,b,g,m)},Me=function(){f.drawElementText(s,i,null,u)},Ze="yes"===i.pstyle("ghost").value;if(Ze){var it=i.pstyle("ghost-offset-x").pfValue,xe=i.pstyle("ghost-offset-y").pfValue,Te=i.pstyle("ghost-opacity").value,We=Te*D;s.translate(it,xe),X(Te*q),ve(),he(We,!0),K(Te*W),oe(),se(0!==z||0!==L),he(We,!1),Y(We),s.translate(-it,-xe)}C&&s.translate(-b.x,-b.y),Ee(),C&&s.translate(b.x,b.y),X(),ve(),he(D,!0),K(),oe(),se(0!==z||0!==L),he(D,!1),Y(),C&&s.translate(-b.x,-b.y),Me(),pe(),o&&s.translate(M.x1,M.y1)}}},Nd=function(i){if(!["overlay","underlay"].includes(i))throw new Error("Invalid state");return function(o,u,c,d,f){if(u.visible()){var m=u.pstyle("".concat(i,"-padding")).pfValue,v=u.pstyle("".concat(i,"-opacity")).value,y=u.pstyle("".concat(i,"-color")).value,b=u.pstyle("".concat(i,"-shape")).value;if(v>0){if(c=c||u.position(),null==d||null==f){var D=u.padding();d=u.width()+2*D,f=u.height()+2*D}this.colorFillStyle(o,y[0],y[1],y[2],v),this.nodeShapes[b].draw(o,c.x,c.y,d+2*m,f+2*m),o.fill()}}}};Po.drawNodeOverlay=Nd("overlay"),Po.drawNodeUnderlay=Nd("underlay"),Po.hasPie=function(s){return(s=s[0])._private.hasPie},Po.drawPie=function(s,i,o,u){i=i[0],u=u||i.position();var c=i.cy().style(),d=i.pstyle("pie-size"),f=u.x,g=u.y,m=i.width(),v=i.height(),y=Math.min(m,v)/2,b=0;this.usePaths()&&(f=0,g=0),"%"===d.units?y*=d.pfValue:void 0!==d.pfValue&&(y=d.pfValue/2);for(var C=1;C<=c.pieBackgroundN;C++){var _=i.pstyle("pie-"+C+"-background-size").value,S=i.pstyle("pie-"+C+"-background-color").value,A=i.pstyle("pie-"+C+"-background-opacity").value*o,M=_/100;M+b>1&&(M=1-b);var P=1.5*Math.PI+2*Math.PI*b,N=P+2*Math.PI*M;0===_||b>=1||b+M>1||(s.beginPath(),s.moveTo(f,g),s.arc(f,g,y,P,N),s.closePath(),this.colorFillStyle(s,S[0],S[1],S[2],A),s.fill(),b+=M)}};for(var Br={getPixelRatio:function(){var s=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(s.backingStorePixelRatio||s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1)},paintCache:function(s){for(var u,i=this.paintCaches=this.paintCaches||[],o=!0,c=0;c<i.length;c++)if((u=i[c]).context===s){o=!1;break}return o&&i.push(u={context:s}),u},createGradientStyleFor:function(s,i,o,u,c){var d,f=this.usePaths(),g=o.pstyle(i+"-gradient-stop-colors").value,m=o.pstyle(i+"-gradient-stop-positions").pfValue;if("radial-gradient"===u)if(o.isEdge()){var v=o.sourceEndpoint(),y=o.targetEndpoint(),b=o.midpoint(),D=Xs(v,b),C=Xs(y,b);d=s.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(D,C))}else{var _=f?{x:0,y:0}:o.position(),S=o.paddedWidth(),A=o.paddedHeight();d=s.createRadialGradient(_.x,_.y,0,_.x,_.y,Math.max(S,A))}else if(o.isEdge()){var M=o.sourceEndpoint(),P=o.targetEndpoint();d=s.createLinearGradient(M.x,M.y,P.x,P.y)}else{var I=f?{x:0,y:0}:o.position(),U=o.paddedWidth()/2,R=o.paddedHeight()/2;switch(o.pstyle("background-gradient-direction").value){case"to-bottom":d=s.createLinearGradient(I.x,I.y-R,I.x,I.y+R);break;case"to-top":d=s.createLinearGradient(I.x,I.y+R,I.x,I.y-R);break;case"to-left":d=s.createLinearGradient(I.x+U,I.y,I.x-U,I.y);break;case"to-right":d=s.createLinearGradient(I.x-U,I.y,I.x+U,I.y);break;case"to-bottom-right":case"to-right-bottom":d=s.createLinearGradient(I.x-U,I.y-R,I.x+U,I.y+R);break;case"to-top-right":case"to-right-top":d=s.createLinearGradient(I.x-U,I.y+R,I.x+U,I.y-R);break;case"to-bottom-left":case"to-left-bottom":d=s.createLinearGradient(I.x+U,I.y-R,I.x-U,I.y+R);break;case"to-top-left":case"to-left-top":d=s.createLinearGradient(I.x+U,I.y+R,I.x-U,I.y-R)}}if(!d)return null;for(var F=m.length===g.length,j=g.length,z=0;z<j;z++)d.addColorStop(F?m[z]:z/(j-1),"rgba("+g[z][0]+","+g[z][1]+","+g[z][2]+","+c+")");return d},gradientFillStyle:function(s,i,o,u){var c=this.createGradientStyleFor(s,"background",i,o,u);if(!c)return null;s.fillStyle=c},colorFillStyle:function(s,i,o,u,c){s.fillStyle="rgba("+i+","+o+","+u+","+c+")"},eleFillStyle:function(s,i,o){var u=i.pstyle("background-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientFillStyle(s,i,u,o);else{var c=i.pstyle("background-color").value;this.colorFillStyle(s,c[0],c[1],c[2],o)}},gradientStrokeStyle:function(s,i,o,u){var c=this.createGradientStyleFor(s,"line",i,o,u);if(!c)return null;s.strokeStyle=c},colorStrokeStyle:function(s,i,o,u,c){s.strokeStyle="rgba("+i+","+o+","+u+","+c+")"},eleStrokeStyle:function(s,i,o){var u=i.pstyle("line-fill").value;if("linear-gradient"===u||"radial-gradient"===u)this.gradientStrokeStyle(s,i,u,o);else{var c=i.pstyle("line-color").value;this.colorStrokeStyle(s,c[0],c[1],c[2],o)}},matchCanvasSize:function(s){var i=this,o=i.data,u=i.findContainerClientCoords(),c=u[2],d=u[3],f=i.getPixelRatio();(s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_NODE]||s===i.data.bufferCanvases[i.MOTIONBLUR_BUFFER_DRAG])&&(f=i.motionBlurPxRatio);var y,m=c*f,v=d*f;if(m!==i.canvasWidth||v!==i.canvasHeight){i.fontCaches=null;var b=o.canvasContainer;b.style.width=c+"px",b.style.height=d+"px";for(var D=0;D<i.CANVAS_LAYERS;D++)(y=o.canvases[D]).width=m,y.height=v,y.style.width=c+"px",y.style.height=d+"px";for(D=0;D<i.BUFFER_COUNT;D++)(y=o.bufferCanvases[D]).width=m,y.height=v,y.style.width=c+"px",y.style.height=d+"px";i.textureMult=1,f<=1&&(y=o.bufferCanvases[i.TEXTURE_BUFFER],i.textureMult=2,y.width=m*i.textureMult,y.height=v*i.textureMult),i.canvasWidth=m,i.canvasHeight=v}},renderTo:function(s,i,o,u){this.render({forcedContext:s,forcedZoom:i,forcedPan:o,drawAllLayers:!0,forcedPxRatio:u})},render:function(s){var i=(s=s||Oc()).forcedContext,o=s.drawAllLayers,u=s.drawOnlyNodeLayer,c=s.forcedZoom,d=s.forcedPan,f=this,g=void 0===s.forcedPxRatio?this.getPixelRatio():s.forcedPxRatio,m=f.cy,v=f.data,y=v.canvasNeedsRedraw,b=f.textureOnViewport&&!i&&(f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming),D=void 0!==s.motionBlur?s.motionBlur:f.motionBlur,C=f.motionBlurPxRatio,_=m.hasCompoundNodes(),S=f.hoverData.draggingEles,M=D=D&&!i&&f.motionBlurEnabled&&!(f.hoverData.selecting||f.touchData.selecting);i||(f.prevPxRatio!==g&&(f.invalidateContainerClientCoordsCache(),f.matchCanvasSize(f.container),f.redrawHint("eles",!0),f.redrawHint("drag",!0)),f.prevPxRatio=g),!i&&f.motionBlurTimeout&&clearTimeout(f.motionBlurTimeout),D&&(null==f.mbFrames&&(f.mbFrames=0),f.mbFrames++,f.mbFrames<3&&(M=!1),f.mbFrames>f.minMbLowQualFrames&&(f.motionBlurPxRatio=f.mbPxRBlurry)),f.clearingMotionBlur&&(f.motionBlurPxRatio=1),f.textureDrawLastFrame&&!b&&(y[f.NODE]=!0,y[f.SELECT_BOX]=!0);var P=m.style(),I=m.zoom(),N=void 0!==c?c:I,B=m.pan(),U={x:B.x,y:B.y},R={zoom:I,pan:{x:B.x,y:B.y}},V=f.prevViewport;!(void 0===V||R.zoom!==V.zoom||R.pan.x!==V.pan.x||R.pan.y!==V.pan.y)&&!(S&&!_)&&(f.motionBlurPxRatio=1),d&&(U=d),N*=g,U.x*=g,U.y*=g;var j=f.getCachedZSortedEles();function z(xe,Te,We,$e,ke){var je=xe.globalCompositeOperation;xe.globalCompositeOperation="destination-out",f.colorFillStyle(xe,255,255,255,f.motionBlurTransparency),xe.fillRect(Te,We,$e,ke),xe.globalCompositeOperation=je}function L(xe,Te){var We,$e,ke,je;f.clearingMotionBlur||xe!==v.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]&&xe!==v.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]?(We=U,$e=N,ke=f.canvasWidth,je=f.canvasHeight):(We={x:B.x*C,y:B.y*C},$e=I*C,ke=f.canvasWidth*C,je=f.canvasHeight*C),xe.setTransform(1,0,0,1,0,0),"motionBlur"===Te?z(xe,0,0,ke,je):!i&&(void 0===Te||Te)&&xe.clearRect(0,0,ke,je),o||(xe.translate(We.x,We.y),xe.scale($e,$e)),d&&xe.translate(d.x,d.y),c&&xe.scale(c,c)}if(b||(f.textureDrawLastFrame=!1),b){if(f.textureDrawLastFrame=!0,!f.textureCache){f.textureCache={},f.textureCache.bb=m.mutableElements().boundingBox(),f.textureCache.texture=f.data.bufferCanvases[f.TEXTURE_BUFFER];var q=f.data.bufferContexts[f.TEXTURE_BUFFER];q.setTransform(1,0,0,1,0,0),q.clearRect(0,0,f.canvasWidth*f.textureMult,f.canvasHeight*f.textureMult),f.render({forcedContext:q,drawOnlyNodeLayer:!0,forcedPxRatio:g*f.textureMult}),(R=f.textureCache.viewport={zoom:m.zoom(),pan:m.pan(),width:f.canvasWidth,height:f.canvasHeight}).mpan={x:(0-R.pan.x)/R.zoom,y:(0-R.pan.y)/R.zoom}}y[f.DRAG]=!1,y[f.NODE]=!1;var Z=f.textureCache.texture;R=f.textureCache.viewport,($=v.contexts[f.NODE]).setTransform(1,0,0,1,0,0),D?z($,0,0,R.width,R.height):$.clearRect(0,0,R.width,R.height);var W=P.core("outside-texture-bg-color").value,X=P.core("outside-texture-bg-opacity").value;f.colorFillStyle($,W[0],W[1],W[2],X),$.fillRect(0,0,R.width,R.height),I=m.zoom(),L($,!1),$.clearRect(R.mpan.x,R.mpan.y,R.width/R.zoom/g,R.height/R.zoom/g),$.drawImage(Z,R.mpan.x,R.mpan.y,R.width/R.zoom/g,R.height/R.zoom/g)}else f.textureOnViewport&&!i&&(f.textureCache=null);var K=m.extent(),Q=f.pinching||f.hoverData.dragging||f.swipePanning||f.data.wheelZooming||f.hoverData.draggingEles||f.cy.animated(),ae=f.hideEdgesOnViewport&&Q,ee=[];if(ee[f.NODE]=!y[f.NODE]&&D&&!f.clearedForMotionBlur[f.NODE]||f.clearingMotionBlur,ee[f.NODE]&&(f.clearedForMotionBlur[f.NODE]=!0),ee[f.DRAG]=!y[f.DRAG]&&D&&!f.clearedForMotionBlur[f.DRAG]||f.clearingMotionBlur,ee[f.DRAG]&&(f.clearedForMotionBlur[f.DRAG]=!0),y[f.NODE]||o||u||ee[f.NODE]){var ie=D&&!ee[f.NODE]&&1!==C;L($=i||(ie?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_NODE]:v.contexts[f.NODE]),D&&!ie?"motionBlur":void 0),ae?f.drawCachedNodes($,j.nondrag,g,K):f.drawLayeredElements($,j.nondrag,g,K),f.debug&&f.drawDebugPoints($,j.nondrag),!o&&!D&&(y[f.NODE]=!1)}if(!u&&(y[f.DRAG]||o||ee[f.DRAG])&&(ie=D&&!ee[f.DRAG]&&1!==C,L($=i||(ie?f.data.bufferContexts[f.MOTIONBLUR_BUFFER_DRAG]:v.contexts[f.DRAG]),D&&!ie?"motionBlur":void 0),ae?f.drawCachedNodes($,j.drag,g,K):f.drawCachedElements($,j.drag,g,K),f.debug&&f.drawDebugPoints($,j.drag),!o&&!D&&(y[f.DRAG]=!1)),f.showFps||!u&&y[f.SELECT_BOX]&&!o){var $;if(L($=i||v.contexts[f.SELECT_BOX]),1==f.selection[4]&&(f.hoverData.selecting||f.touchData.selecting)){I=f.cy.zoom();var ve=P.core("selection-box-border-width").value/I;$.lineWidth=ve,$.fillStyle="rgba("+P.core("selection-box-color").value[0]+","+P.core("selection-box-color").value[1]+","+P.core("selection-box-color").value[2]+","+P.core("selection-box-opacity").value+")",$.fillRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]),ve>0&&($.strokeStyle="rgba("+P.core("selection-box-border-color").value[0]+","+P.core("selection-box-border-color").value[1]+","+P.core("selection-box-border-color").value[2]+","+P.core("selection-box-opacity").value+")",$.strokeRect(f.selection[0],f.selection[1],f.selection[2]-f.selection[0],f.selection[3]-f.selection[1]))}if(v.bgActivePosistion&&!f.hoverData.selecting){I=f.cy.zoom();var he=v.bgActivePosistion;$.fillStyle="rgba("+P.core("active-bg-color").value[0]+","+P.core("active-bg-color").value[1]+","+P.core("active-bg-color").value[2]+","+P.core("active-bg-opacity").value+")",$.beginPath(),$.arc(he.x,he.y,P.core("active-bg-size").pfValue/I,0,2*Math.PI),$.fill()}var se=f.lastRedrawTime;if(f.showFps&&se){se=Math.round(se);var Y=Math.round(1e3/se);$.setTransform(1,0,0,1,0,0),$.fillStyle="rgba(255, 0, 0, 0.75)",$.strokeStyle="rgba(255, 0, 0, 0.75)",$.lineWidth=1,$.fillText("1 frame = "+se+" ms = "+Y+" fps",0,20),$.strokeRect(0,30,250,20),$.fillRect(0,30,250*Math.min(Y/60,1),20)}o||(y[f.SELECT_BOX]=!1)}if(D&&1!==C){var Me=v.contexts[f.DRAG],Ze=f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_DRAG],it=function(Te,We,$e){Te.setTransform(1,0,0,1,0,0),$e||!M?Te.clearRect(0,0,f.canvasWidth,f.canvasHeight):z(Te,0,0,f.canvasWidth,f.canvasHeight),Te.drawImage(We,0,0,f.canvasWidth*C,f.canvasHeight*C,0,0,f.canvasWidth,f.canvasHeight)};(y[f.NODE]||ee[f.NODE])&&(it(v.contexts[f.NODE],f.data.bufferCanvases[f.MOTIONBLUR_BUFFER_NODE],ee[f.NODE]),y[f.NODE]=!1),(y[f.DRAG]||ee[f.DRAG])&&(it(Me,Ze,ee[f.DRAG]),y[f.DRAG]=!1)}f.prevViewport=R,f.clearingMotionBlur&&(f.clearingMotionBlur=!1,f.motionBlurCleared=!0,f.motionBlur=!0),D&&(f.motionBlurTimeout=setTimeout(function(){f.motionBlurTimeout=null,f.clearedForMotionBlur[f.NODE]=!1,f.clearedForMotionBlur[f.DRAG]=!1,f.motionBlur=!1,f.clearingMotionBlur=!b,f.mbFrames=0,y[f.NODE]=!0,y[f.DRAG]=!0,f.redraw()},100)),i||m.emit("render")}},za={drawPolygonPath:function(s,i,o,u,c,d){var f=u/2,g=c/2;s.beginPath&&s.beginPath(),s.moveTo(i+f*d[0],o+g*d[1]);for(var m=1;m<d.length/2;m++)s.lineTo(i+f*d[2*m],o+g*d[2*m+1]);s.closePath()},drawRoundPolygonPath:function(s,i,o,u,c,d){var f=u/2,g=c/2,m=nl(u,c);s.beginPath&&s.beginPath();for(var v=0;v<d.length/4;v++){var b,y;y=0===v?d.length-2:4*v-2,b=4*v+2;var D=i+f*d[4*v],C=o+g*d[4*v+1],S=m/Math.tan(Math.acos(-d[y]*d[b]-d[y+1]*d[b+1])/2),A=D-S*d[y],M=C-S*d[y+1],P=D+S*d[b],I=C+S*d[b+1];0===v?s.moveTo(A,M):s.lineTo(A,M),s.arcTo(D,C,P,I,m)}s.closePath()},drawRoundRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2,g=Ta(u,c);s.beginPath&&s.beginPath(),s.moveTo(i,o-f),s.arcTo(i+d,o-f,i+d,o,g),s.arcTo(i+d,o+f,i,o+f,g),s.arcTo(i-d,o+f,i-d,o,g),s.arcTo(i-d,o-f,i,o-f,g),s.lineTo(i,o-f),s.closePath()},drawBottomRoundRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2,g=Ta(u,c);s.beginPath&&s.beginPath(),s.moveTo(i,o-f),s.lineTo(i+d,o-f),s.lineTo(i+d,o),s.arcTo(i+d,o+f,i,o+f,g),s.arcTo(i-d,o+f,i-d,o,g),s.lineTo(i-d,o-f),s.lineTo(i,o-f),s.closePath()},drawCutRectanglePath:function(s,i,o,u,c){var d=u/2,f=c/2;s.beginPath&&s.beginPath(),s.moveTo(i-d+8,o-f),s.lineTo(i+d-8,o-f),s.lineTo(i+d,o-f+8),s.lineTo(i+d,o+f-8),s.lineTo(i+d-8,o+f),s.lineTo(i-d+8,o+f),s.lineTo(i-d,o+f-8),s.lineTo(i-d,o-f+8),s.closePath()},drawBarrelPath:function(s,i,o,u,c){var d=u/2,f=c/2,g=i-d,m=i+d,v=o-f,y=o+f,b=di(u,c),D=b.widthOffset,C=b.heightOffset,_=b.ctrlPtOffsetPct*D;s.beginPath&&s.beginPath(),s.moveTo(g,v+C),s.lineTo(g,y-C),s.quadraticCurveTo(g+_,y,g+D,y),s.lineTo(m-D,y),s.quadraticCurveTo(m-_,y,m,y-C),s.lineTo(m,v+C),s.quadraticCurveTo(m-_,v,m-D,v),s.lineTo(g+D,v),s.quadraticCurveTo(g+_,v,g,v+C),s.closePath()}},Hu=Math.sin(0),jh=Math.cos(0),kd={},qh={},$u=Math.PI/40,Ro=0*Math.PI;Ro<2*Math.PI;Ro+=$u)kd[Ro]=Math.sin(Ro),qh[Ro]=Math.cos(Ro);za.drawEllipsePath=function(s,i,o,u,c){if(s.beginPath&&s.beginPath(),s.ellipse)s.ellipse(i,o,u/2,c/2,0,0,2*Math.PI);else for(var d,f,g=u/2,m=c/2,v=0*Math.PI;v<2*Math.PI;v+=$u)d=i-g*kd[v]*Hu+g*qh[v]*jh,f=o+m*qh[v]*Hu+m*kd[v]*jh,0===v?s.moveTo(d,f):s.lineTo(d,f);s.closePath()};var Hl={};function Gh(s){var i=s.indexOf(",");return s.substr(i+1)}function Wh(s,i,o){var u=function(){return i.toDataURL(o,s.quality)};switch(s.output){case"blob-promise":return new oo(function(c,d){try{i.toBlob(function(f){null!=f?c(f):d(new Error("`canvas.toBlob()` sent a null value in its callback"))},o,s.quality)}catch(f){d(f)}});case"blob":return function(s,i){for(var o=atob(s),u=new ArrayBuffer(o.length),c=new Uint8Array(u),d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return new Blob([u],{type:i})}(Gh(u()),o);case"base64":return Gh(u());default:return u()}}Hl.createBuffer=function(s,i){var o=document.createElement("canvas");return o.width=s,o.height=i,[o,o.getContext("2d")]},Hl.bufferCanvasImage=function(s){var i=this.cy,u=i.mutableElements().boundingBox(),c=this.findContainerClientCoords(),d=s.full?Math.ceil(u.w):c[2],f=s.full?Math.ceil(u.h):c[3],g=Ce(s.maxWidth)||Ce(s.maxHeight),m=this.getPixelRatio(),v=1;if(void 0!==s.scale)d*=s.scale,f*=s.scale,v=s.scale;else if(g){var y=1/0,b=1/0;Ce(s.maxWidth)&&(y=v*s.maxWidth/d),Ce(s.maxHeight)&&(b=v*s.maxHeight/f),d*=v=Math.min(y,b),f*=v}g||(d*=m,f*=m,v*=m);var D=document.createElement("canvas");D.width=d,D.height=f,D.style.width=d+"px",D.style.height=f+"px";var C=D.getContext("2d");if(d>0&&f>0){C.clearRect(0,0,d,f),C.globalCompositeOperation="source-over";var _=this.getCachedZSortedEles();if(s.full)C.translate(-u.x1*v,-u.y1*v),C.scale(v,v),this.drawElements(C,_),C.scale(1/v,1/v),C.translate(u.x1*v,u.y1*v);else{var S=i.pan(),A={x:S.x*v,y:S.y*v};v*=i.zoom(),C.translate(A.x,A.y),C.scale(v,v),this.drawElements(C,_),C.scale(1/v,1/v),C.translate(-A.x,-A.y)}s.bg&&(C.globalCompositeOperation="destination-over",C.fillStyle=s.bg,C.rect(0,0,d,f),C.fill())}return D},Hl.png=function(s){return Wh(s,this.bufferCanvasImage(s),"image/png")},Hl.jpg=function(s){return Wh(s,this.bufferCanvasImage(s),"image/jpeg")};var dm=Fd,Pt=Fd.prototype;function Fd(s){var i=this;i.data={canvases:new Array(Pt.CANVAS_LAYERS),contexts:new Array(Pt.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Pt.CANVAS_LAYERS),bufferCanvases:new Array(Pt.BUFFER_COUNT),bufferContexts:new Array(Pt.CANVAS_LAYERS)};var o="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";i.data.canvasContainer=document.createElement("div");var c=i.data.canvasContainer.style;i.data.canvasContainer.style[o]=u,c.position="relative",c.zIndex="0",c.overflow="hidden";var d=s.cy.container();d.appendChild(i.data.canvasContainer),d.style[o]=u;var f={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Ki&&Ki.userAgent.match(/msie|trident|edge/i)&&(f["-ms-touch-action"]="none",f["touch-action"]="none");for(var g=0;g<Pt.CANVAS_LAYERS;g++){var m=i.data.canvases[g]=document.createElement("canvas");i.data.contexts[g]=m.getContext("2d"),Object.keys(f).forEach(function(se){m.style[se]=f[se]}),m.style.position="absolute",m.setAttribute("data-id","layer"+g),m.style.zIndex=String(Pt.CANVAS_LAYERS-g),i.data.canvasContainer.appendChild(m),i.data.canvasNeedsRedraw[g]=!1}for(i.data.topCanvas=i.data.canvases[0],i.data.canvases[Pt.NODE].setAttribute("data-id","layer"+Pt.NODE+"-node"),i.data.canvases[Pt.SELECT_BOX].setAttribute("data-id","layer"+Pt.SELECT_BOX+"-selectbox"),i.data.canvases[Pt.DRAG].setAttribute("data-id","layer"+Pt.DRAG+"-drag"),g=0;g<Pt.BUFFER_COUNT;g++)i.data.bufferCanvases[g]=document.createElement("canvas"),i.data.bufferContexts[g]=i.data.bufferCanvases[g].getContext("2d"),i.data.bufferCanvases[g].style.position="absolute",i.data.bufferCanvases[g].setAttribute("data-id","buffer"+g),i.data.bufferCanvases[g].style.zIndex=String(-g-1),i.data.bufferCanvases[g].style.visibility="hidden";i.pathsEnabled=!0;var v=Rr(),b=function(Y){return{x:-Y.w/2,y:-Y.h/2}},B=function(Y){return Y.boundingBox(),Y[0]._private.bodyBounds},U=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.main||v},R=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.source||v},V=function(Y){return Y.boundingBox(),Y[0]._private.labelBounds.target||v},F=function(Y,oe){return oe},z=function(Y,oe,pe){var Ee=Y?Y+"-":"";return{x:oe.x+pe.pstyle(Ee+"text-margin-x").pfValue,y:oe.y+pe.pstyle(Ee+"text-margin-y").pfValue}},L=function(Y,oe,pe){var Ee=Y[0]._private.rscratch;return{x:Ee[oe],y:Ee[pe]}},ae=i.data.eleTxrCache=new Ns(i,{getKey:function(Y){return Y[0]._private.nodeKey},doesEleInvalidateKey:function(Y){var oe=Y[0]._private;return!(oe.oldBackgroundTimestamp===oe.backgroundTimestamp)},drawElement:function(Y,oe,pe,Ee,Me){return i.drawElement(Y,oe,pe,!1,!1,Me)},getBoundingBox:B,getRotationPoint:function(Y){return function(Y){return{x:(Y.x1+Y.x2)/2,y:(Y.y1+Y.y2)/2}}(B(Y))},getRotationOffset:function(Y){return b(B(Y))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ee=i.data.lblTxrCache=new Ns(i,{getKey:function(Y){return Y[0]._private.labelStyleKey},drawElement:function(Y,oe,pe,Ee,Me){return i.drawElementText(Y,oe,pe,Ee,"main",Me)},getBoundingBox:U,getRotationPoint:function(Y){return z("",L(Y,"labelX","labelY"),Y)},getRotationOffset:function(Y){var oe=U(Y),pe=b(U(Y));if(Y.isNode()){switch(Y.pstyle("text-halign").value){case"left":pe.x=-oe.w;break;case"right":pe.x=0}switch(Y.pstyle("text-valign").value){case"top":pe.y=-oe.h;break;case"bottom":pe.y=0}}return pe},isVisible:F}),ie=i.data.slbTxrCache=new Ns(i,{getKey:function(Y){return Y[0]._private.sourceLabelStyleKey},drawElement:function(Y,oe,pe,Ee,Me){return i.drawElementText(Y,oe,pe,Ee,"source",Me)},getBoundingBox:R,getRotationPoint:function(Y){return z("source",L(Y,"sourceLabelX","sourceLabelY"),Y)},getRotationOffset:function(Y){return b(R(Y))},isVisible:F}),de=i.data.tlbTxrCache=new Ns(i,{getKey:function(Y){return Y[0]._private.targetLabelStyleKey},drawElement:function(Y,oe,pe,Ee,Me){return i.drawElementText(Y,oe,pe,Ee,"target",Me)},getBoundingBox:V,getRotationPoint:function(Y){return z("target",L(Y,"targetLabelX","targetLabelY"),Y)},getRotationOffset:function(Y){return b(V(Y))},isVisible:F}),ve=i.data.lyrTxrCache=new Lh(i);i.onUpdateEleCalcs(function(Y,oe){ae.invalidateElements(oe),ee.invalidateElements(oe),ie.invalidateElements(oe),de.invalidateElements(oe),ve.invalidateElements(oe);for(var pe=0;pe<oe.length;pe++){var Ee=oe[pe]._private;Ee.oldBackgroundTimestamp=Ee.backgroundTimestamp}});var he=function(Y){for(var oe=0;oe<Y.length;oe++)ve.enqueueElementRefinement(Y[oe].ele)};ae.onDequeue(he),ee.onDequeue(he),ie.onDequeue(he),de.onDequeue(he)}Pt.CANVAS_LAYERS=3,Pt.SELECT_BOX=0,Pt.DRAG=1,Pt.NODE=2,Pt.BUFFER_COUNT=3,Pt.TEXTURE_BUFFER=0,Pt.MOTIONBLUR_BUFFER_NODE=1,Pt.MOTIONBLUR_BUFFER_DRAG=2,Pt.redrawHint=function(s,i){var o=this;switch(s){case"eles":o.data.canvasNeedsRedraw[Pt.NODE]=i;break;case"drag":o.data.canvasNeedsRedraw[Pt.DRAG]=i;break;case"select":o.data.canvasNeedsRedraw[Pt.SELECT_BOX]=i}};var fm="undefined"!=typeof Path2D;Pt.path2dEnabled=function(s){if(void 0===s)return this.pathsEnabled;this.pathsEnabled=!!s},Pt.usePaths=function(){return fm&&this.pathsEnabled},Pt.setImgSmoothing=function(s,i){null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled=i:(s.webkitImageSmoothingEnabled=i,s.mozImageSmoothingEnabled=i,s.msImageSmoothingEnabled=i)},Pt.getImgSmoothing=function(s){return null!=s.imageSmoothingEnabled?s.imageSmoothingEnabled:s.webkitImageSmoothingEnabled||s.mozImageSmoothingEnabled||s.msImageSmoothingEnabled},Pt.makeOffscreenCanvas=function(s,i){var o;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":yt(OffscreenCanvas))?o=new OffscreenCanvas(s,i):((o=document.createElement("canvas")).width=s,o.height=i),o},[Bh,nn,da,Vu,ks,Po,Br,za,Hl,{nodeShapeImpl:function(s,i,o,u,c,d,f){switch(s){case"ellipse":return this.drawEllipsePath(i,o,u,c,d);case"polygon":return this.drawPolygonPath(i,o,u,c,d,f);case"round-polygon":return this.drawRoundPolygonPath(i,o,u,c,d,f);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(i,o,u,c,d);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(i,o,u,c,d);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(i,o,u,c,d);case"barrel":return this.drawBarrelPath(i,o,u,c,d)}}}].forEach(function(s){Ge(Pt,s)});var pm=[{type:"layout",extensions:So},{type:"renderer",extensions:[{name:"null",impl:To},{name:"base",impl:xo},{name:"canvas",impl:dm}]}],Qh={},Od={};function Yh(s,i,o){var u=o,c=function(V){qt("Can not register `"+i+"` for `"+s+"` since `"+V+"` already exists in the prototype and can not be overridden")};if("core"===s){if(Pu.prototype[i])return c(i);Pu.prototype[i]=o}else if("collection"===s){if(jt.prototype[i])return c(i);jt.prototype[i]=o}else if("layout"===s){for(var d=function(V){this.options=V,o.call(this,V),Fe(this._private)||(this._private={}),this._private.cy=V.cy,this._private.listeners=[],this.createEmitter()},f=d.prototype=Object.create(o.prototype),g=[],m=0;m<g.length;m++){var v=g[m];f[v]=f[v]||function(){return this}}f.start&&!f.run?f.run=function(){return this.start(),this}:!f.start&&f.run&&(f.start=function(){return this.run(),this});var y=o.prototype.stop;f.stop=function(){var R=this.options;if(R&&R.animate){var V=this.animations;if(V)for(var F=0;F<V.length;F++)V[F].stop()}return y?y.call(this):this.emit("layoutstop"),this},f.destroy||(f.destroy=function(){return this}),f.cy=function(){return this._private.cy};var b=function(V){return V._private.cy},D={addEventFields:function(V,F){F.layout=V,F.cy=b(V),F.target=V},bubble:function(){return!0},parent:function(V){return b(V)}};Ge(f,{createEmitter:function(){return this._private.emitter=new Du(D,this),this},emitter:function(){return this._private.emitter},on:function(V,F){return this.emitter().on(V,F),this},one:function(V,F){return this.emitter().one(V,F),this},once:function(V,F){return this.emitter().one(V,F),this},removeListener:function(V,F){return this.emitter().removeListener(V,F),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(V,F){return this.emitter().emit(V,F),this}}),xt.eventAliasesOn(f),u=d}else if("renderer"===s&&"null"!==i&&"base"!==i){var C=Zh("renderer","base"),_=C.prototype,S=o,A=o.prototype,M=function(){C.apply(this,arguments),S.apply(this,arguments)},P=M.prototype;for(var I in _){var N=_[I];if(null!=A[I])return c(I);P[I]=N}for(var U in A)P[U]=A[U];_.clientFunctions.forEach(function(R){P[R]=P[R]||function(){$t("Renderer does not implement `renderer."+R+"()` on its prototype")}}),u=M}return $g({map:Qh,keys:[s,i],value:u})}function Zh(s,i){return Nf({map:Qh,keys:[s,i]})}function gm(s,i,o,u,c){return $g({map:Od,keys:[s,i,o,u],value:c})}function ko(s,i,o,u){return Nf({map:Od,keys:[s,i,o,u]})}var ri=function(){return 2===arguments.length?Zh.apply(null,arguments):3===arguments.length?Yh.apply(null,arguments):4===arguments.length?ko.apply(null,arguments):5===arguments.length?gm.apply(null,arguments):void $t("Invalid extension access syntax")};Pu.prototype.extension=ri,pm.forEach(function(s){s.extensions.forEach(function(i){Yh(s.type,i.name,i.impl)})});var vm=function s(){if(!(this instanceof s))return new s;this.length=0},Fo=vm.prototype;Fo.instanceString=function(){return"stylesheet"},Fo.selector=function(s){return this[this.length++]={selector:s,properties:[]},this},Fo.css=function(s,i){var o=this.length-1;if(le(s))this[o].properties.push({name:s,value:i});else if(Fe(s))for(var u=s,c=Object.keys(u),d=0;d<c.length;d++){var f=c[d],g=u[f];if(null!=g){var m=hr.properties[f]||hr.properties[on(f)];null!=m&&this[o].properties.push({name:m.name,value:g})}}return this},Fo.style=Fo.css,Fo.generateStyle=function(s){var i=new hr(s);return this.appendToStyle(i)},Fo.appendToStyle=function(s){for(var i=0;i<this.length;i++){var o=this[i],c=o.properties;s.selector(o.selector);for(var d=0;d<c.length;d++){var f=c[d];s.css(f.name,f.value)}}return s};var Oo=function(i){return void 0===i&&(i={}),Fe(i)?new Pu(i):le(i)?ri.apply(ri,arguments):void 0};Oo.use=function(s){var i=Array.prototype.slice.call(arguments,1);return i.unshift(Oo),s.apply(null,i),this},Oo.warnings=function(s){return qg(s)},Oo.version="3.20.0",Oo.stylesheet=Oo.Stylesheet=vm,Pn.exports=Oo},555:(Pn,Rn,en)=>{Pn.exports=en(408)},408:function(Pn,Rn){var en,Bt,jr;(function(){var qr,yt,Cn,li,ui,Gi,ln,Si,os,Wi,Ht,Ki,Ws,Gr,Wn;Cn=Math.floor,Wi=Math.min,yt=function(be,Re){return be<Re?-1:be>Re?1:0},os=function(be,Re,ye,le,He){var Ve;if(null==ye&&(ye=0),null==He&&(He=yt),ye<0)throw new Error("lo must be non-negative");for(null==le&&(le=be.length);ye<le;)He(Re,be[Ve=Cn((ye+le)/2)])<0?le=Ve:ye=Ve+1;return[].splice.apply(be,[ye,ye-ye].concat(Re)),Re},Gi=function(be,Re,ye){return null==ye&&(ye=yt),be.push(Re),Gr(be,0,be.length-1,ye)},ui=function(be,Re){var ye,le;return null==Re&&(Re=yt),ye=be.pop(),be.length?(le=be[0],be[0]=ye,Wn(be,0,Re)):le=ye,le},Si=function(be,Re,ye){var le;return null==ye&&(ye=yt),le=be[0],be[0]=Re,Wn(be,0,ye),le},ln=function(be,Re,ye){var le;return null==ye&&(ye=yt),be.length&&ye(be[0],Re)<0&&(Re=(le=[be[0],Re])[0],be[0]=le[1],Wn(be,0,ye)),Re},li=function(be,Re){var le,Ve,un,Ce,Yt;for(null==Re&&(Re=yt),Ce=[],le=0,Ve=(un=function(){Yt=[];for(var pn=0,Nt=Cn(be.length/2);0<=Nt?pn<Nt:pn>Nt;0<=Nt?pn++:pn--)Yt.push(pn);return Yt}.apply(this).reverse()).length;le<Ve;le++)Ce.push(Wn(be,un[le],Re));return Ce},Ws=function(be,Re,ye){var le;if(null==ye&&(ye=yt),-1!==(le=be.indexOf(Re)))return Gr(be,0,le,ye),Wn(be,le,ye)},Ht=function(be,Re,ye){var He,Ve,Fe,un;if(null==ye&&(ye=yt),!(He=be.slice(0,Re)).length)return He;for(li(He,ye),Ve=0,Fe=(un=be.slice(Re)).length;Ve<Fe;Ve++)ln(He,un[Ve],ye);return He.sort(ye).reverse()},Ki=function(be,Re,ye){var le,Ve,Fe,un,Ce,Yt,pn,Nt,St;if(null==ye&&(ye=yt),10*Re<=be.length){if(!(Fe=be.slice(0,Re).sort(ye)).length)return Fe;for(Ve=Fe[Fe.length-1],un=0,Yt=(pn=be.slice(Re)).length;un<Yt;un++)ye(le=pn[un],Ve)<0&&(os(Fe,le,0,null,ye),Fe.pop(),Ve=Fe[Fe.length-1]);return Fe}for(li(be,ye),St=[],Ce=0,Nt=Wi(Re,be.length);0<=Nt?Ce<Nt:Ce>Nt;0<=Nt?++Ce:--Ce)St.push(ui(be,ye));return St},Gr=function(be,Re,ye,le){var He,Ve,Fe;for(null==le&&(le=yt),He=be[ye];ye>Re&&le(He,Ve=be[Fe=ye-1>>1])<0;)be[ye]=Ve,ye=Fe;return be[ye]=He},Wn=function(be,Re,ye){var le,He,Ve,Fe,un;for(null==ye&&(ye=yt),He=be.length,un=Re,Ve=be[Re],le=2*Re+1;le<He;)(Fe=le+1)<He&&!(ye(be[le],be[Fe])<0)&&(le=Fe),be[Re]=be[le],le=2*(Re=le)+1;return be[Re]=Ve,Gr(be,un,Re,ye)},qr=function(){function be(Re){this.cmp=null!=Re?Re:yt,this.nodes=[]}return be.push=Gi,be.pop=ui,be.replace=Si,be.pushpop=ln,be.heapify=li,be.updateItem=Ws,be.nlargest=Ht,be.nsmallest=Ki,be.prototype.push=function(Re){return Gi(this.nodes,Re,this.cmp)},be.prototype.pop=function(){return ui(this.nodes,this.cmp)},be.prototype.peek=function(){return this.nodes[0]},be.prototype.contains=function(Re){return-1!==this.nodes.indexOf(Re)},be.prototype.replace=function(Re){return Si(this.nodes,Re,this.cmp)},be.prototype.pushpop=function(Re){return ln(this.nodes,Re,this.cmp)},be.prototype.heapify=function(){return li(this.nodes,this.cmp)},be.prototype.updateItem=function(Re){return Ws(this.nodes,Re,this.cmp)},be.prototype.clear=function(){return this.nodes=[]},be.prototype.empty=function(){return 0===this.nodes.length},be.prototype.size=function(){return this.nodes.length},be.prototype.clone=function(){var Re;return(Re=new be).nodes=this.nodes.slice(0),Re},be.prototype.toArray=function(){return this.nodes.slice(0)},be.prototype.insert=be.prototype.push,be.prototype.top=be.prototype.peek,be.prototype.front=be.prototype.peek,be.prototype.has=be.prototype.contains,be.prototype.copy=be.prototype.clone,be}(),Bt=[],void 0===(jr="function"==typeof(en=function(){return qr})?en.apply(Rn,Bt):en)||(Pn.exports=jr)}).call(this)},177:Pn=>{var jr=/^\s+|\s+$/g,qr=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,Cn=/^0o[0-7]+$/i,li=parseInt,ui="object"==typeof global&&global&&global.Object===Object&&global,Gi="object"==typeof self&&self&&self.Object===Object&&self,ln=ui||Gi||Function("return this")(),os=Object.prototype.toString,Wi=Math.max,Ht=Math.min,Ki=function(){return ln.Date.now()};function Gr(ye){var le=typeof ye;return!!ye&&("object"==le||"function"==le)}function Re(ye){if("number"==typeof ye)return ye;if(function(ye){return"symbol"==typeof ye||function(ye){return!!ye&&"object"==typeof ye}(ye)&&"[object Symbol]"==os.call(ye)}(ye))return NaN;if(Gr(ye)){var le="function"==typeof ye.valueOf?ye.valueOf():ye;ye=Gr(le)?le+"":le}if("string"!=typeof ye)return 0===ye?ye:+ye;ye=ye.replace(jr,"");var He=yt.test(ye);return He||Cn.test(ye)?li(ye.slice(2),He?2:8):qr.test(ye)?NaN:+ye}Pn.exports=function(ye,le,He){var Ve,Fe,un,Ce,Yt,pn,Nt=0,St=!1,Qi=!1,ls=!0;if("function"!=typeof ye)throw new TypeError("Expected a function");function Ks(on){var Wr=Ve,cs=Fe;return Ve=Fe=void 0,Nt=on,Ce=ye.apply(cs,Wr)}function Ic(on){return Nt=on,Yt=setTimeout(us,le),St?Ks(on):Ce}function Qo(on){var Wr=on-pn;return void 0===pn||Wr>=le||Wr<0||Qi&&on-Nt>=un}function us(){var on=Ki();if(Qo(on))return _n(on);Yt=setTimeout(us,function(on){var gn=le-(on-pn);return Qi?Ht(gn,un-(on-Nt)):gn}(on))}function _n(on){return Yt=void 0,ls&&Ve?Ks(on):(Ve=Fe=void 0,Ce)}function Yi(){var on=Ki(),Wr=Qo(on);if(Ve=arguments,Fe=this,pn=on,Wr){if(void 0===Yt)return Ic(pn);if(Qi)return Yt=setTimeout(us,le),Ks(pn)}return void 0===Yt&&(Yt=setTimeout(us,le)),Ce}return le=Re(le)||0,Gr(He)&&(St=!!He.leading,un=(Qi="maxWait"in He)?Wi(Re(He.maxWait)||0,le):un,ls="trailing"in He?!!He.trailing:ls),Yi.cancel=function(){void 0!==Yt&&clearTimeout(Yt),Nt=0,Ve=pn=Fe=Yt=void 0},Yi.flush=function(){return void 0===Yt?Ce:_n(Ki())},Yi}},677:(Pn,Rn,en)=>{"use strict";function Bt(n){return"function"==typeof n}function jr(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const qr=jr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,a)=>`${a+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function yt(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const l of t)l.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Bt(r))try{r()}catch(l){e=l instanceof qr?l.errors:[l]}const{_teardowns:a}=this;if(a){this._teardowns=null;for(const l of a)try{Gi(l)}catch(h){e=null!=e?e:[],h instanceof qr?e=[...e,...h.errors]:e.push(h)}}if(e)throw new qr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Gi(e);else{if(e instanceof Cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yt(t,e)}remove(e){const{_teardowns:t}=this;t&&yt(t,e),e instanceof Cn&&e._removeParent(this)}}Cn.EMPTY=(()=>{const n=new Cn;return n.closed=!0,n})();const li=Cn.EMPTY;function ui(n){return n instanceof Cn||n&&"closed"in n&&Bt(n.remove)&&Bt(n.add)&&Bt(n.unsubscribe)}function Gi(n){Bt(n)?n():n.unsubscribe()}const ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Si={setTimeout(...n){const{delegate:e}=Si;return((null==e?void 0:e.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:e}=Si;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function os(n){Si.setTimeout(()=>{const{onUnhandledError:e}=ln;if(!e)throw n;e(n)})}function Wi(){}const Ht=Gr("C",void 0,void 0);function Gr(n,e,t){return{kind:n,value:e,error:t}}let Wn=null;function be(n){if(ln.useDeprecatedSynchronousErrorHandling){const e=!Wn;if(e&&(Wn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Wn;if(Wn=null,t)throw r}}else n()}class ye extends Cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ui(e)&&e.add(this)):this.destination=un}static create(e,t,r){return new le(e,t,r)}next(e){this.isStopped?Fe(Gr("N",e,void 0),this):this._next(e)}error(e){this.isStopped?Fe(Gr("E",void 0,e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Fe(Ht,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class le extends ye{constructor(e,t,r){let a;if(super(),Bt(e))a=e;else if(e){let l;({next:a,error:t,complete:r}=e),this&&ln.useDeprecatedNextContext?(l=Object.create(e),l.unsubscribe=()=>this.unsubscribe()):l=e,a=null==a?void 0:a.bind(l),t=null==t?void 0:t.bind(l),r=null==r?void 0:r.bind(l)}this.destination={next:a?He(a):Wi,error:He(null!=t?t:Ve),complete:r?He(r):Wi}}}function He(n,e){return(...t)=>{try{n(...t)}catch(r){ln.useDeprecatedSynchronousErrorHandling?function(n){ln.useDeprecatedSynchronousErrorHandling&&Wn&&(Wn.errorThrown=!0,Wn.error=n)}(r):os(r)}}}function Ve(n){throw n}function Fe(n,e){const{onStoppedNotification:t}=ln;t&&Si.setTimeout(()=>t(n,e))}const un={closed:!0,next:Wi,error:Ve,complete:Wi},Ce="function"==typeof Symbol&&Symbol.observable||"@@observable";function Yt(n){return n}let St=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,a){const l=function(n){return n&&n instanceof ye||function(n){return n&&Bt(n.next)&&Bt(n.error)&&Bt(n.complete)}(n)&&ui(n)}(t)?t:new le(t,r,a);return be(()=>{const{operator:h,source:p}=this;l.add(h?h.call(l,p):p?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Qi(r))((a,l)=>{let h;h=this.subscribe(p=>{try{t(p)}catch(w){l(w),null==h||h.unsubscribe()}},l,a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Ce](){return this}pipe(...t){return function(n){return 0===n.length?Yt:1===n.length?n[0]:function(t){return n.reduce((r,a)=>a(r),t)}}(t)(this)}toPromise(t){return new(t=Qi(t))((r,a)=>{let l;this.subscribe(h=>l=h,h=>a(h),()=>r(l))})}}return n.create=e=>new n(e),n})();function Qi(n){var e;return null!==(e=null!=n?n:ln.Promise)&&void 0!==e?e:Promise}const Ic=jr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Vn=(()=>{class n extends St{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Qo(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ic}next(t){be(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const a of r)a.next(t)}})}error(t){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:a,observers:l}=this;return r||a?li:(l.push(t),new Cn(()=>yt(l,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:a,isStopped:l}=this;r?t.error(a):l&&t.complete()}asObservable(){const t=new St;return t.source=this,t}}return n.create=(e,t)=>new Qo(e,t),n})();class Qo extends Vn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:li}}function us(n){return Bt(null==n?void 0:n.lift)}function _n(n){return e=>{if(us(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class Sn extends ye{constructor(e,t,r,a,l){super(e),this.onFinalize=l,this._next=t?function(h){try{t(h)}catch(p){e.error(p)}}:super._next,this._error=a?function(h){try{a(h)}catch(p){e.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){e.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}function Mt(n,e){return _n((t,r)=>{let a=0;t.subscribe(new Sn(r,l=>{r.next(n.call(e,l,a++))}))})}function ds(n){return this instanceof ds?(this.v=n,this):new ds(n)}function Vg(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,r=t.apply(n,e||[]),l=[];return a={},h("next"),h("throw"),h("return"),a[Symbol.asyncIterator]=function(){return this},a;function h(k){r[k]&&(a[k]=function(H){return new Promise(function(G,J){l.push([k,H,G,J])>1||p(k,H)})})}function p(k,H){try{!function(k){k.value instanceof ds?Promise.resolve(k.value.v).then(E,T):x(l[0][2],k)}(r[k](H))}catch(G){x(l[0][3],G)}}function E(k){p("next",k)}function T(k){p("throw",k)}function x(k,H){k(H),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Hg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(l){t[l]=n[l]&&function(h){return new Promise(function(p,w){!function(l,h,p,w){Promise.resolve(w).then(function(E){l({value:E,done:p})},h)}(p,w,(h=n[l](h)).done,h.value)})}}}const Ti=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fs(n){return Bt(null==n?void 0:n.then)}function Nc(n){return Bt(n[Ce])}function Qs(n){return Symbol.asyncIterator&&Bt(null==n?void 0:n[Symbol.asyncIterator])}function kc(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Ys="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Ff(n){return Bt(null==n?void 0:n[Ys])}function Zi(n){return Vg(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:a}=yield ds(t.read());if(a)return yield ds(void 0);yield yield ds(r)}}finally{t.releaseLock()}})}function Zo(n){return Bt(null==n?void 0:n.getReader)}function Ai(n){if(n instanceof St)return n;if(null!=n){if(Nc(n))return function(n){return new St(e=>{const t=n[Ce]();if(Bt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ti(n))return function(n){return new St(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fs(n))return function(n){return new St(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,os)})}(n);if(Qs(n))return Bf(n);if(Ff(n))return function(n){return new St(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(Zo(n))return function(n){return Bf(Zi(n))}(n)}throw kc(n)}function Bf(n){return new St(e=>{(function(n,e){var t,r,a,l;return function(n,e,t,r){return new(t||(t=Promise))(function(l,h){function p(T){try{E(r.next(T))}catch(x){h(x)}}function w(T){try{E(r.throw(T))}catch(x){h(x)}}function E(T){T.done?l(T.value):function(l){return l instanceof t?l:new t(function(h){h(l)})}(T.value).then(p,w)}E((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Hg(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=t.return)&&(yield l.call(t))}finally{if(a)throw a.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Mi(n,e,t,r=0,a=!1){const l=e.schedule(function(){t(),a?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(l),!a)return l}function Nn(n,e,t=1/0){return Bt(e)?Nn((r,a)=>Mt((l,h)=>e(r,l,a,h))(Ai(n(r,a))),t):("number"==typeof e&&(t=e),_n((r,a)=>function(n,e,t,r,a,l,h,p){const w=[];let E=0,T=0,x=!1;const k=()=>{x&&!w.length&&!E&&e.complete()},H=J=>E<r?G(J):w.push(J),G=J=>{E++;let re=!1;Ai(t(J,T++)).subscribe(new Sn(e,ge=>{e.next(ge)},()=>{re=!0},void 0,()=>{if(re)try{for(E--;w.length&&E<r;){const ge=w.shift();G(ge)}k()}catch(ge){e.error(ge)}}))};return n.subscribe(new Sn(e,H,()=>{x=!0,k()})),()=>{}}(r,a,n,t)))}function ps(n=1/0){return Nn(Yt,n)}const $t=new St(n=>n.complete());function Kr(n){return n[n.length-1]}function Vf(n){return Bt(Kr(n))?n.pop():void 0}function Zs(n){return function(n){return n&&Bt(n.schedule)}(Kr(n))?n.pop():void 0}function Oc(n,e=0){return _n((t,r)=>{t.subscribe(new Sn(r,a=>Mi(r,n,()=>r.next(a),e),()=>Mi(r,n,()=>r.complete(),e),a=>Mi(r,n,()=>r.error(a),e)))})}function Hn(n,e=0){return _n((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Xi(n,e){if(!n)throw new Error("Iterable cannot be null");return new St(t=>{Mi(t,e,()=>{const r=n[Symbol.asyncIterator]();Mi(t,e,()=>{r.next().then(a=>{a.done?t.complete():t.next(a.value)})},0,!0)})})}function $n(n,e){return e?function(n,e){if(null!=n){if(Nc(n))return function(n,e){return Ai(n).pipe(Hn(e),Oc(e))}(n,e);if(Ti(n))return function(n,e){return new St(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(fs(n))return function(n,e){return Ai(n).pipe(Hn(e),Oc(e))}(n,e);if(Qs(n))return Xi(n,e);if(Ff(n))return function(n,e){return new St(t=>{let r;return Mi(t,e,()=>{r=n[Ys](),Mi(t,e,()=>{let a,l;try{({value:a,done:l}=r.next())}catch(h){return void t.error(h)}l?t.complete():t.next(a)},0,!0)}),()=>Bt(null==r?void 0:r.return)&&r.return()})}(n,e);if(Zo(n))return function(n,e){return Xi(Zi(n),e)}(n,e)}throw kc(n)}(n,e):Ai(n)}function Ji(n){return n<=0?()=>$t:_n((e,t)=>{let r=0;e.subscribe(new Sn(t,a=>{++r<=n&&(t.next(a),n<=r&&t.complete())}))})}function ou(n,e,...t){return!0===e?(n(),null):!1===e?null:e(...t).pipe(Ji(1)).subscribe(()=>n())}function kt(n){for(let e in n)if(n[e]===kt)return e;throw Error("Could not find renamed property on target object.")}function Bc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Tt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Tt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Vc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Zg=kt({__forward_ref__:kt});function Zt(n){return n.__forward_ref__=Zt,n.toString=function(){return Tt(this())},n}function ct(n){return Hf(n)?n():n}function Hf(n){return"function"==typeof n&&n.hasOwnProperty(Zg)&&n.__forward_ref__===Zt}class xr extends Error{constructor(e,t){super(function(n,e){return`${n?`NG0${n}: `:""}${e}`}(e,t)),this.code=e}}function tt(n){return"string"==typeof n?n:null==n?"":String(n)}function ur(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():tt(n)}function ea(n,e){const t=e?` in ${e}`:"";throw new xr("201",`No provider for ${ur(n)} found${t}`)}function Pr(n,e){null==n&&function(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jo(n){return zc(n,el)||zc(n,zf)}function zc(n,e){return n.hasOwnProperty(e)?n[e]:null}function Uf(n){return n&&(n.hasOwnProperty(lu)||n.hasOwnProperty(nv))?n[lu]:null}const el=kt({\u0275prov:kt}),lu=kt({\u0275inj:kt}),zf=kt({ngInjectableDef:kt}),nv=kt({ngInjectorDef:kt});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let qc;function Da(n){const e=qc;return qc=n,e}function dr(n,e,t){const r=Jo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&at.Optional?null:void 0!==e?e:void ea(Tt(n),"Injector")}function _a(n){return{toString:n}.toString()}var Nr=(()=>((Nr=Nr||{})[Nr.OnPush=0]="OnPush",Nr[Nr.Default=1]="Default",Nr))(),Kn=(()=>{return(n=Kn||(Kn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Kn;var n})();const tl="undefined"!=typeof globalThis&&globalThis,Gc="undefined"!=typeof window&&window,Sa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=tl||"undefined"!=typeof global&&global||Gc||Sa,vs={},zt=[],Ta=kt({\u0275cmp:kt}),nl=kt({\u0275dir:kt}),cu=kt({\u0275pipe:kt}),jf=kt({\u0275mod:kt}),di=kt({\u0275fac:kt}),rl=kt({__NG_ELEMENT_ID__:kt});let av=0;function ms(n){return _a(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||zt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Kn.Emulated,id:"c",styles:n.styles||zt,_:null,setInput:null,schemas:n.schemas||null,tView:null},a=n.directives,l=n.features,h=n.pipes;return r.id+=av++,r.inputs=Gf(n.inputs,t),r.outputs=Gf(n.outputs),l&&l.forEach(p=>p(r)),r.directiveDefs=a?()=>("function"==typeof a?a():a).map(Kc):null,r.pipeDefs=h?()=>("function"==typeof h?h():h).map(ys):null,r})}function Kc(n){return Qn(n)||function(n){return n[nl]||null}(n)}function ys(n){return function(n){return n[cu]||null}(n)}const qf={};function kr(n){return _a(()=>{const e={type:n.type,bootstrap:n.bootstrap||zt,declarations:n.declarations||zt,imports:n.imports||zt,exports:n.exports||zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(qf[n.id]=n.type),e})}function Gf(n,e){if(null==n)return vs;const t={};for(const r in n)if(n.hasOwnProperty(r)){let a=n[r],l=a;Array.isArray(a)&&(l=a[1],a=a[0]),t[a]=r,e&&(e[a]=l)}return t}const Ye=ms;function Qn(n){return n[Ta]||null}function Qr(n,e){const t=n[jf]||null;if(!t&&!0===e)throw new Error(`Type ${Tt(n)} does not have '\u0275mod' property.`);return t}function Ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Xr(n){return Array.isArray(n)&&!0===n[1]}function Qc(n){return 0!=(8&n.flags)}function pu(n){return 2==(2&n.flags)}function gu(n){return 1==(1&n.flags)}function hi(n){return null!==n.template}function Wf(n){return 0!=(512&n[2])}function Ra(n,e){return n.hasOwnProperty(di)?n[di]:null}class Qf{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function vn(){return Xc}function Xc(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zf),Yf}function Yf(){const n=Xf(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===vs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Zf(n,e,t,r){const a=Xf(n)||function(n,e){return n[Jc]=e}(n,{previous:vs,current:null}),l=a.current||(a.current={}),h=a.previous,p=this.declaredInputs[t],w=h[p];l[p]=new Qf(w&&w.currentValue,e,h===vs),n[r]=e}vn.ngInherit=!0;const Jc="__ngSimpleChanges__";function Xf(n){return n[Jc]||null}let xt;function Ke(n){return!!n.listen}const Ne={createRenderer:(n,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function Tn(n){for(;Array.isArray(n);)n=n[0];return n}function kn(n,e){return Tn(e[n.index])}function nd(n,e){return n.data[e]}function Fr(n,e){const t=e[n];return Ii(t)?t:t[0]}function rd(n){return 128==(128&n[2])}function Na(n,e){return null==e?null:n[e]}function rh(n){n[18]=0}function al(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const nt={lFrame:po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ih(){return nt.bindingsEnabled}function me(){return nt.lFrame.lView}function rt(){return nt.lFrame.tView}function yn(){let n=id();for(;null!==n&&64===n.type;)n=n.parent;return n}function id(){return nt.lFrame.currentTNode}function Pi(n,e){const t=nt.lFrame;t.currentTNode=n,t.isParent=e}function _s(){return nt.lFrame.isParent}function fo(){return nt.isInCheckNoChangesMode}function ra(n){nt.isInCheckNoChangesMode=n}function Ss(){return nt.lFrame.bindingIndex++}function ei(n,e){const t=nt.lFrame;t.bindingIndex=t.bindingRootIndex=n,sa(e)}function sa(n){nt.lFrame.currentDirectiveIndex=n}function ol(n){nt.lFrame.currentQueryIndex=n}function Ev(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function sd(n,e,t){if(t&at.SkipSelf){let a=e,l=n;for(;!(a=a.parent,null!==a||t&at.Host||(a=Ev(l),null===a||(l=l[15],10&a.type))););if(null===a)return!1;e=a,n=l}const r=nt.lFrame=od();return r.currentTNode=e,r.lView=n,!0}function ll(n){const e=od(),t=n[1];nt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function od(){const n=nt.lFrame,e=null===n?null:n.child;return null===e?po(n):e}function po(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ld(){const n=nt.lFrame;return nt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ud=ld;function yu(){const n=ld();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nr(){return nt.lFrame.selectedIndex}function Oa(n){nt.lFrame.selectedIndex=n}function dn(){const n=nt.lFrame;return nd(n.tView,n.selectedIndex)}function wu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const l=n.data[t].type.prototype,{ngAfterContentInit:h,ngAfterContentChecked:p,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:T}=l;h&&(n.contentHooks||(n.contentHooks=[])).push(-t,h),p&&((n.contentHooks||(n.contentHooks=[])).push(t,p),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,p)),w&&(n.viewHooks||(n.viewHooks=[])).push(-t,w),E&&((n.viewHooks||(n.viewHooks=[])).push(t,E),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,E)),null!=T&&(n.destroyHooks||(n.destroyHooks=[])).push(t,T)}}function dl(n,e,t){ah(n,e,3,t)}function bu(n,e,t,r){(3&n[2])===t&&ah(n,e,t,r)}function cd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function ah(n,e,t,r){const l=null!=r?r:-1,h=e.length-1;let p=0;for(let w=void 0!==r?65535&n[18]:0;w<h;w++)if("number"==typeof e[w+1]){if(p=e[w],null!=r&&p>=r)break}else e[w]<0&&(n[18]+=65536),(p<l||-1==l)&&(sh(n,t,e,w),n[18]=(4294901760&n[18])+w+2),w++}function sh(n,e,t,r){const a=t[r]<0,l=t[r+1],p=n[a?-t[r]:t[r]];if(a){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{l.call(p)}finally{}}}else try{l.call(p)}finally{}}class La{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function fl(n,e,t){const r=Ke(n);let a=0;for(;a<t.length;){const l=t[a];if("number"==typeof l){if(0!==l)break;a++;const h=t[a++],p=t[a++],w=t[a++];r?n.setAttribute(e,p,w,h):e.setAttributeNS(h,p,w)}else{const h=l,p=t[++a];dd(h)?r&&n.setProperty(e,h,p):r?n.setAttribute(e,h,p):e.setAttribute(h,p),a++}}return a}function lh(n){return 3===n||4===n||6===n}function dd(n){return 64===n.charCodeAt(0)}function Ms(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const a=e[r];"number"==typeof a?t=a:0===t||fd(n,t,a,null,-1===t||2===t?e[++r]:null)}}return n}function fd(n,e,t,r,a){let l=0,h=n.length;if(-1===e)h=-1;else for(;l<n.length;){const p=n[l++];if("number"==typeof p){if(p===e){h=-1;break}if(p>e){h=l-1;break}}}for(;l<n.length;){const p=n[l];if("number"==typeof p)break;if(p===t){if(null===r)return void(null!==a&&(n[l+1]=a));if(r===n[l+1])return void(n[l+2]=a)}l++,null!==r&&l++,null!==a&&l++}-1!==h&&(n.splice(h,0,e),l=h+1),n.splice(l++,0,t),null!==r&&n.splice(l++,0,r),null!==a&&n.splice(l++,0,a)}function hd(n){return-1!==n}function bt(n){return 32767&n}function xs(n,e){let t=function(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let vo=!0;function Cu(n){const e=vo;return vo=n,e}let _u=0;function wn(n,e){const t=gl(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,pl(r.data,n),pl(e,null),pl(r.blueprint,null));const a=oa(n,e),l=n.injectorIndex;if(hd(a)){const h=bt(a),p=xs(a,e),w=p[1].data;for(let E=0;E<8;E++)e[l+E]=p[h+E]|w[h+E]}return e[l+8]=a,l}function pl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function gl(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function oa(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,a=e;for(;null!==a;){const l=a[1],h=l.type;if(r=2===h?l.declTNode:1===h?a[6]:null,null===r)return-1;if(t++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Tu(n,e,t){!function(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(rl)&&(r=t[rl]),null==r&&(r=t[rl]=_u++);const a=255&r;e.data[n+(a>>5)]|=1<<a}(n,e,t)}function uh(n,e,t){if(t&at.Optional)return n;ea(e,"NodeInjector")}function ch(n,e,t,r){if(t&at.Optional&&void 0===r&&(r=null),0==(t&(at.Self|at.Host))){const a=n[9],l=Da(void 0);try{return a?a.get(e,r,t&at.Optional):dr(e,r,t&at.Optional)}finally{Da(l)}}return uh(r,e,t)}function la(n,e,t,r=at.Default,a){if(null!==n){const l=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(rl)?n[rl]:void 0;return"number"==typeof e?e>=0?255&e:mo:e}(t);if("function"==typeof l){if(!sd(e,n,r))return r&at.Host?uh(a,t,r):ch(e,t,r,a);try{const h=l(r);if(null!=h||r&at.Optional)return h;ea(t)}finally{ud()}}else if("number"==typeof l){let h=null,p=gl(n,e),w=-1,E=r&at.Host?e[16][6]:null;for((-1===p||r&at.SkipSelf)&&(w=-1===p?oa(n,e):e[p+8],-1!==w&&md(r,!1)?(h=e[1],p=bt(w),e=xs(w,e)):p=-1);-1!==p;){const T=e[1];if(vd(l,p,T.data)){const x=rr(p,e,t,h,r,E);if(x!==gd)return x}w=e[p+8],-1!==w&&md(r,e[1].data[p+8]===E)&&vd(l,p,e)?(h=T,p=bt(w),e=xs(w,e)):p=-1}}}return ch(e,t,r,a)}const gd={};function mo(){return new Is(yn(),me())}function rr(n,e,t,r,a,l){const h=e[1],p=h.data[n+8],T=function(n,e,t,r,a){const l=n.providerIndexes,h=e.data,p=1048575&l,w=n.directiveStart,T=l>>20,k=a?p+T:n.directiveEnd;for(let H=r?p:p+T;H<k;H++){const G=h[H];if(H<w&&t===G||H>=w&&G.type===t)return H}if(a){const H=h[w];if(H&&hi(H)&&H.type===t)return w}return null}(p,h,t,null==r?pu(p)&&vo:r!=h&&0!=(3&p.type),a&at.Host&&l===p);return null!==T?yo(e,h,T,p):gd}function yo(n,e,t,r){let a=n[t];const l=e.data;if(function(n){return n instanceof La}(a)){const h=a;h.resolving&&function(n,e){throw new xr("200",`Circular dependency in DI detected for ${n}`)}(ur(l[t]));const p=Cu(h.canSeeViewProviders);h.resolving=!0;const w=h.injectImpl?Da(h.injectImpl):null;sd(n,r,at.Default);try{a=n[t]=h.factory(void 0,l,n,r),e.firstCreatePass&&t>=r.directiveStart&&function(n,e,t){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:l}=e.type.prototype;if(r){const h=Xc(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,h),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,h)}a&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,a),l&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,l),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,l))}(t,l[t],e)}finally{null!==w&&Da(w),Cu(p),h.resolving=!1,ud()}}return a}function vd(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function md(n,e){return!(n&at.Self||n&at.Host&&e)}class Is{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return la(this._tNode,this._lView,e,r,t)}}function jt(n){return _a(()=>{const e=n.prototype.constructor,t=e[di]||Wt(e),r=Object.prototype;let a=Object.getPrototypeOf(n.prototype).constructor;for(;a&&a!==r;){const l=a[di]||Wt(a);if(l&&l!==t)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function Wt(n){return Hf(n)?()=>{const e=Wt(ct(n));return e&&e()}:Ra(n)}function ml(n){return function(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let a=0;for(;a<r;){const l=t[a];if(lh(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<r&&"string"==typeof t[a];)a++;else{if(l===e)return t[a+1];a+=2}}}return null}(yn(),n)}const bo="__parameters__";function Ps(n,e,t){return _a(()=>{const r=function(n){return function(...t){if(n){const r=n(...t);for(const a in r)this[a]=r[a]}}}(e);function a(...l){if(this instanceof a)return r.apply(this,l),this;const h=new a(...l);return p.annotation=h,p;function p(w,E,T){const x=w.hasOwnProperty(bo)?w[bo]:Object.defineProperty(w,bo,{value:[]})[bo];for(;x.length<=T;)x.push(null);return(x[T]=x[T]||[]).push(h),w}}return t&&(a.prototype=Object.create(t.prototype)),a.prototype.ngMetadataName=n,a.annotationCls=a,a})}class st{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ft({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const kv=new st("AnalyzeForEntryComponents");function _r(n,e){n.forEach(t=>Array.isArray(t)?_r(t,e):e(t))}function Mu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Or(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Lr(n,e,t){let r=Ni(n,e);return r>=0?n[1|r]=t:(r=~r,function(n,e,t,r){let a=n.length;if(a==e)n.push(t,r);else if(1===a)n.push(r,n[0]),n[0]=t;else{for(a--,n.push(n[a-1],n[a]);a>e;)n[a]=n[a-2],a--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ua(n,e){const t=Ni(n,e);if(t>=0)return n[1|t]}function Ni(n,e){return function(n,e,t){let r=0,a=n.length>>t;for(;a!==r;){const l=r+(a-r>>1),h=n[l<<t];if(e===h)return l<<t;h>e?a=l:r=l+1}return~(a<<t)}(n,e,1)}const Cl={},Do="__NG_DI_FLAG__",Ru="ngTempTokenPath",Hv=/\n/gm,mh="__source",yh=kt({provide:String,useValue:kt});let _l;function wh(n){const e=_l;return _l=n,e}function Uv(n,e=at.Default){if(void 0===_l)throw new Error("inject() must be called from an injection context");return null===_l?dr(n,void 0,e):_l.get(n,e&at.Optional?null:void 0,e)}function Ue(n,e=at.Default){return(qc||Uv)(ct(n),e)}function Co(n){const e=[];for(let t=0;t<n.length;t++){const r=ct(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let a,l=at.Default;for(let h=0;h<r.length;h++){const p=r[h],w=zv(p);"number"==typeof w?-1===w?a=p.token:l|=w:a=p}e.push(Ue(a,l))}else e.push(Ue(r))}return e}function Sl(n,e){return n[Do]=e,n.prototype[Do]=e,n}function zv(n){return n[Do]}const Tl=Sl(Ps("Inject",n=>({token:n})),-1),ki=Sl(Ps("Optional"),8),_o=Sl(Ps("SkipSelf"),4);const $h="__ngContext__";function ir(n,e){n[$h]=e}function Vl(n){const e=function(n){return n[$h]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function $u(n){return n.ngOriginalError}function Hl(n,...e){n.error(...e)}class No{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=(n=e)&&n.ngErrorLogger||Hl;var n;r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&$u(e);for(;t&&$u(t);)t=$u(t);return t||null}}const Od=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function ri(n){return n instanceof Function?n():n}var s=(()=>((s=s||{})[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s))();function o(n,e){return undefined(n,e)}function d(n){const e=n[3];return Xr(e)?e[3]:e}function m(n){return y(n[13])}function v(n){return y(n[4])}function y(n){for(;null!==n&&!Xr(n);)n=n[4];return n}function D(n,e,t,r,a){if(null!=r){let l,h=!1;Xr(r)?l=r:Ii(r)&&(h=!0,r=r[0]);const p=Tn(r);0===n&&null!==t?null==a?W(e,t,p):Z(e,t,p,a||null,!0):1===n&&null!==t?Z(e,t,p,a||null,!0):2===n?function(n,e,t){const r=Q(n,e);r&&function(n,e,t,r){Ke(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,p,h):3===n&&e.destroyNode(p),null!=l&&function(n,e,t,r,a){const l=t[7];l!==Tn(t)&&D(e,n,r,l,a);for(let p=10;p<t.length;p++){const w=t[p];Ze(w[1],w,n,e,r,l)}}(e,n,l,t,a)}}function A(n,e,t){return Ke(n)?n.createElement(e,t):null===t?n.createElement(e):n.createElementNS(t,e)}function R(n,e){const t=n[9],r=t.indexOf(e),a=e[3];1024&e[2]&&(e[2]&=-1025,al(a,-1)),t.splice(r,1)}function V(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const a=r[17];null!==a&&a!==n&&R(a,r),e>0&&(n[t-1][4]=r[4]);const l=Or(n,10+e);!function(n,e){Ze(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const h=l[19];null!==h&&h.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function F(n,e){if(!(256&e[2])){const t=e[11];Ke(t)&&t.destroyNode&&Ze(n,e,t,3,null,null),function(n){let e=n[13];if(!e)return j(n[1],n);for(;e;){let t=null;if(Ii(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ii(e)&&j(e[1],e),e=e[3];null===e&&(e=n),Ii(e)&&j(e[1],e),t=e&&e[4]}e=t}}(e)}}function j(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const a=e[t[r]];if(!(a instanceof La)){const l=t[r+1];if(Array.isArray(l))for(let h=0;h<l.length;h+=2){const p=a[l[h]],w=l[h+1];try{w.call(p)}finally{}}else try{l.call(a)}finally{}}}}(n,e),function(n,e){const t=n.cleanup,r=e[7];let a=-1;if(null!==t)for(let l=0;l<t.length-1;l+=2)if("string"==typeof t[l]){const h=t[l+1],p="function"==typeof h?h(e):Tn(e[h]),w=r[a=t[l+2]],E=t[l+3];"boolean"==typeof E?p.removeEventListener(t[l],w,E):E>=0?r[a=E]():r[a=-E].unsubscribe(),l+=2}else{const h=r[a=t[l+1]];t[l].call(h)}if(null!==r){for(let l=a+1;l<r.length;l++)r[l]();e[7]=null}}(n,e),1===e[1].type&&Ke(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Xr(e[3])){t!==e[3]&&R(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function q(n,e,t){return function(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const a=n.data[r.directiveStart].encapsulation;if(a===Kn.None||a===Kn.Emulated)return null}return kn(r,t)}(n,e.parent,t)}function Z(n,e,t,r,a){Ke(n)?n.insertBefore(e,t,r,a):e.insertBefore(t,r,a)}function W(n,e,t){Ke(n)?n.appendChild(e,t):e.appendChild(t)}function X(n,e,t,r,a){null!==r?Z(n,e,t,r,a):W(n,e,t)}function Q(n,e){return Ke(n)?n.parentNode(e):e.parentNode}let de=function(n,e,t){return 40&n.type?kn(n,t):null};function se(n,e,t,r){const a=q(n,r,e),l=e[11],p=function(n,e,t){return de(n,e,t)}(r.parent||e[6],r,e);if(null!=a)if(Array.isArray(t))for(let w=0;w<t.length;w++)X(l,a,t[w],p,!1);else X(l,a,t,p,!1)}function Y(n,e){if(null!==e){const t=e.type;if(3&t)return kn(e,n);if(4&t)return pe(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Y(n,r);{const a=n[e.index];return Xr(a)?pe(-1,a):Tn(a)}}if(32&t)return o(e,n)()||Tn(n[e.index]);{const r=oe(n,e);return null!==r?Array.isArray(r)?r[0]:Y(d(n[16]),r):Y(n,e.next)}}return null}function oe(n,e){return null!==e?n[16][6].projection[e.projection]:null}function pe(n,e){const t=10+n+1;if(t<e.length){const r=e[t],a=r[1].firstChild;if(null!==a)return Y(r,a)}return e[7]}function Me(n,e,t,r,a,l,h){for(;null!=t;){const p=r[t.index],w=t.type;if(h&&0===e&&(p&&ir(Tn(p),r),t.flags|=4),64!=(64&t.flags))if(8&w)Me(n,e,t.child,r,a,l,!1),D(e,n,a,p,l);else if(32&w){const E=o(t,r);let T;for(;T=E();)D(e,n,a,T,l);D(e,n,a,p,l)}else 16&w?xe(n,e,r,t,a,l):D(e,n,a,p,l);t=h?t.projectionNext:t.next}}function Ze(n,e,t,r,a,l){Me(t,r,n.firstChild,e,a,l,!1)}function xe(n,e,t,r,a,l){const h=t[16],w=h[6].projection[r.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)D(e,n,a,w[E],l);else Me(n,e,w,h[3],a,l,!0)}function $e(n,e,t){Ke(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function ke(n,e,t){Ke(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function je(n,e,t){let r=n.length;for(;;){const a=n.indexOf(e,t);if(-1===a)return a;if(0===a||n.charCodeAt(a-1)<=32){const l=e.length;if(a+l===r||n.charCodeAt(a+l)<=32)return a}t=a+1}}const Et="ng-template";function ht(n,e,t){let r=0;for(;r<n.length;){let a=n[r++];if(t&&"class"===a){if(a=n[r],-1!==je(a.toLowerCase(),e,0))return!0}else if(1===a){for(;r<n.length&&"string"==typeof(a=n[r++]);)if(a.toLowerCase()===e)return!0;return!1}}return!1}function _e(n){return 4===n.type&&n.value!==Et}function O(n,e,t){return e===(4!==n.type||t?n.value:Et)}function ne(n,e,t){let r=4;const a=n.attrs||[],l=function(n){for(let e=0;e<n.length;e++)if(lh(n[e]))return e;return n.length}(a);let h=!1;for(let p=0;p<e.length;p++){const w=e[p];if("number"!=typeof w){if(!h)if(4&r){if(r=2|1&r,""!==w&&!O(n,w,t)||""===w&&1===e.length){if(fe(r))return!1;h=!0}}else{const E=8&r?w:e[++p];if(8&r&&null!==n.attrs){if(!ht(n.attrs,E,t)){if(fe(r))return!1;h=!0}continue}const x=ue(8&r?"class":w,a,_e(n),t);if(-1===x){if(fe(r))return!1;h=!0;continue}if(""!==E){let k;k=x>l?"":a[x+1].toLowerCase();const H=8&r?k:null;if(H&&-1!==je(H,E,0)||2&r&&E!==k){if(fe(r))return!1;h=!0}}}}else{if(!h&&!fe(r)&&!fe(w))return!1;if(h&&fe(w))continue;h=!1,r=w|1&r}}return fe(r)||h}function fe(n){return 0==(1&n)}function ue(n,e,t,r){if(null===e)return-1;let a=0;if(r||!t){let l=!1;for(;a<e.length;){const h=e[a];if(h===n)return a;if(3===h||6===h)l=!0;else{if(1===h||2===h){let p=e[++a];for(;"string"==typeof p;)p=e[++a];continue}if(4===h)break;if(0===h){a+=4;continue}}a+=l?1:2}return-1}return function(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ce(n,e,t=!1){for(let r=0;r<e.length;r++)if(ne(n,e[r],t))return!0;return!1}function Vt(n,e){return n?":not("+e.trim()+")":e}function pt(n){let e=n[0],t=1,r=2,a="",l=!1;for(;t<n.length;){let h=n[t];if("string"==typeof h)if(2&r){const p=n[++t];a+="["+h+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?a+="."+h:4&r&&(a+=" "+h);else""!==a&&!fe(h)&&(e+=Vt(l,a),a=""),r=h,l=l||!fe(r);t++}return""!==a&&(e+=Vt(l,a)),e}const Se={};function jn(n,e,t,r){if(!r)if(3==(3&e[2])){const l=n.preOrderCheckHooks;null!==l&&dl(e,l,t)}else{const l=n.preOrderHooks;null!==l&&bu(e,l,0,t)}Oa(t)}function Sr(n,e){return n<<17|e<<2}function Qt(n){return n>>17&32767}function gi(n){return 2|n}function ar(n){return(131068&n)>>2}function ja(n,e){return-131069&n|e<<2}function Ga(n){return 1|n}function bb(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const a=t[r],l=t[r+1];if(-1!==l){const h=n.data[l];ol(a),h.contentQueries(2,e[l],l)}}}function Hd(n,e,t,r,a,l,h,p,w,E){const T=e.blueprint.slice();return T[0]=a,T[2]=140|r,rh(T),T[3]=T[15]=n,T[8]=t,T[10]=h||n&&n[10],T[11]=p||n&&n[11],T[12]=w||n&&n[12]||null,T[9]=E||n&&n[9]||null,T[6]=l,T[16]=2==e.type?n[16]:T,T}function zu(n,e,t,r,a){let l=n.data[e];if(null===l)l=function(n,e,t,r,a){const l=id(),h=_s(),w=n.data[e]=function(n,e,t,r,a,l){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,h?l:l&&l.parent,t,e,r,a);return null===n.firstChild&&(n.firstChild=w),null!==l&&(h?null==l.child&&null!==w.parent&&(l.child=w):null===l.next&&(l.next=w)),w}(n,e,t,r,a),nt.lFrame.inI18n&&(l.flags|=64);else if(64&l.type){l.type=t,l.value=r,l.attrs=a;const h=function(){const n=nt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();l.injectorIndex=null===h?-1:h.injectorIndex}return Pi(l,!0),l}function ju(n,e,t,r){if(0===t)return-1;const a=e.length;for(let l=0;l<t;l++)e.push(r),n.blueprint.push(r),n.data.push(null);return a}function $d(n,e,t){ll(e);try{const r=n.viewQuery;null!==r&&km(1,r,t);const a=n.template;null!==a&&Eb(n,e,a,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&bb(n,e),n.staticViewQueries&&km(2,n.viewQuery,t);const l=n.components;null!==l&&function(n,e){for(let t=0;t<e.length;t++)xA(n,e[t])}(e,l)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,yu()}}function qu(n,e,t,r){const a=e[2];if(256==(256&a))return;ll(e);const l=fo();try{rh(e),function(n){nt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Eb(n,e,t,2,r);const h=3==(3&a);if(!l)if(h){const E=n.preOrderCheckHooks;null!==E&&dl(e,E,null)}else{const E=n.preOrderHooks;null!==E&&bu(e,E,0,null),cd(e,0)}if(function(n){for(let e=m(n);null!==e;e=v(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const a=t[r],l=a[3];0==(1024&a[2])&&al(l,1),a[2]|=1024}}}(e),function(n){for(let e=m(n);null!==e;e=v(e))for(let t=10;t<e.length;t++){const r=e[t],a=r[1];rd(r)&&qu(a,r,a.template,r[8])}}(e),null!==n.contentQueries&&bb(n,e),!l)if(h){const E=n.contentCheckHooks;null!==E&&dl(e,E)}else{const E=n.contentHooks;null!==E&&bu(e,E,1),cd(e,1)}!function(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const a=t[r];if(a<0)Oa(~a);else{const l=a,h=t[++r],p=t[++r];ei(h,l),p(2,e[l])}}}finally{Oa(-1)}}(n,e);const p=n.components;null!==p&&function(n,e){for(let t=0;t<e.length;t++)MA(n,e[t])}(e,p);const w=n.viewQuery;if(null!==w&&km(2,w,r),!l)if(h){const E=n.viewCheckHooks;null!==E&&dl(e,E)}else{const E=n.viewHooks;null!==E&&bu(e,E,2),cd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),l||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,al(e[3],-1))}finally{yu()}}function uA(n,e,t,r){const a=e[10],l=!fo(),h=function(n){return 4==(4&n[2])}(e);try{l&&!h&&a.begin&&a.begin(),h&&$d(n,e,r),qu(n,e,t,r)}finally{l&&!h&&a.end&&a.end()}}function Eb(n,e,t,r,a){const l=nr(),h=2&r;try{Oa(-1),h&&e.length>20&&jn(n,e,20,fo()),t(r,a)}finally{Oa(l)}}function Tm(n,e,t){!ih()||(function(n,e,t,r){const a=t.directiveStart,l=t.directiveEnd;n.firstCreatePass||wn(t,e),ir(r,e);const h=t.initialInputs;for(let p=a;p<l;p++){const w=n.data[p],E=hi(w);E&&CA(e,t,w);const T=yo(e,n,p,t);ir(T,e),null!==h&&_A(0,p-a,T,w,0,h),E&&(Fr(t.index,e)[8]=T)}}(n,e,t,kn(t,e)),128==(128&t.flags)&&function(n,e,t){const r=t.directiveStart,a=t.directiveEnd,h=t.index,p=nt.lFrame.currentDirectiveIndex;try{Oa(h);for(let w=r;w<a;w++){const E=n.data[w],T=e[w];sa(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Ib(E,T)}}finally{Oa(-1),sa(p)}}(n,e,t))}function Am(n,e,t=kn){const r=e.localNames;if(null!==r){let a=e.index+1;for(let l=0;l<r.length;l+=2){const h=r[l+1],p=-1===h?t(e,n):n[h];n[a++]=p}}}function Cb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ip(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function ip(n,e,t,r,a,l,h,p,w,E){const T=20+r,x=T+a,k=function(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Se);return t}(T,x),H="function"==typeof E?E():E;return k[1]={type:n,blueprint:k,template:t,queries:null,viewQuery:p,declTNode:e,data:k.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof h?h():h,firstChild:null,schemas:w,consts:H,incompleteFirstPass:!1}}function Ab(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const a=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,a):t[r]=[e,a]}return t}function Mm(n,e,t,r){let a=!1;if(ih()){const l=function(n,e,t){const r=n.directiveRegistry;let a=null;if(r)for(let l=0;l<r.length;l++){const h=r[l];ce(t,h.selectors,!1)&&(a||(a=[]),Tu(wn(t,e),n,h.type),hi(h)?(Pb(n,t),a.unshift(h)):a.push(h))}return a}(n,e,t),h=null===r?null:{"":-1};if(null!==l){a=!0,Rb(t,n.data.length,l.length);for(let T=0;T<l.length;T++){const x=l[T];x.providersResolver&&x.providersResolver(x)}let p=!1,w=!1,E=ju(n,e,l.length,null);for(let T=0;T<l.length;T++){const x=l[T];t.mergedAttrs=Ms(t.mergedAttrs,x.hostAttrs),Nb(n,t,e,E,x),DA(E,x,h),null!==x.contentQueries&&(t.flags|=8),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(t.flags|=128);const k=x.type.prototype;!p&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),p=!0),!w&&(k.ngOnChanges||k.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),w=!0),E++}!function(n,e){const r=e.directiveEnd,a=n.data,l=e.attrs,h=[];let p=null,w=null;for(let E=e.directiveStart;E<r;E++){const T=a[E],x=T.inputs,k=null===l||_e(e)?null:SA(x,l);h.push(k),p=Ab(x,E,p),w=Ab(T.outputs,E,w)}null!==p&&(p.hasOwnProperty("class")&&(e.flags|=16),p.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=h,e.inputs=p,e.outputs=w}(n,t)}h&&function(n,e,t){if(e){const r=n.localNames=[];for(let a=0;a<e.length;a+=2){const l=t[e[a+1]];if(null==l)throw new xr("301",`Export of name '${e[a+1]}' not found!`);r.push(e[a],l)}}}(t,r,h)}return t.mergedAttrs=Ms(t.mergedAttrs,t.attrs),a}function xb(n,e,t,r,a,l){const h=l.hostBindings;if(h){let p=n.hostBindingOpCodes;null===p&&(p=n.hostBindingOpCodes=[]);const w=~e.index;(function(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(p)!=w&&p.push(w),p.push(r,a,h)}}function Ib(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Pb(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function DA(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hi(e)&&(t[""]=n)}}function Rb(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Nb(n,e,t,r,a){n.data[r]=a;const l=a.factory||(a.factory=Ra(a.type)),h=new La(l,hi(a),null);n.blueprint[r]=h,t[r]=h,xb(n,e,0,r,ju(n,t,a.hostVars,Se),a)}function CA(n,e,t){const r=kn(e,n),a=Cb(t),l=n[10],h=ap(n,Hd(n,a,null,t.onPush?64:16,r,e,l,l.createRenderer(r,t),null,null));n[e.index]=h}function Qa(n,e,t,r,a,l){const h=kn(n,e);!function(n,e,t,r,a,l,h){if(null==l)Ke(n)?n.removeAttribute(e,a,t):e.removeAttribute(a);else{const p=null==h?tt(l):h(l,r||"",a);Ke(n)?n.setAttribute(e,a,p,t):t?e.setAttributeNS(t,a,p):e.setAttribute(a,p)}}(e[11],h,l,n.value,t,r,a)}function _A(n,e,t,r,a,l){const h=l[e];if(null!==h){const p=r.setInput;for(let w=0;w<h.length;){const E=h[w++],T=h[w++],x=h[w++];null!==p?r.setInput(t,x,E,T):t[T]=x}}}function SA(n,e){let t=null,r=0;for(;r<e.length;){const a=e[r];if(0!==a)if(5!==a){if("number"==typeof a)break;n.hasOwnProperty(a)&&(null===t&&(t=[]),t.push(a,n[a],e[r+1])),r+=2}else r+=2;else r+=4}return t}function kb(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function MA(n,e){const t=Fr(e,n);if(rd(t)){const r=t[1];80&t[2]?qu(r,t,r.template,t[8]):t[5]>0&&Im(t)}}function Im(n){for(let r=m(n);null!==r;r=v(r))for(let a=10;a<r.length;a++){const l=r[a];if(1024&l[2]){const h=l[1];qu(h,l,h.template,l[8])}else l[5]>0&&Im(l)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const a=Fr(t[r],n);rd(a)&&a[5]>0&&Im(a)}}function xA(n,e){const t=Fr(e,n),r=t[1];(function(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),$d(r,t,t[8])}function ap(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Pm(n){for(;n;){n[2]|=64;const e=d(n);if(Wf(n)&&!e)return n;n=e}return null}function Nm(n,e,t){const r=e[10];r.begin&&r.begin();try{qu(n,e,n.template,t)}catch(a){throw Vb(e,a),a}finally{r.end&&r.end()}}function Fb(n){!function(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Vl(t),a=r[1];uA(a,r,a.template,t)}}(n[8])}function km(n,e,t){ol(0),e(n,t)}const kA=(()=>Promise.resolve(null))();function Ob(n){return n[7]||(n[7]=[])}function Lb(n){return n.cleanup||(n.cleanup=[])}function Vb(n,e){const t=n[9],r=t?t.get(No,null):null;r&&r.handleError(e)}function Hb(n,e,t,r,a){for(let l=0;l<t.length;){const h=t[l++],p=t[l++],w=e[h],E=n.data[h];null!==E.setInput?E.setInput(w,a,r,p):w[p]=a}}function sp(n,e,t){let r=t?n.styles:null,a=t?n.classes:null,l=0;if(null!==e)for(let h=0;h<e.length;h++){const p=e[h];"number"==typeof p?l=p:1==l?a=Vc(a,p):2==l&&(r=Vc(r,p+": "+e[++h]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=a:n.classesWithoutHost=a}const Fm=new st("INJECTOR",-1);class $b{get(e,t=Cl){if(t===Cl){const r=new Error(`NullInjectorError: No provider for ${Tt(e)}!`);throw r.name="NullInjectorError",r}return t}}const Om=new st("Set Injector scope."),Ud={},LA={};let Lm;function Ub(){return void 0===Lm&&(Lm=new $b),Lm}function zb(n,e=null,t=null,r){const a=jb(n,e,t,r);return a._resolveInjectorDefTypes(),a}function jb(n,e=null,t=null,r){return new BA(n,t,e||Ub(),r)}class BA{constructor(e,t,r,a=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const l=[];t&&_r(t,p=>this.processProvider(p,e,t)),_r([e],p=>this.processInjectorType(p,[],l)),this.records.set(Fm,Gu(void 0,this));const h=this.records.get(Om);this.scope=null!=h?h.value:null,this.source=a||("object"==typeof e?null:Tt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Cl,r=at.Default){this.assertNotDestroyed();const a=wh(this),l=Da(void 0);try{if(!(r&at.SkipSelf)){let p=this.records.get(e);if(void 0===p){const w=("function"==typeof(n=e)||"object"==typeof n&&n instanceof st)&&Jo(e);p=w&&this.injectableDefInScope(w)?Gu(Bm(e),Ud):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(r&at.Self?Ub():this.parent).get(e,t=r&at.Optional&&t===Cl?null:t)}catch(h){if("NullInjectorError"===h.name){if((h[Ru]=h[Ru]||[]).unshift(Tt(e)),a)throw h;return function(n,e,t,r){const a=n[Ru];throw e[mh]&&a.unshift(e[mh]),n.message=function(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let a=Tt(e);if(Array.isArray(e))a=e.map(Tt).join(" -> ");else if("object"==typeof e){let l=[];for(let h in e)if(e.hasOwnProperty(h)){let p=e[h];l.push(h+":"+("string"==typeof p?JSON.stringify(p):Tt(p)))}a=`{${l.join(", ")}}`}return`${t}${r?"("+r+")":""}[${a}]: ${n.replace(Hv,"\n  ")}`}("\n"+n.message,a,t,r),n.ngTokenPath=a,n[Ru]=null,n}(h,e,"R3InjectorError",this.source)}throw h}finally{Da(l),wh(a)}var n}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,a)=>e.push(Tt(a))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,r){if(!(e=ct(e)))return!1;let a=Uf(e);const l=null==a&&e.ngModule||void 0,h=void 0===l?e:l,p=-1!==r.indexOf(h);if(void 0!==l&&(a=Uf(l)),null==a)return!1;if(null!=a.imports&&!p){let T;r.push(h);try{_r(a.imports,x=>{this.processInjectorType(x,t,r)&&(void 0===T&&(T=[]),T.push(x))})}finally{}if(void 0!==T)for(let x=0;x<T.length;x++){const{ngModule:k,providers:H}=T[x];_r(H,G=>this.processProvider(G,k,H||zt))}}this.injectorDefTypes.add(h);const w=Ra(h)||(()=>new h);this.records.set(h,Gu(w,Ud));const E=a.providers;if(null!=E&&!p){const T=e;_r(E,x=>this.processProvider(x,T,E))}return void 0!==l&&void 0!==e.providers}processProvider(e,t,r){let a=Wu(e=ct(e))?e:ct(e&&e.provide);const l=function(n,e,t){return Gb(n)?Gu(void 0,n.useValue):Gu(qb(n),Ud)}(e);if(Wu(e)||!0!==e.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Gu(void 0,Ud,!0),h.factory=()=>Co(h.multi),this.records.set(a,h)),a=e,h.multi.push(e)}this.records.set(a,l)}hydrate(e,t){return t.value===Ud&&(t.value=LA,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ct(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Bm(n){const e=Jo(n),t=null!==e?e.factory:Ra(n);if(null!==t)return t;if(n instanceof st)throw new Error(`Token ${Tt(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const e=n.length;if(e>0){const r=function(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?");throw new Error(`Can't resolve all parameters for ${Tt(n)}: (${r.join(", ")}).`)}const t=function(n){const e=n&&(n[el]||n[zf]);if(e){const t=function(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Error("unreachable")}function qb(n,e,t){let r;if(Wu(n)){const a=ct(n);return Ra(a)||Bm(a)}if(Gb(n))r=()=>ct(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Co(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))r=()=>Ue(ct(n.useExisting));else{const a=ct(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return Ra(a)||Bm(a);r=()=>new a(...Co(n.deps))}return r}function Gu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gb(n){return null!==n&&"object"==typeof n&&yh in n}function Wu(n){return"function"==typeof n}let Tr=(()=>{class n{static create(t,r){var a;if(Array.isArray(t))return zb({name:""},r,t,"");{const l=null!=(a=t.name)?a:"";return zb({name:l},t.parent,t.providers,l)}}}return n.THROW_IF_NOT_FOUND=Cl,n.NULL=new $b,n.\u0275prov=ft({token:n,providedIn:"any",factory:()=>Ue(Fm)}),n.__NG_ELEMENT_ID__=-1,n})();function eM(n,e){wu(Vl(n)[1],yn())}function an(n){let e=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let a;if(hi(n))a=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");a=e.\u0275dir}if(a){if(t){r.push(a);const h=n;h.inputs=$m(n.inputs),h.declaredInputs=$m(n.declaredInputs),h.outputs=$m(n.outputs);const p=a.hostBindings;p&&iM(n,p);const w=a.viewQuery,E=a.contentQueries;if(w&&nM(n,w),E&&rM(n,E),Bc(n.inputs,a.inputs),Bc(n.declaredInputs,a.declaredInputs),Bc(n.outputs,a.outputs),hi(a)&&a.data.animation){const T=n.data;T.animation=(T.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let h=0;h<l.length;h++){const p=l[h];p&&p.ngInherit&&p(n),p===an&&(t=!1)}}e=Object.getPrototypeOf(e)}!function(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const a=n[r];a.hostVars=e+=a.hostVars,a.hostAttrs=Ms(a.hostAttrs,t=Ms(t,a.hostAttrs))}}(r)}function $m(n){return n===vs?{}:n===zt?[]:n}function nM(n,e){const t=n.viewQuery;n.viewQuery=t?(r,a)=>{e(r,a),t(r,a)}:e}function rM(n,e){const t=n.contentQueries;n.contentQueries=t?(r,a,l)=>{e(r,a,l),t(r,a,l)}:e}function iM(n,e){const t=n.hostBindings;n.hostBindings=t?(r,a)=>{e(r,a),t(r,a)}:e}let op=null;function Ku(){if(!op){const n=Gt.Symbol;if(n&&n.iterator)op=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(op=r)}}}return op}function zd(n){return!!Um(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ku()in n)}function Um(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ar(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Za(n,e,t,r){const a=me();return Ar(a,Ss(),e)&&(rt(),Qa(dn(),a,n,e,t,r)),Za}function De(n,e=at.Default){const t=me();return null===t?Ue(n,e):la(yn(),t,ct(n),e)}function Wm(){throw new Error("invalid")}function ac(n,e,t){const r=me();return Ar(r,Ss(),e)&&function(n,e,t,r,a,l,h,p){const w=kn(e,t);let T,E=e.inputs;!p&&null!=E&&(T=E[r])?(Hb(n,t,T,r,a),pu(e)&&function(n,e){const t=Fr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),a=null!=h?h(a,e.value||"",r):a,Ke(l)?l.setProperty(w,r,a):dd(r)||(w.setProperty?w.setProperty(r,a):w[r]=a))}(rt(),dn(),r,n,e,r[11],t,!1),ac}function Km(n,e,t,r,a){const h=a?"class":"style";Hb(n,t,e.inputs[h],h,r)}function Xe(n,e,t,r){const a=me(),l=rt(),h=20+n,p=a[11],w=a[h]=A(p,e,nt.lFrame.currentNamespace),E=l.firstCreatePass?function(n,e,t,r,a,l,h){const p=e.consts,E=zu(e,n,2,a,Na(p,l));return Mm(e,t,E,Na(p,h)),null!==E.attrs&&sp(E,E.attrs,!1),null!==E.mergedAttrs&&sp(E,E.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,E),E}(h,l,a,0,e,t,r):l.data[h];Pi(E,!0);const T=E.mergedAttrs;null!==T&&fl(p,w,T);const x=E.classes;null!==x&&ke(p,w,x);const k=E.styles;null!==k&&$e(p,w,k),64!=(64&E.flags)&&se(l,a,w,E),0===nt.lFrame.elementDepthCount&&ir(w,a),nt.lFrame.elementDepthCount++,gu(E)&&(Tm(l,a,E),function(n,e,t){if(Qc(e)){const a=e.directiveEnd;for(let l=e.directiveStart;l<a;l++){const h=n.data[l];h.contentQueries&&h.contentQueries(1,t[l],l)}}}(l,E,a)),null!==r&&Am(a,E)}function Je(){let n=yn();_s()?nt.lFrame.isParent=!1:(n=n.parent,Pi(n,!1));const e=n;nt.lFrame.elementDepthCount--;const t=rt();t.firstCreatePass&&(wu(t,n),Qc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(e)&&Km(t,e,me(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(e)&&Km(t,e,me(),e.stylesWithoutHost,!1)}function Ls(n,e,t,r){Xe(n,e,t,r),Je()}function qd(n){return!!n&&"function"==typeof n.then}const Qm=function(n){return!!n&&"function"==typeof n.subscribe};function yr(n,e,t,r){const a=me(),l=rt(),h=yn();return function(n,e,t,r,a,l,h,p){const w=gu(r),T=n.firstCreatePass&&Lb(n),x=e[8],k=Ob(e);let H=!0;if(3&r.type||p){const re=kn(r,e),ge=p?p(re):re,te=k.length,Ae=p?Le=>p(Tn(Le[r.index])):r.index;if(Ke(t)){let Le=null;if(!p&&w&&(Le=function(n,e,t,r){const a=n.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const h=a[l];if(h===t&&a[l+1]===r){const p=e[7],w=a[l+2];return p.length>w?p[w]:null}"string"==typeof h&&(l+=2)}return null}(n,e,a,r.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=l,Le.__ngLastListenerFn__=l,H=!1;else{l=Ym(r,e,x,l,!1);const gt=t.listen(ge,a,l);k.push(l,gt),T&&T.push(a,Ae,te,te+1)}}else l=Ym(r,e,x,l,!0),ge.addEventListener(a,l,h),k.push(l),T&&T.push(a,Ae,te,h)}else l=Ym(r,e,x,l,!1);const G=r.outputs;let J;if(H&&null!==G&&(J=G[a])){const re=J.length;if(re)for(let ge=0;ge<re;ge+=2){const hn=e[J[ge]][J[ge+1]].subscribe(l),Dn=k.length;k.push(l,hn),T&&T.push(a,r.index,Dn,-(Dn+1))}}}(l,a,a[11],h,n,e,!!t,r),yr}function RE(n,e,t,r){try{return!1!==t(r)}catch(a){return Vb(n,a),!1}}function Ym(n,e,t,r,a){return function l(h){if(h===Function)return r;const p=2&n.flags?Fr(n.index,e):e;0==(32&e[2])&&Pm(p);let w=RE(e,0,r,h),E=l.__ngNextListenerFn__;for(;E;)w=RE(e,0,E,h)&&w,E=E.__ngNextListenerFn__;return a&&!1===w&&(h.preventDefault(),h.returnValue=!1),w}}function NE(n=1){return function(n){return(nt.lFrame.contextLView=function(n,e){for(;n>0;)e=e[15],n--;return e}(n,nt.lFrame.contextLView))[8]}(n)}function zE(n,e,t,r,a){const l=n[t+1],h=null===e;let p=r?Qt(l):ar(l),w=!1;for(;0!==p&&(!1===w||h);){const T=n[p+1];$M(n[p],e)&&(w=!0,n[p+1]=r?Ga(T):gi(T)),p=r?Qt(T):ar(T)}w&&(n[t+1]=r?gi(l):Ga(l))}function $M(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ni(n,e)>=0}function cp(n,e){return function(n,e,t,r){const a=me(),l=rt(),h=function(n){const e=nt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);l.firstUpdatePass&&function(n,e,t,r){const a=n.data;if(null===a[t+1]){const l=a[nr()],h=function(n,e){return e>=n.expandoStartIndex}(n,t);(function(n,e){return 0!=(n.flags&(e?16:32))})(l,r)&&null===e&&!h&&(e=!1),e=function(n,e,t,r){const a=function(n){const e=nt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let l=r?e.residualClasses:e.residualStyles;if(null===a)0===(r?e.classBindings:e.styleBindings)&&(t=Gd(t=Xm(null,n,e,t,r),e.attrs,r),l=null);else{const h=e.directiveStylingLast;if(-1===h||n[h]!==a)if(t=Xm(a,n,e,t,r),null===l){let w=function(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ar(r))return n[Qt(r)]}(n,e,r);void 0!==w&&Array.isArray(w)&&(w=Xm(null,n,e,w[1],r),w=Gd(w,e.attrs,r),function(n,e,t,r){n[Qt(t?e.classBindings:e.styleBindings)]=r}(n,e,r,w))}else l=function(n,e,t){let r;const a=e.directiveEnd;for(let l=1+e.directiveStylingLast;l<a;l++)r=Gd(r,n[l].hostAttrs,t);return Gd(r,e.attrs,t)}(n,e,r)}return void 0!==l&&(r?e.residualClasses=l:e.residualStyles=l),t}(a,l,e,r),function(n,e,t,r,a,l){let h=l?e.classBindings:e.styleBindings,p=Qt(h),w=ar(h);n[r]=t;let T,E=!1;if(Array.isArray(t)){const x=t;T=x[1],(null===T||Ni(x,T)>0)&&(E=!0)}else T=t;if(a)if(0!==w){const k=Qt(n[p+1]);n[r+1]=Sr(k,p),0!==k&&(n[k+1]=ja(n[k+1],r)),n[p+1]=function(n,e){return 131071&n|e<<17}(n[p+1],r)}else n[r+1]=Sr(p,0),0!==p&&(n[p+1]=ja(n[p+1],r)),p=r;else n[r+1]=Sr(w,0),0===p?p=r:n[w+1]=ja(n[w+1],r),w=r;E&&(n[r+1]=gi(n[r+1])),zE(n,T,r,!0),zE(n,T,r,!1),function(n,e,t,r,a){const l=a?n.residualClasses:n.residualStyles;null!=l&&"string"==typeof e&&Ni(l,e)>=0&&(t[r+1]=Ga(t[r+1]))}(e,T,n,r,l),h=Sr(p,w),l?e.classBindings=h:e.styleBindings=h}(a,l,e,t,h,r)}}(l,n,h,r),e!==Se&&Ar(a,h,e)&&function(n,e,t,r,a,l,h,p){if(!(3&e.type))return;const w=n.data,E=w[p+1];dp(function(n){return 1==(1&n)}(E)?tD(w,e,t,a,ar(E),h):void 0)||(dp(l)||function(n){return 2==(2&n)}(E)&&(l=tD(w,null,t,a,p,h)),function(n,e,t,r,a){const l=Ke(n);if(e)a?l?n.addClass(t,r):t.classList.add(r):l?n.removeClass(t,r):t.classList.remove(r);else{let h=-1===r.indexOf("-")?void 0:s.DashCase;if(null==a)l?n.removeStyle(t,r,h):t.style.removeProperty(r);else{const p="string"==typeof a&&a.endsWith("!important");p&&(a=a.slice(0,-10),h|=s.Important),l?n.setStyle(t,r,a,h):t.style.setProperty(r,a,p?"important":"")}}}(r,h,function(n,e){return Tn(e[n])}(nr(),t),a,l))}(l,l.data[nr()],a,a[11],n,a[h+1]=function(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Tt(function(n){return n instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,h)}(n,e,null,!0),cp}function Xm(n,e,t,r,a){let l=null;const h=t.directiveEnd;let p=t.directiveStylingLast;for(-1===p?p=t.directiveStart:p++;p<h&&(l=e[p],r=Gd(r,l.hostAttrs,a),l!==n);)p++;return null!==n&&(t.directiveStylingLast=p),r}function Gd(n,e,t){const r=t?1:2;let a=-1;if(null!==e)for(let l=0;l<e.length;l++){const h=e[l];"number"==typeof h?a=h:a===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Lr(n,h,!!t||e[++l]))}return void 0===n?null:n}function tD(n,e,t,r,a,l){const h=null===e;let p;for(;a>0;){const w=n[a],E=Array.isArray(w),T=E?w[1]:w,x=null===T;let k=t[a+1];k===Se&&(k=x?zt:void 0);let H=x?ua(k,r):T===r?k:void 0;if(E&&!dp(H)&&(H=ua(w,r)),dp(H)&&(p=H,h))return p;const G=n[a+1];a=h?Qt(G):ar(G)}if(null!==e){let w=l?e.residualClasses:e.residualStyles;null!=w&&(p=ua(w,r))}return p}function dp(n){return void 0!==n}function wr(n,e=""){const t=me(),r=rt(),a=n+20,l=r.firstCreatePass?zu(r,a,1,e,null):r.data[a],h=t[a]=function(n,e){return Ke(n)?n.createText(e):n.createTextNode(e)}(t[11],e);se(r,t,h,l),Pi(l,!1)}const jl=void 0;var Dx=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let oc={};function _D(n){return n in oc||(oc[n]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[n]),oc[n]}var Pe=(()=>((Pe=Pe||{})[Pe.LocaleId=0]="LocaleId",Pe[Pe.DayPeriodsFormat=1]="DayPeriodsFormat",Pe[Pe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pe[Pe.DaysFormat=3]="DaysFormat",Pe[Pe.DaysStandalone=4]="DaysStandalone",Pe[Pe.MonthsFormat=5]="MonthsFormat",Pe[Pe.MonthsStandalone=6]="MonthsStandalone",Pe[Pe.Eras=7]="Eras",Pe[Pe.FirstDayOfWeek=8]="FirstDayOfWeek",Pe[Pe.WeekendRange=9]="WeekendRange",Pe[Pe.DateFormat=10]="DateFormat",Pe[Pe.TimeFormat=11]="TimeFormat",Pe[Pe.DateTimeFormat=12]="DateTimeFormat",Pe[Pe.NumberSymbols=13]="NumberSymbols",Pe[Pe.NumberFormats=14]="NumberFormats",Pe[Pe.CurrencyCode=15]="CurrencyCode",Pe[Pe.CurrencySymbol=16]="CurrencySymbol",Pe[Pe.CurrencyName=17]="CurrencyName",Pe[Pe.Currencies=18]="Currencies",Pe[Pe.Directionality=19]="Directionality",Pe[Pe.PluralCase=20]="PluralCase",Pe[Pe.ExtraData=21]="ExtraData",Pe))();const fp="en-US";let SD=fp;function ny(n,e,t,r,a){if(n=ct(n),Array.isArray(n))for(let l=0;l<n.length;l++)ny(n[l],e,t,r,a);else{const l=rt(),h=me();let p=Wu(n)?n:ct(n.provide),w=qb(n);const E=yn(),T=1048575&E.providerIndexes,x=E.directiveStart,k=E.providerIndexes>>20;if(Wu(n)||!n.multi){const H=new La(w,a,De),G=iy(p,e,a?T:T+k,x);-1===G?(Tu(wn(E,h),l,p),ry(l,n,e.length),e.push(p),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),t.push(H),h.push(H)):(t[G]=H,h[G]=H)}else{const H=iy(p,e,T+k,x),G=iy(p,e,T,T+k),J=H>=0&&t[H],re=G>=0&&t[G];if(a&&!re||!a&&!J){Tu(wn(E,h),l,p);const ge=function(n,e,t,r,a){const l=new La(n,t,De);return l.multi=[],l.index=e,l.componentProviders=0,QD(l,a,r&&!t),l}(a?bI:wI,t.length,a,r,w);!a&&re&&(t[G].providerFactory=ge),ry(l,n,e.length,0),e.push(p),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),t.push(ge),h.push(ge)}else ry(l,n,H>-1?H:G,QD(t[a?G:H],w,!a&&r));!a&&r&&re&&t[G].componentProviders++}}}function ry(n,e,t,r){const a=Wu(e),l=function(n){return!!n.useClass}(e);if(a||l){const w=(l?ct(e.useClass):e).prototype.ngOnDestroy;if(w){const E=n.destroyHooks||(n.destroyHooks=[]);if(!a&&e.multi){const T=E.indexOf(t);-1===T?E.push(t,[r,w]):E[T+1].push(r,w)}else E.push(t,w)}}}function QD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function iy(n,e,t,r){for(let a=t;a<r;a++)if(e[a]===n)return a;return-1}function wI(n,e,t,r){return ay(this.multi,[])}function bI(n,e,t,r){const a=this.multi;let l;if(this.providerFactory){const h=this.providerFactory.componentProviders,p=yo(t,t[1],this.providerFactory.index,r);l=p.slice(0,h),ay(a,l);for(let w=h;w<p.length;w++)l.push(p[w])}else l=[],ay(a,l);return l}function ay(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function fn(n,e=[]){return t=>{t.providersResolver=(r,a)=>function(n,e,t){const r=rt();if(r.firstCreatePass){const a=hi(n);ny(t,r.data,r.blueprint,a,!0),ny(e,r.data,r.blueprint,a,!1)}}(r,a?a(n):n,e)}}class YD{}class _I{resolveComponentFactory(e){throw function(n){const e=Error(`No component factory found for ${Tt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let uc=(()=>{class n{}return n.NULL=new _I,n})();function SI(){return cc(yn(),me())}function cc(n,e){return new mi(kn(n,e))}let mi=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=SI,n})();class Zd{}let Bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=me(),t=Fr(yn().index,n);return function(n){return n[11]}(Ii(t)?t:n)}(),n})(),xI=(()=>{class n{}return n.\u0275prov=ft({token:n,providedIn:"root",factory:()=>null}),n})();class Xd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const II=new Xd("13.0.3"),sy={};function mp(n,e,t,r,a=!1){for(;null!==t;){const l=e[t.index];if(null!==l&&r.push(Tn(l)),Xr(l))for(let p=10;p<l.length;p++){const w=l[p],E=w[1].firstChild;null!==E&&mp(w[1],w,E,r)}const h=t.type;if(8&h)mp(n,e,t.child,r);else if(32&h){const p=o(t,e);let w;for(;w=p();)r.push(w)}else if(16&h){const p=oe(e,t);if(Array.isArray(p))r.push(...p);else{const w=d(e[16]);mp(w[1],w,p,r,!0)}}t=a?t.projectionNext:t.next}return r}class Jd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return mp(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Xr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(V(e,r),Or(t,r))}this._attachedToViewContainer=!1}F(this._lView[1],this._lView)}onDestroy(e){!function(n,e,t,r){const a=Ob(e);null===t?a.push(r):(a.push(t),n.firstCreatePass&&Lb(n).push(r,a.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Pm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,e,t){ra(!0);try{Nm(n,e,t)}finally{ra(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Ze(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class PI extends Jd{constructor(e){super(e),this._view=e}detectChanges(){Fb(this._view)}checkNoChanges(){!function(n){ra(!0);try{Fb(n)}finally{ra(!1)}}(this._view)}get context(){return null}}class XD extends uc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Qn(e);return new oy(t,this.ngModule)}}function JD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}const NI=new st("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Od});class oy extends YD{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(pt).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return JD(this.componentDef.inputs)}get outputs(){return JD(this.componentDef.outputs)}create(e,t,r,a){const l=(a=a||this.ngModule)?function(n,e){return{get:(t,r,a)=>{const l=n.get(t,sy,a);return l!==sy||r===sy?l:e.get(t,r,a)}}}(e,a.injector):e,h=l.get(Zd,Ne),p=l.get(xI,null),w=h.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",T=r?function(n,e,t){if(Ke(n))return n.selectRootElement(e,t===Kn.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(w,r,this.componentDef.encapsulation):A(h.createRenderer(null,this.componentDef),E,function(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(E)),x=this.componentDef.onPush?576:528,k=function(n,e){return{components:[],scheduler:n||Od,clean:kA,playerHandler:e||null,flags:0}}(),H=ip(0,null,null,1,0,null,null,null,null,null),G=Hd(null,H,k,x,null,null,h,w,p,l);let J,re;ll(G);try{const ge=function(n,e,t,r,a,l){const h=t[1];t[20]=n;const w=zu(h,20,2,"#host",null),E=w.mergedAttrs=e.hostAttrs;null!==E&&(sp(w,E,!0),null!==n&&(fl(a,n,E),null!==w.classes&&ke(a,n,w.classes),null!==w.styles&&$e(a,n,w.styles)));const T=r.createRenderer(n,e),x=Hd(t,Cb(e),null,e.onPush?64:16,t[20],w,r,T,l||null,null);return h.firstCreatePass&&(Tu(wn(w,t),h,e.type),Pb(h,w),Rb(w,t.length,1)),ap(t,x),t[20]=x}(T,this.componentDef,G,h,w);if(T)if(r)fl(w,T,["ng-version",II.full]);else{const{attrs:te,classes:Ae}=function(n){const e=[],t=[];let r=1,a=2;for(;r<n.length;){let l=n[r];if("string"==typeof l)2===a?""!==l&&e.push(l,n[++r]):8===a&&t.push(l);else{if(!fe(a))break;a=l}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);te&&fl(w,T,te),Ae&&Ae.length>0&&ke(w,T,Ae.join(" "))}if(re=nd(H,20),void 0!==t){const te=re.projection=[];for(let Ae=0;Ae<this.ngContentSelectors.length;Ae++){const Le=t[Ae];te.push(null!=Le?Array.from(Le):null)}}J=function(n,e,t,r,a){const l=t[1],h=function(n,e,t){const r=yn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Nb(n,r,e,ju(n,e,1,null),t));const a=yo(e,n,r.directiveStart,r);ir(a,e);const l=kn(r,e);return l&&ir(l,e),a}(l,t,e);if(r.components.push(h),n[8]=h,a&&a.forEach(w=>w(h,e)),e.contentQueries){const w=yn();e.contentQueries(1,h,w.directiveStart)}const p=yn();return!l.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oa(p.index),xb(t[1],p,0,p.directiveStart,p.directiveEnd,e),Ib(e,h)),h}(ge,this.componentDef,G,k,[eM]),$d(H,G,null)}finally{yu()}return new OI(this.componentType,J,cc(re,G),G,re)}}class OI extends class{}{constructor(e,t,r,a,l){super(),this.location=r,this._rootLView=a,this._tNode=l,this.instance=t,this.hostView=this.changeDetectorRef=new PI(a),this.componentType=e}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Vs{}class eC{}const dc=new Map;class rC extends Vs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XD(this);const r=Qr(e);this._bootstrapComponents=ri(r.bootstrap),this._r3Injector=jb(e,t,[{provide:Vs,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],Tt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Tr.THROW_IF_NOT_FOUND,r=at.Default){return e===Tr||e===Vs||e===Fm?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ly extends eC{constructor(e){super(),this.moduleType=e,null!==Qr(e)&&function(n){const e=new Set;!function t(r){const a=Qr(r,!0),l=a.id;null!==l&&(function(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Tt(e)} vs ${Tt(e.name)}`)}(l,dc.get(l),r),dc.set(l,r));const h=ri(a.imports);for(const p of h)e.has(p)||(e.add(p),t(p))}(n)}(e)}create(e){return new rC(this.moduleType,e)}}function uy(n){return e=>{setTimeout(n,void 0,e)}}const xn=class extends Vn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var w,E,T;let a=e,l=t||(()=>null),h=r;if(e&&"object"==typeof e){const x=e;a=null==(w=x.next)?void 0:w.bind(x),l=null==(E=x.error)?void 0:E.bind(x),h=null==(T=x.complete)?void 0:T.bind(x)}this.__isAsync&&(l=uy(l),a&&(a=uy(a)),h&&(h=uy(h)));const p=super.subscribe({next:a,error:l,complete:h});return e instanceof Cn&&e.add(p),p}};Symbol;let Hs=(()=>{class n{}return n.__NG_ELEMENT_ID__=sP,n})();const iP=Hs,aP=class extends iP{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Hd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const l=this._declarationLView[19];return null!==l&&(r[19]=l.createEmbeddedView(t)),$d(t,r,e),new Jd(r)}};function sP(){return function(n,e){return 4&n.type?new aP(e,n,cc(n,e)):null}(yn(),me())}let ga=(()=>{class n{}return n.__NG_ELEMENT_ID__=oP,n})();function oP(){return function(n,e){let t;const r=e[n.index];if(Xr(r))t=r;else{let a;if(8&n.type)a=Tn(r);else{const l=e[11];a=l.createComment("");const h=kn(n,e);Z(l,Q(l,h),a,function(n,e){return Ke(n)?n.nextSibling(e):e.nextSibling}(l,h),!1)}e[n.index]=t=kb(r,e,a,n),ap(e,t)}return new uC(t,n,e)}(yn(),me())}const lP=ga,uC=class extends lP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return cc(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){const e=oa(this._hostTNode,this._hostLView);if(hd(e)){const t=xs(e,this._hostLView),r=bt(e);return new Is(t[1].data[r+8],t)}return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=cC(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const a=e.createEmbeddedView(t||{});return this.insert(a,r),a}createComponent(e,t,r,a,l){const h=e&&!function(n){return"function"==typeof n}(e);let p;if(h)p=t;else{const x=t||{};p=x.index,r=x.injector,a=x.projectableNodes,l=x.ngModuleRef}const w=h?e:new oy(Qn(e)),E=r||this.parentInjector;if(!l&&null==w.ngModule&&E){const x=E.get(Vs,null);x&&(l=x)}const T=w.create(E,a,void 0,l);return this.insert(T.hostView,p),T}insert(e,t){const r=e._lView,a=r[1];if(Xr(r[3])){const T=this.indexOf(e);if(-1!==T)this.detach(T);else{const x=r[3],k=new uC(x,x[6],x[3]);k.detach(k.indexOf(e))}}const l=this._adjustIndex(t),h=this._lContainer;!function(n,e,t,r){const a=10+r,l=t.length;r>0&&(t[a-1][4]=e),r<l-10?(e[4]=t[a],Mu(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const h=e[17];null!==h&&t!==h&&function(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(h,e);const p=e[19];null!==p&&p.insertView(n),e[2]|=128}(a,r,h,l);const p=pe(l,h),w=r[11],E=Q(w,h[7]);return null!==E&&function(n,e,t,r,a,l){r[0]=a,r[6]=e,Ze(n,r,t,1,a,l)}(a,h[6],w,r,E,p),e.attachToViewContainerRef(),Mu(dy(h),l,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=cC(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=V(this._lContainer,t);r&&(Or(dy(this._lContainer),t),F(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=V(this._lContainer,t);return r&&null!=Or(dy(this._lContainer),t)?new Jd(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function cC(n){return n[8]}function dy(n){return n[8]||(n[8]=[])}function Ep(...n){}const Dp=new st("Application Initializer");let hc=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Ep,this.reject=Ep,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const l=this.appInits[a]();if(qd(l))t.push(l);else if(Qm(l)){const h=new Promise((p,w)=>{l.subscribe({complete:p,error:w})});t.push(h)}}Promise.all(t).then(()=>{r()}).catch(a=>{this.reject(a)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Ue(Dp,8))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const rf=new st("AppId"),LP={provide:rf,useFactory:function(){return`${Sy()}${Sy()}${Sy()}`},deps:[]};function Sy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kC=new st("Platform Initializer"),Ty=new st("Platform ID"),FC=new st("appBootstrapListener");let OC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const Vo=new st("LocaleId"),LC=new st("DefaultCurrencyCode");class BP{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Cp=(()=>{class n{compileModuleSync(t){return new ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),l=ri(Qr(t).declarations).reduce((h,p)=>{const w=Qn(p);return w&&h.push(new oy(w)),h},[]);return new BP(r,l)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const HP=(()=>Promise.resolve(0))();function Ay(n){"undefined"==typeof Zone?HP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ln{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xn(!1),this.onMicrotaskEmpty=new xn(!1),this.onStable=new xn(!1),this.onError=new xn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&t,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function(){let n=Gt.requestAnimationFrame,e=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(n){const e=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xy(n),n.isCheckStableRunning=!0,My(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,a,l,h,p)=>{try{return BC(n),t.invokeTask(a,l,h,p)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||n.shouldCoalesceRunChangeDetection)&&e(),VC(n)}},onInvoke:(t,r,a,l,h,p,w)=>{try{return BC(n),t.invoke(a,l,h,p,w)}finally{n.shouldCoalesceRunChangeDetection&&e(),VC(n)}},onHasTask:(t,r,a,l)=>{t.hasTask(a,l),r===a&&("microTask"==l.change?(n._hasPendingMicrotasks=l.microTask,xy(n),My(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,r,a,l)=>(t.handleError(a,l),n.runOutsideAngular(()=>n.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ln.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ln.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,a){const l=this._inner,h=l.scheduleEventTask("NgZoneEvent: "+a,e,UP,Ep,Ep);try{return l.runTask(h,t,r)}finally{l.cancelTask(h)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const UP={};function My(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function VC(n){n._nesting--,My(n)}class qP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xn,this.onMicrotaskEmpty=new xn,this.onStable=new xn,this.onError=new xn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,a){return e.apply(t,r)}}let Iy=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ln.assertNotInAngularZone(),Ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ay(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,a){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(h=>h.timeoutId!==l),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:l,updateCb:a})}whenStable(t,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,a){return[]}}return n.\u0275fac=function(t){return new(t||n)(Ue(Ln))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),HC=(()=>{class n{constructor(){this._applications=new Map,Py.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Py.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class GP{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let va,Py=new GP;const $C=new st("AllowMultipleToken");class UC{constructor(e,t){this.name=e,this.token=t}}function zC(n,e,t=[]){const r=`Platform: ${e}`,a=new st(r);return(l=[])=>{let h=jC();if(!h||h.injector.get($C,!1))if(n)n(t.concat(l).concat({provide:a,useValue:!0}));else{const p=t.concat(l).concat({provide:a,useValue:!0},{provide:Om,useValue:"platform"});!function(n){if(va&&!va.destroyed&&!va.injector.get($C,!1))throw new xr("400","");va=n.get(qC);const e=n.get(kC,null);e&&e.forEach(t=>t())}(Tr.create({providers:p,name:r}))}return function(n){const e=jC();if(!e)throw new xr("401","");return e}()}}function jC(){return va&&!va.destroyed?va:null}let qC=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const p=function(n,e){let t;return t="noop"===n?new qP:("zone.js"===n?void 0:n)||new Ln({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),w=[{provide:Ln,useValue:p}];return p.run(()=>{const E=Tr.create({providers:w,parent:this.injector,name:t.moduleType.name}),T=t.create(E),x=T.injector.get(No,null);if(!x)throw new xr("402","");return p.runOutsideAngular(()=>{const k=p.onError.subscribe({next:H=>{x.handleError(H)}});T.onDestroy(()=>{Ry(this._modules,T),k.unsubscribe()})}),function(n,e,t){try{const r=t();return qd(r)?r.catch(a=>{throw e.runOutsideAngular(()=>n.handleError(a)),a}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(x,p,()=>{const k=T.injector.get(hc);return k.runInitializers(),k.donePromise.then(()=>(function(n){Pr(n,"Expected localeId to be defined"),"string"==typeof n&&(SD=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Vo,fp)||fp),this._moduleDoBootstrap(T),T))})})}bootstrapModule(t,r=[]){const a=GC({},r);return function(n,e,t){const r=new ly(t);return Promise.resolve(r)}(0,0,t).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(t){const r=t.injector.get(af);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!t.instance.ngDoBootstrap)throw new xr("403","");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xr("404","");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Ue(Tr))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();function GC(n,e){return Array.isArray(e)?e.reduce(GC,n):ze(ze({},n),e)}let af=(()=>{class n{constructor(t,r,a,l,h){this._zone=t,this._injector=r,this._exceptionHandler=a,this._componentFactoryResolver=l,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new St(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new St(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ln.assertNotInAngularZone(),Ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Ln.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),x.unsubscribe()}});this.isStable=function(...n){const e=Zs(n),t=function(n,e){return"number"==typeof Kr(n)?n.pop():1/0}(n),r=n;return r.length?1===r.length?Ai(r[0]):ps(t)($n(r,e)):$t}(p,w.pipe(function(n={}){const{connector:e=(()=>new Vn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=n;return l=>{let h=null,p=null,w=null,E=0,T=!1,x=!1;const k=()=>{null==p||p.unsubscribe(),p=null},H=()=>{k(),h=w=null,T=x=!1},G=()=>{const J=h;H(),null==J||J.unsubscribe()};return _n((J,re)=>{E++,!x&&!T&&k();const ge=w=null!=w?w:e();re.add(()=>{E--,0===E&&!x&&!T&&(p=ou(G,a))}),ge.subscribe(re),h||(h=new le({next:te=>ge.next(te),error:te=>{x=!0,k(),p=ou(H,t,te),ge.error(te)},complete:()=>{T=!0,k(),p=ou(H,r),ge.complete()}}),$n(J).subscribe(h))})(l)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new xr("405","");let a;a=t instanceof YD?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(a.componentType);const l=function(n){return n.isBoundToModule}(a)?void 0:this._injector.get(Vs),p=a.create(Tr.NULL,[],r||a.selector,l),w=p.location.nativeElement,E=p.injector.get(Iy,null),T=E&&p.injector.get(HC);return E&&T&&T.registerApplication(w,E),p.onDestroy(()=>{this.detachView(p.hostView),Ry(this.components,p),T&&T.unregisterApplication(w)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new xr("101","");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Ry(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(FC,[]).concat(this._bootstrapListeners).forEach(a=>a(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Ue(Ln),Ue(Tr),Ue(No),Ue(uc),Ue(hc))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();function Ry(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let KC=!0,Ny=(()=>{class n{}return n.__NG_ELEMENT_ID__=rR,n})();function rR(n){return function(n,e,t){if(pu(n)&&!t){const r=Fr(n.index,e);return new Jd(r,r)}return 47&n.type?new Jd(e[16],e):null}(yn(),me(),16==(16&n))}class t_{constructor(){}supports(e){return zd(e)}create(e){return new cR(e)}}const uR=(n,e)=>e;class cR{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uR}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,a=0,l=null;for(;t||r;){const h=!r||t&&t.currentIndex<r_(r,a,l)?t:r,p=r_(h,a,l),w=h.currentIndex;if(h===r)a--,r=r._nextRemoved;else if(t=t._next,null==h.previousIndex)a++;else{l||(l=[]);const E=p-a,T=w-a;if(E!=T){for(let k=0;k<E;k++){const H=k<l.length?l[k]:l[k]=0,G=H+k;T<=G&&G<E&&(l[k]=H+1)}l[h.previousIndex]=T-E}}p!==w&&e(h,p,w)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!zd(e))throw new Error(`Error trying to diff '${Tt(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let a,l,h,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)l=e[p],h=this._trackByFn(p,l),null!==t&&Object.is(t.trackById,h)?(r&&(t=this._verifyReinsertion(t,l,h,p)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,h,p),r=!0),t=t._next}else a=0,function(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Ku()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,p=>{h=this._trackByFn(a,p),null!==t&&Object.is(t.trackById,h)?(r&&(t=this._verifyReinsertion(t,p,h,a)),Object.is(t.item,p)||this._addIdentityChange(t,p)):(t=this._mismatch(t,p,h,a),r=!0),t=t._next,a++}),this.length=a;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,a){let l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,a)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,a)):e=this._addAfter(new dR(t,r),l,a),e}_verifyReinsertion(e,t,r,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==l?e=this._reinsertAfter(l,e._prev,a):e.currentIndex!=a&&(e.currentIndex=a,this._addToMoves(e,a)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const a=e._prevRemoved,l=e._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const a=null===t?this._itHead:t._next;return e._next=a,e._prev=t,null===a?this._itTail=e:a._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new n_),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new n_),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dR{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fR{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class n_{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new fR,this.map.set(t,r)),r.add(e)}get(e,t){const a=this.map.get(e);return a?a.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function r_(n,e,t){const r=n.previousIndex;if(null===r)return r;let a=0;return t&&r<t.length&&(a=t[r]),r+e+a}class i_{constructor(){}supports(e){return e instanceof Map||Um(e)}create(){return new hR}}class hR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Um(e)))throw new Error(`Error trying to diff '${Tt(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,a)=>{if(t&&t.key===a)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const l=this._getOrCreateRecordForKey(a,r);t=this._insertBeforeOrAppend(t,l)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const a=this._records.get(e);this._maybeAddToChanges(a,t);const l=a._prev,h=a._next;return l&&(l._next=h),h&&(h._prev=l),a._next=null,a._prev=null,a}const r=new pR(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class pR{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function a_(){return new sf([new t_])}let sf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const a=r.factories.slice();t=t.concat(a)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||a_()),deps:[[n,new _o,new ki]]}}find(t){const r=this.factories.find(a=>a.supports(t));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'`)}}return n.\u0275prov=ft({token:n,providedIn:"root",factory:a_}),n})();function s_(){return new pc([new i_])}let pc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const a=r.factories.slice();t=t.concat(a)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||s_()),deps:[[n,new _o,new ki]]}}find(t){const r=this.factories.find(a=>a.supports(t));if(r)return r;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return n.\u0275prov=ft({token:n,providedIn:"root",factory:s_}),n})();const vR=[new i_],yR=new sf([new t_]),wR=new pc(vR),bR=zC(null,"core",[{provide:Ty,useValue:"unknown"},{provide:qC,deps:[Tr]},{provide:HC,deps:[]},{provide:OC,deps:[]}]),SR=[{provide:af,useClass:af,deps:[Ln,Tr,No,uc,hc]},{provide:NI,deps:[Ln],useFactory:function(n){let e=[];return n.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:hc,useClass:hc,deps:[[new ki,Dp]]},{provide:Cp,useClass:Cp,deps:[]},LP,{provide:sf,useFactory:function(){return yR},deps:[]},{provide:pc,useFactory:function(){return wR},deps:[]},{provide:Vo,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||fp},deps:[[new Tl(Vo),new ki,new _o]]},{provide:LC,useValue:"USD"}];let AR=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Ue(af))},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({providers:SR}),n})(),Sp=null;function es(){return Sp}const ai=new st("DocumentToken");let Gl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:function(){return Ue(o_)},providedIn:"platform"}),n})();const RR=new st("Location Initialized");let o_=(()=>{class n extends Gl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return es().getBaseHref(this._doc)}onPopState(t){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=es().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){l_()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){l_()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Ue(ai))},n.\u0275prov=ft({token:n,factory:function(){return new o_(Ue(ai))},providedIn:"platform"}),n})();function l_(){return!!window.history.pushState}function By(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function u_(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $s(n){return n&&"?"!==n[0]?"?"+n:n}let gc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:function(){return function(n){const e=Ue(ai).location;return new c_(Ue(Gl),e&&e.origin||"")}()},providedIn:"root"}),n})();const Vy=new st("appBaseHref");let c_=(()=>{class n extends gc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return By(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$s(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,l){const h=this.prepareExternalUrl(a+$s(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){const h=this.prepareExternalUrl(a+$s(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ue(Gl),Ue(Vy,8))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),FR=(()=>{class n extends gc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=By(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,l){let h=this.prepareExternalUrl(a+$s(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){let h=this.prepareExternalUrl(a+$s(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformLocation).historyGo)||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(Ue(Gl),Ue(Vy,8))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t,r){this._subject=new xn,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=u_(d_(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$s(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,d_(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$s(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null==(a=(r=this._platformStrategy).historyGo)||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.normalizeQueryParams=$s,n.joinWithSlash=By,n.stripTrailingSlash=u_,n.\u0275fac=function(t){return new(t||n)(Ue(gc),Ue(Gl))},n.\u0275prov=ft({token:n,factory:function(){return new Hy(Ue(gc),Ue(Gl))},providedIn:"root"}),n})();function d_(n){return n.replace(/\/index.html$/,"")}var qn=(()=>((qn=qn||{})[qn.Zero=0]="Zero",qn[qn.One=1]="One",qn[qn.Two=2]="Two",qn[qn.Few=3]="Few",qn[qn.Many=4]="Many",qn[qn.Other=5]="Other",qn))();const jR=function(n){return function(n){const e=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=_D(e);if(t)return t;const r=e.split("-")[0];if(t=_D(r),t)return t;if("en"===r)return Dx;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Pe.PluralCase]};class Fp{}let wN=(()=>{class n extends Fp{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(jR(r||this.locale)(t)){case qn.Zero:return"zero";case qn.One:return"one";case qn.Two:return"two";case qn.Few:return"few";case qn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(Ue(Vo))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class CN{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let b_=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const p=this._viewContainer.createEmbeddedView(this._template,new CN(null,this._ngForOf,-1,-1),null===h?void 0:h),w=new E_(a,p);r.push(w)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const p=this._viewContainer.get(l);this._viewContainer.move(p,h);const w=new E_(a,p);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(De(ga),De(Hs),De(sf))},n.\u0275dir=Ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class E_{constructor(e,t){this.record=e,this.view=t}}let JN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({providers:[{provide:Fp,useClass:wN}]}),n})();let rk=(()=>{class n{}return n.\u0275prov=ft({token:n,providedIn:"root",factory:()=>new ik(Ue(ai),window)}),n})();class ik{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=T_(this.window.history)||T_(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function T_(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Jy extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Jy,Sp||(Sp=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(uf=uf||document.querySelector("base"),uf?uf.getAttribute("href"):null);return null==t?null:function(n){Op=Op||document.createElement("a"),Op.setAttribute("href",n);const e=Op.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){uf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Op,uf=null;const A_=new st("TRANSITION_ID"),dk=[{provide:Dp,useFactory:function(n,e,t){return()=>{t.get(hc).donePromise.then(()=>{const r=es(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[A_,ai,Tr],multi:!0}];class e0{static init(){var n;n=new e0,Py=n}addToWindow(e){Gt.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},Gt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Gt.getAllAngularRootElements=()=>e.getAllRootElements(),Gt.frameworkStabilizers||(Gt.frameworkStabilizers=[]),Gt.frameworkStabilizers.push(r=>{const a=Gt.getAllAngularTestabilities();let l=a.length,h=!1;const p=function(w){h=h||w,l--,0==l&&r(h)};a.forEach(function(w){w.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?es().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let fk=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const Lp=new st("EventManagerPlugins");let Bp=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Ue(Lp),Ue(Ln))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class M_{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=es().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let x_=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),cf=(()=>{class n extends x_{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(I_),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(I_))}}return n.\u0275fac=function(t){return new(t||n)(Ue(ai))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();function I_(n){es().remove(n)}const t0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},n0=/%COMP%/g;function Vp(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?Vp(n,a,t):(a=a.replace(n0,n),t.push(a))}return t}function N_(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hp=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new r0(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Kn.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new yk(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case Kn.ShadowDom:return new wk(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=Vp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Ue(Bp),Ue(cf),Ue(rf))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class r0{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(t0[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=t0[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=t0[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(s.DashCase|s.Important)?e.style.setProperty(t,r,a&s.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,N_(r)):this.eventManager.addEventListener(e,t,N_(r))}}class yk extends r0{constructor(e,t,r,a){super(e),this.component=r;const l=Vp(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(n0,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(n0,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wk extends r0{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Vp(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const p=document.createElement("style");p.textContent=l[h],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let bk=(()=>{class n extends M_{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(Ue(ai))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const F_=["alt","control","meta","shift"],Dk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ck={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _k=(()=>{class n extends M_{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>es().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(F_.forEach(w=>{const E=r.indexOf(w);E>-1&&(r.splice(E,1),h+=w+".")}),h+=l,0!=r.length||0===l.length)return null;const p={};return p.domEventName=a,p.fullKey=h,p}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&O_.hasOwnProperty(e)&&(e=O_[e]))}return Dk[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),F_.forEach(l=>{l!=a&&Ck[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Ue(ai))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const xk=zC(bR,"browser",[{provide:Ty,useValue:"browser"},{provide:kC,useValue:function(){Jy.makeCurrent(),e0.init()},multi:!0},{provide:ai,useFactory:function(){return n=document,xt=n,document;var n},deps:[]}]),Ik=[{provide:Om,useValue:"root"},{provide:No,useFactory:function(){return new No},deps:[]},{provide:Lp,useClass:bk,multi:!0,deps:[ai,Ln,Ty]},{provide:Lp,useClass:_k,multi:!0,deps:[ai]},{provide:Hp,useClass:Hp,deps:[Bp,cf,rf]},{provide:Zd,useExisting:Hp},{provide:x_,useExisting:cf},{provide:cf,useClass:cf,deps:[ai]},{provide:Iy,useClass:Iy,deps:[Ln]},{provide:Bp,useClass:Bp,deps:[Lp,Ln]},{provide:class{},useClass:fk,deps:[]}];let L_=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:rf,useValue:t.appId},{provide:A_,useExisting:rf},dk]}}}return n.\u0275fac=function(t){return new(t||n)(Ue(n,12))},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({providers:Ik,imports:[JN,AR]}),n})();"undefined"!=typeof window&&window;const{isArray:$k}=Array,{getPrototypeOf:Uk,prototype:zk,keys:jk}=Object;function H_(n){if(1===n.length){const e=n[0];if($k(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Uk(n)===zk}(e)){const t=jk(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Gk}=Array;function $_(n){return Mt(e=>function(n,e){return Gk(e)?n(...e):n(e)}(n,e))}function U_(n,e){return n.reduce((t,r,a)=>(t[r]=e[a],t),{})}let z_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(De(Bs),De(mi))},n.\u0275dir=Ye({type:n}),n})(),Wl=(()=>{class n extends z_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,features:[an]}),n})();const ts=new st("NgValueAccessor"),Yk={provide:ts,useExisting:Zt(()=>$p),multi:!0},Xk=new st("CompositionEventMode");let $p=(()=>{class n extends z_{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=es()?es().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(De(Bs),De(mi),De(Xk,8))},n.\u0275dir=Ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&yr("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[fn([Yk]),an]}),n})();function $o(n){return null==n||0===n.length}const Mr=new st("NgValidators"),Uo=new st("NgAsyncValidators");function df(n){return null}function eS(n){return null!=n}function tS(n){const e=qd(n)?$n(n):n;return Qm(e),e}function nS(n){let e={};return n.forEach(t=>{e=null!=t?ze(ze({},e),t):e}),0===Object.keys(e).length?null:e}function rS(n,e){return e.map(t=>t(n))}function iS(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function s0(n){return null!=n?function(n){if(!n)return null;const e=n.filter(eS);return 0==e.length?null:function(t){return nS(rS(t,e))}}(iS(n)):null}function o0(n){return null!=n?function(n){if(!n)return null;const e=n.filter(eS);return 0==e.length?null:function(t){return function(...n){const e=Vf(n),{args:t,keys:r}=H_(n),a=new St(l=>{const{length:h}=t;if(!h)return void l.complete();const p=new Array(h);let w=h,E=h;for(let T=0;T<h;T++){let x=!1;Ai(t[T]).subscribe(new Sn(l,k=>{x||(x=!0,E--),p[T]=k},()=>w--,void 0,()=>{(!w||!x)&&(E||l.next(r?U_(r,p):p),l.complete())}))}});return e?a.pipe($_(e)):a}(rS(t,e).map(tS)).pipe(Mt(nS))}}(iS(n)):null}function oS(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lS(n){return n._rawValidators}function uS(n){return n._rawAsyncValidators}function l0(n){return n?Array.isArray(n)?n:[n]:[]}function Up(n,e){return Array.isArray(n)?n.includes(e):n===e}function cS(n,e){const t=l0(e);return l0(n).forEach(a=>{Up(t,a)||t.push(a)}),t}function dS(n,e){return l0(e).filter(t=>!Up(n,t))}class fS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=s0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=o0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zr extends fS{get formDirective(){return null}get path(){return null}}class zo extends fS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hS{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(a=null==(r=this._cd)?void 0:r.control)?void 0:a[e])}}let pS=(()=>{class n extends hS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(De(zo,2))},n.\u0275dir=Ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&cp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[an]}),n})(),gS=(()=>{class n extends hS{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(De(zr,10))},n.\u0275dir=Ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&cp("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[an]}),n})();function jp(n,e){return[...e.path,n]}function ff(n,e){d0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&vS(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&vS(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function qp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Wp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Gp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function d0(n,e){const t=lS(n);null!==e.validator?n.setValidators(oS(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=uS(n);null!==e.asyncValidator?n.setAsyncValidators(oS(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();Gp(e._rawValidators,a),Gp(e._rawAsyncValidators,a)}function Wp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=lS(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=uS(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return Gp(e._rawValidators,r),Gp(e._rawAsyncValidators,r),t}function vS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const hf="VALID",Qp="INVALID",vc="PENDING",pf="DISABLED";function p0(n){return(v0(n)?n.validators:n)||null}function wS(n){return Array.isArray(n)?s0(n):n||null}function g0(n,e){return(v0(e)?e.asyncValidators:n)||null}function bS(n){return Array.isArray(n)?o0(n):n||null}function v0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class m0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wS(this._rawValidators),this._composedAsyncValidatorFn=bS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===hf}get invalid(){return this.status===Qp}get pending(){return this.status==vc}get disabled(){return this.status===pf}get enabled(){return this.status!==pf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wS(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bS(e)}addValidators(e){this.setValidators(cS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dS(e,this._rawAsyncValidators))}hasValidator(e){return Up(this._rawValidators,e)}hasAsyncValidator(e){return Up(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pf,this.errors=null,this._forEachChild(r=>{r.disable(lr(ze({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(lr(ze({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hf,this._forEachChild(r=>{r.enable(lr(ze({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(lr(ze({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hf||this.status===vc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pf:hf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vc,this._hasOwnPendingAsyncValidator=!0;const t=tS(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof gf?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof y0&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new xn,this.statusChanges=new xn}_calculateStatus(){return this._allControlsDisabled()?pf:this.errors?Qp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vc)?vc:this._anyControlsHaveStatus(Qp)?Qp:hf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){v0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mc extends m0{constructor(e=null,t,r){super(p0(t),g0(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class gf extends m0{constructor(e,t,r){super(p0(t),g0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof mc?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class y0 extends m0{constructor(e,t,r){super(p0(t),g0(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof mc?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let ES=(()=>{class n extends zr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,features:[an]}),n})(),SS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const gF={provide:ts,useExisting:Zt(()=>b0),multi:!0};let b0=(()=>{class n extends Wl{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&yr("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[fn([gF]),an]}),n})(),TS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({}),n})();const E0=new st("NgModelWithFormControlWarning"),bF={provide:zr,useExisting:Zt(()=>Yp)};let Yp=(()=>{class n extends zr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new xn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ff(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qp(t.control||null,t,!1),Kp(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(qp(r||null,t),a instanceof mc&&(ff(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){d0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return Wp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){d0(this.form,this),this._oldForm&&Wp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(De(Mr,10),De(Uo,10))},n.\u0275dir=Ye({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&yr("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fn([bF]),an,vn]}),n})();const EF={provide:zr,useExisting:Zt(()=>Zp)};let Zp=(()=>{class n extends ES{constructor(t,r,a){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(a)}_checkParentType(){IS(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(De(zr,13),De(Mr,10),De(Uo,10))},n.\u0275dir=Ye({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[fn([EF]),an]}),n})();const DF={provide:zr,useExisting:Zt(()=>Xp)};let Xp=(()=>{class n extends zr{constructor(t,r,a){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(a)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return jp(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){IS(this._parent)}}return n.\u0275fac=function(t){return new(t||n)(De(zr,13),De(Mr,10),De(Uo,10))},n.\u0275dir=Ye({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[fn([DF]),an]}),n})();function IS(n){return!(n instanceof Zp||n instanceof Yp||n instanceof Xp)}const CF={provide:zo,useExisting:Zt(()=>D0)};let D0=(()=>{class n extends zo{constructor(t,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new xn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===$p?t=l:function(n){return Object.getPrototypeOf(n.constructor)===Wl}(l)?r=l:a=l}),a||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return jp(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(De(zr,13),De(Mr,10),De(Uo,10),De(ts,10),De(E0,8))},n.\u0275dir=Ye({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[fn([CF]),an,vn]}),n})();const _F={provide:ts,useExisting:Zt(()=>Jp),multi:!0};function PS(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Jp=(()=>{class n extends Wl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const a=PS(r,t);this.setProperty("value",a)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&yr("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([_F]),an]}),n})(),RS=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(PS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(De(mi),De(Bs),De(Jp,9))},n.\u0275dir=Ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const TF={provide:ts,useExisting:Zt(()=>C0),multi:!0};function NS(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let C0=(()=>{class n extends Wl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const a=t.map(l=>this._getOptionId(l));r=(l,h)=>{l._setSelected(a.indexOf(h.toString())>-1)}}else r=(a,l)=>{a._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const a=[],l=r.selectedOptions;if(void 0!==l){const h=l;for(let p=0;p<h.length;p++){const E=this._getOptionValue(h[p].value);a.push(E)}}else{const h=r.options;for(let p=0;p<h.length;p++){const w=h[p];if(w.selected){const E=this._getOptionValue(w.value);a.push(E)}}}this.value=a,t(a)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&yr("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[fn([TF]),an]}),n})(),kS=(()=>{class n{constructor(t,r,a){this._element=t,this._renderer=r,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(NS(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(NS(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(De(mi),De(Bs),De(C0,9))},n.\u0275dir=Ye({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let eg=(()=>{class n{constructor(){this._validator=df}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):df,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=Ye({type:n,features:[vn]}),n})();const xF={provide:Mr,useExisting:Zt(()=>_0),multi:!0};let _0=(()=>{class n extends eg{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>function(n){return"number"==typeof n?n:parseFloat(n)}(t),this.createValidator=t=>function(n){return e=>{if($o(e.value)||$o(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=jt(n)))(r||n)}}(),n.\u0275dir=Ye({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Za("min",r.enabled()?r.min:null)},inputs:{min:"min"},features:[fn([xF]),an]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({imports:[[TS]]}),n})(),zS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:E0,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({imports:[OF]}),n})(),BF=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let p,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,p=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new gf(a,{asyncValidators:h,updateOn:p,validators:l})}control(t,r,a){return new mc(t,r,a)}array(t,r,a){const l=t.map(h=>this._createControl(h));return new y0(l,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof mc||t instanceof gf||t instanceof y0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac,providedIn:zS}),n})();class jS{}const zs="*";function qS(n,e=null){return{type:4,styles:e,timings:n}}function $F(n,e=null){return{type:3,steps:n,options:e}}function GS(n,e=null){return{type:2,steps:n,options:e}}function Kl(n){return{type:6,styles:n,offset:null}}function WS(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function T0(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function KS(n){Promise.resolve(null).then(n)}class yc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){KS(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class QS{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,a=0;const l=this.players.length;0==l?KS(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,p)=>Math.max(h,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function YS(){return"undefined"!=typeof window&&void 0!==window.document}function M0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jo(n){switch(n.length){case 0:return new yc;case 1:return n[0];default:return new QS(n)}}function ZS(n,e,t,r,a={},l={}){const h=[],p=[];let w=-1,E=null;if(r.forEach(T=>{const x=T.offset,k=x==w,H=k&&E||{};Object.keys(T).forEach(G=>{let J=G,re=T[G];if("offset"!==G)switch(J=e.normalizePropertyName(J,h),re){case"!":re=a[G];break;case zs:re=l[G];break;default:re=e.normalizeStyleValue(G,J,re,h)}H[J]=re}),k||p.push(H),E=H,w=x}),h.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${h.join(T)}`)}return p}function x0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&I0(t,"start",n)));break;case"done":n.onDone(()=>r(t&&I0(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&I0(t,"destroy",n)))}}function I0(n,e,t){const r=t.totalTime,l=P0(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function P0(n,e,t,r,a="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function yi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function XS(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let R0=(n,e)=>!1,N0=(n,e)=>!1,JS=(n,e,t)=>[];const e1=M0();(e1||"undefined"!=typeof Element)&&(R0=YS()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),N0=(()=>{if(e1||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):N0}})(),JS=(n,e,t)=>{let r=[];if(t){const a=n.querySelectorAll(e);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=n.querySelector(e);a&&r.push(a)}return r});let Ql=null,t1=!1;function k0(n){Ql||(Ql=("undefined"!=typeof document?document.body:null)||{},t1=!!Ql.style&&"WebkitAppearance"in Ql.style);let e=!0;return Ql.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ql.style,!e&&t1&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ql.style)),e}const F0=N0,O0=R0,L0=JS;function n1(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let r1=(()=>{class n{validateStyleProperty(t){return k0(t)}matchesElement(t,r){return F0(t,r)}containsElement(t,r){return O0(t,r)}query(t,r,a){return L0(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,l,h,p=[],w){return new yc(a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),B0=(()=>{class n{}return n.NOOP=new r1,n})();const V0="ng-enter",tg="ng-leave",ng="ng-trigger",rg=".ng-trigger",a1="ng-animating",H0=".ng-animating";function Yl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$0(parseFloat(e[1]),e[2])}function $0(n,e){return"s"===e?1e3*n:n}function ig(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,l=0,h="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=$0(parseFloat(p[1]),p[2]);const w=p[3];null!=w&&(l=$0(parseFloat(w),p[4]));const E=p[5];E&&(h=E)}else a=n;if(!t){let p=!1,w=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),p=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),p=!0),p&&e.splice(w,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:l,easing:h}}(n,e,t)}function wc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qo(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else wc(n,t);return t}function o1(n,e,t){return t?e+":"+t+";":""}function l1(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=o1(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=o1(0,QF(t),n.style[t]));n.setAttribute("style",e)}function ns(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const a=z0(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[a]),n.style[a]=e[r]}),M0()&&l1(n))}function Zl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=z0(t);n.style[r]=""}),M0()&&l1(n))}function mf(n){return Array.isArray(n)?1==n.length?n[0]:GS(n):n}const U0=new RegExp("{{\\s*(.+?)\\s*}}","g");function u1(n){let e=[];if("string"==typeof n){let t;for(;t=U0.exec(n);)e.push(t[1]);U0.lastIndex=0}return e}function ag(n,e,t){const r=n.toString(),a=r.replace(U0,(l,h)=>{let p=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),p=""),p.toString()});return a==r?n:a}function sg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const KF=/-+([a-z0-9])/g;function z0(n){return n.replace(KF,(...e)=>e[1].toUpperCase())}function QF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function c1(n,e){return 0===n||0===e}function d1(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(p=>{l.hasOwnProperty(p)||h.push(p),l[p]=t[p]}),h.length)for(var a=1;a<e.length;a++){let p=e[a];h.forEach(function(w){p[w]=j0(n,w)})}}return e}function wi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function j0(n,e){return window.getComputedStyle(n)[e]}function YF(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const w=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=r[1],l=r[2],h=r[3];e.push(f1(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(f1(h,a))}(r,t,e)):t.push(n),t}const lg=new Set(["true","1"]),ug=new Set(["false","0"]);function f1(n,e){const t=lg.has(n)||ug.has(n),r=lg.has(e)||ug.has(e);return(a,l)=>{let h="*"==n||n==a,p="*"==e||e==l;return!h&&t&&"boolean"==typeof a&&(h=a?lg.has(n):ug.has(n)),!p&&r&&"boolean"==typeof l&&(p=l?lg.has(e):ug.has(e)),h&&p}}const JF=new RegExp("s*:selfs*,?","g");function q0(n,e,t){return new eO(n).build(e,t)}class eO{constructor(e){this._driver=e}build(e,t){const r=new rO(t);return this._resetContextStyleTimingState(r),wi(this,mf(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const w=p,E=w.name;E.toString().split(/\s*,\s*/).forEach(T=>{w.name=T,l.push(this.visitState(w,t))}),w.name=E}else if(1==p.type){const w=this.visitTransition(p,t);r+=w.queryCount,a+=w.depCount,h.push(w)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};if(r.styles.forEach(p=>{if(cg(p)){const w=p;Object.keys(w).forEach(E=>{u1(w[E]).forEach(T=>{h.hasOwnProperty(T)||l.add(T)})})}}),l.size){const p=sg(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${p.join(", ")}`)}}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=wi(this,mf(e.animation),t);return{type:1,matchers:YF(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xl(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>wi(this,r,t)),options:Xl(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const l=e.steps.map(h=>{t.currentTime=r;const p=wi(this,h,t);return a=Math.max(a,t.currentTime),p});return t.currentTime=a,{type:3,steps:l,options:Xl(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return G0(ig(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=G0(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||ig(r,e),G0(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,l=e.styles?e.styles:Kl({});if(5==l.type)a=this.visitKeyframes(l,t);else{let h=e.styles,p=!1;if(!h){p=!0;const E={};r.easing&&(E.easing=r.easing),h=Kl(E)}t.currentTime+=r.duration+r.delay;const w=this.visitStyle(h,t);w.isEmptyStep=p,a=w}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==zs?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let a=!1,l=null;return r.forEach(h=>{if(cg(h)){const p=h,w=p.easing;if(w&&(l=w,delete p.easing),!a)for(let E in p)if(p[E].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(p=>{if(!this._driver.validateStyleProperty(p))return void t.errors.push(`The provided animation property "${p}" is not a supported CSS property for animations`);const w=t.collectedStyles[t.currentQuerySelector],E=w[p];let T=!0;E&&(l!=a&&l>=E.startTime&&a<=E.endTime&&(t.errors.push(`The CSS property "${p}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),T=!1),l=E.startTime),T&&(w[p]={startTime:l,endTime:a}),t.options&&function(n,e,t){const r=e.params||{},a=u1(n);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let p=!1,w=!1,E=0;const T=e.steps.map(ge=>{const te=this._makeStyleAst(ge,t);let Ae=null!=te.offset?te.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(cg(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(cg(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(te.styles),Le=0;return null!=Ae&&(l++,Le=te.offset=Ae),w=w||Le<0||Le>1,p=p||Le<E,E=Le,h.push(Le),te});w&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),p&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let k=0;l>0&&l<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(k=1/(x-1));const H=x-1,G=t.currentTime,J=t.currentAnimateTimings,re=J.duration;return T.forEach((ge,te)=>{const Ae=k>0?te==H?1:k*te:h[te],Le=Ae*re;t.currentTime=G+J.delay+Le,J.duration=Le,this._validateStyleAst(ge,t),ge.offset=Ae,r.styles.push(ge)}),r}visitReference(e,t){return{type:8,animation:wi(this,mf(e.animation),t),options:Xl(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xl(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xl(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(JF,"")),n=n.replace(/@\*/g,rg).replace(/@\w+/g,t=>rg+"-"+t.substr(1)).replace(/:animating/g,H0),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,yi(t.collectedStyles,t.currentQuerySelector,{});const p=wi(this,mf(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:p,originalSelector:e.selector,options:Xl(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ig(e.timings,t.errors,!0);return{type:12,animation:wi(this,mf(e.animation),t),timings:r,options:null}}}class rO{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cg(n){return!Array.isArray(n)&&"object"==typeof n}function Xl(n){return n?(n=wc(n)).params&&(n.params=function(n){return n?wc(n):null}(n.params)):n={},n}function G0(n,e,t){return{duration:n,delay:e,easing:t}}function W0(n,e,t,r,a,l,h=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:p}}class dg{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const lO=new RegExp(":enter","g"),cO=new RegExp(":leave","g");function K0(n,e,t,r,a,l={},h={},p,w,E=[]){return(new dO).buildKeyframes(n,e,t,r,a,l,h,p,w,E)}class dO{buildKeyframes(e,t,r,a,l,h,p,w,E,T=[]){E=E||new dg;const x=new Q0(e,t,E,a,l,T,[]);x.options=w,x.currentTimeline.setStyles([h],null,x.errors,w),wi(this,r,x);const k=x.timelines.filter(H=>H.containsAnimation());if(k.length&&Object.keys(p).length){const H=k[k.length-1];H.allowOnlyTimelineStyles()||H.setStyles([p],null,x.errors,w)}return k.length?k.map(H=>H.buildKeyframes()):[W0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const a=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?Yl(r.duration):null,p=null!=r.delay?Yl(r.delay):null;return 0!==h&&e.forEach(w=>{const E=t.appendInstructionToTimeline(w,h,p);l=Math.max(l,E.duration+E.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),wi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const l=e.options;if(l&&(l.params||l.delay)&&(a=t.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=fg);const h=Yl(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>wi(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Yl(e.options.delay):0;e.steps.forEach(h=>{const p=t.createSubContext(e.options);l&&p.delayNextStep(l),wi(this,h,p),a=Math.max(a,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ig(t.params?ag(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,l=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(w=>{p.forwardTime((w.offset||0)*l),p.setStyles(w.styles,w.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(a+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},l=a.delay?Yl(a.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fg);let h=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=p.length;let w=null;p.forEach((E,T)=>{t.currentQueryIndex=T;const x=t.createSubContext(e.options,E);l&&x.delayNextStep(l),E===t.element&&(w=x.currentTimeline),wi(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),p=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":w=p-w;break;case"full":w=r.currentStaggerTime}const T=t.currentTimeline;w&&T.delayNextStep(w);const x=T.currentTime;wi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-x+(a.startTime-r.currentTimeline.startTime)}}const fg={};class Q0{constructor(e,t,r,a,l,h,p,w){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fg,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new hg(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=Yl(r.duration)),null!=r.delay&&(a.delay=Yl(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(p=>{(!t||!h.hasOwnProperty(p))&&(h[p]=ag(l[p],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,l=new Q0(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=fg,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new fO(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,l,h){let p=[];if(a&&p.push(this.element),e.length>0){e=(e=e.replace(lO,"."+this._enterClassName)).replace(cO,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=r);0!==r&&(E=r<0?E.slice(E.length+r,E.length):E.slice(0,r)),p.push(...E)}return!l&&0==p.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),p}}class hg{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hg(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||zs,this._currentKeyframe[t]=zs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&(this._previousKeyframe.easing=t);const l=a&&a.params||{},h=function(n,e){const t={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(e),r.forEach(l=>{t[l]=zs})):qo(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(p=>{const w=ag(h[p],l,r);this._pendingStyles[p]=w,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:zs),this._updateStyle(p,w)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],a=e._styleSummary[t];(!r||a.time>r.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((p,w)=>{const E=qo(p,!0);Object.keys(E).forEach(T=>{const x=E[T];"!"==x?e.add(T):x==zs&&t.add(T)}),r||(E.offset=w/this.duration),a.push(E)});const l=e.size?sg(e.values()):[],h=t.size?sg(t.values()):[];if(r){const p=a[0],w=wc(p);p.offset=0,w.offset=1,a=[p,w]}return W0(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class fO extends hg{constructor(e,t,r,a,l,h,p=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=p,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,p=t/h,w=qo(e[0],!1);w.offset=0,l.push(w);const E=qo(e[0],!1);E.offset=g1(p),l.push(E);const T=e.length-1;for(let x=1;x<=T;x++){let k=qo(e[x],!1);k.offset=g1((t+k.offset*r)/h),l.push(k)}r=h,t=0,a="",e=l}return W0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function g1(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Y0{}class pO extends Y0{normalizePropertyName(e,t){return z0(e)}normalizeStyleValue(e,t,r,a){let l="";const h=r.toString().trim();if(gO[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&a.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const gO=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function v1(n,e,t,r,a,l,h,p,w,E,T,x,k){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:p,queriedElements:w,preStyleProps:E,postStyleProps:T,totalTime:x,errors:k}}const Z0={};class m1{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function(n,e,t,r,a){return n.some(l=>l(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){const a=this._stateStyles["*"],l=this._stateStyles[e],h=a?a.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,a,l,h,p,w,E,T){const x=[],k=this.ast.options&&this.ast.options.params||Z0,G=this.buildStyles(r,p&&p.params||Z0,x),J=w&&w.params||Z0,re=this.buildStyles(a,J,x),ge=new Set,te=new Map,Ae=new Map,Le="void"===a,gt={params:ze(ze({},k),J)},hn=T?[]:K0(e,t,this.ast.animation,l,h,G,re,gt,E,x);let Dn=0;if(hn.forEach(Di=>{Dn=Math.max(Di.duration+Di.delay,Dn)}),x.length)return v1(t,this._triggerName,r,a,Le,G,re,[],[],te,Ae,Dn,x);hn.forEach(Di=>{const Ci=Di.element,Ac=yi(te,Ci,{});Di.preStyleProps.forEach(ba=>Ac[ba]=!0);const Gs=yi(Ae,Ci,{});Di.postStyleProps.forEach(ba=>Gs[ba]=!0),Ci!==t&&ge.add(Ci)});const Ei=sg(ge.values());return v1(t,this._triggerName,r,a,Le,G,re,hn,Ei,te,Ae,Dn)}}class yO{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},a=wc(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(p=>{let w=h[p];w.length>1&&(w=ag(w,a,t));const E=this.normalizer.normalizePropertyName(p,t);w=this.normalizer.normalizeStyleValue(p,E,w,t),r[E]=w})}}),r}}class bO{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new yO(a.style,a.options&&a.options.params||{},r)}),y1(this.states,"true","1"),y1(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new m1(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new m1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(h=>h.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function y1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const DO=new dg;class CO{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=q0(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,r){const a=e.element,l=ZS(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],l=this._animations[e];let h;const p=new Map;if(l?(h=K0(this._driver,t,l,V0,tg,{},{},r,DO,a),h.forEach(T=>{const x=yi(p,T.element,{});T.postStyleProps.forEach(k=>x[k]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);p.forEach((T,x)=>{Object.keys(T).forEach(k=>{T[k]=this._driver.computeStyle(x,k,zs)})});const E=jo(h.map(T=>{const x=p.get(T.element);return this._buildPlayer(T,{},x)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,a){const l=P0(t,"","","");return x0(this._getPlayer(e),r,l,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const w1="ng-animate-queued",b1="ng-animate-disabled",E1=".ng-animate-disabled",AO=[],D1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zi="__ng_removed";class X0{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const l=wc(e);delete l.value,this.options=l}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const yf="void",J0=new X0(yf);class xO{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ji(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const l=yi(this._elementListeners,e,[]),h={name:t,phase:r,callback:a};l.push(h);const p=yi(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(ji(e,ng),ji(e,ng+"-"+t),p[t]=J0),()=>{this._engine.afterFlush(()=>{const w=l.indexOf(h);w>=0&&l.splice(w,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,a=!0){const l=this._getTrigger(t),h=new ew(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(ji(e,ng),ji(e,ng+"-"+t),this._engine.statesByElement.set(e,p={}));let w=p[t];const E=new X0(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&E.absorbOptions(w.options),p[t]=E,w||(w=J0),E.value!==yf&&w.value===E.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const l=t[a];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(w.params,E.params)){const J=[],re=l.matchStyles(w.value,w.params,J),ge=l.matchStyles(E.value,E.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Zl(e,re),ns(e,ge)})}return}const k=yi(this._engine.playersByElement,e,[]);k.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let H=l.matchTransition(w.value,E.value,e,E.params),G=!1;if(!H){if(!a)return;H=l.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:w,toState:E,player:h,isFallbackTransition:G}),G||(ji(e,w1),h.onStart(()=>{bc(e,w1)})),h.onDone(()=>{let J=this.players.indexOf(h);J>=0&&this.players.splice(J,1);const re=this._engine.playersByElement.get(e);if(re){let ge=re.indexOf(h);ge>=0&&re.splice(ge,1)}}),this.players.push(h),k.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,rg,!0);r.forEach(a=>{if(a[zi])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(p=>{if(this._triggers[p]){const w=this.trigger(e,p,yf,a);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&jo(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const w=this._triggers[h].fallbackTransition,E=r[h]||J0,T=new X0(yf),x=new ew(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:E,toState:T,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[zi];(!l||l===D1)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ji(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(p=>{if(p.name==r.triggerName){const w=P0(l,r.triggerName,r.fromState.value,r.toState.value);w._data=e,x0(r.player,p.phase,w,p.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class IO{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new xO(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const h=r[a[l]].namespaceId;if(h){const p=this._fetchNamespace(h);p&&t.add(p)}}}return t}trigger(e,t,r,a){if(pg(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!pg(t))return;const l=t[zi];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ji(e,b1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bc(e,b1))}removeNode(e,t,r,a){if(pg(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a){this.collectedLeaveElements.push(t),t[zi]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,a,l){return pg(t)?this._fetchNamespace(e).listen(t,r,a,l):()=>{}}_buildInstruction(e,t,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,rg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,H0,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[zi];if(t&&t.setForRemoval){if(e[zi]=D1,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,E1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,E1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ji(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?jo(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new dg,a=[],l=new Map,h=[],p=new Map,w=new Map,E=new Map,T=new Set;this.disabledNodes.forEach(Oe=>{T.add(Oe);const qe=this.driver.query(Oe,".ng-animate-queued",!0);for(let ut=0;ut<qe.length;ut++)T.add(qe[ut])});const x=this.bodyNode,k=Array.from(this.statesByElement.keys()),H=S1(k,this.collectedEnterElements),G=new Map;let J=0;H.forEach((Oe,qe)=>{const ut=V0+J++;G.set(qe,ut),Oe.forEach(Lt=>ji(Lt,ut))});const re=[],ge=new Set,te=new Set;for(let Oe=0;Oe<this.collectedLeaveElements.length;Oe++){const qe=this.collectedLeaveElements[Oe],ut=qe[zi];ut&&ut.setForRemoval&&(re.push(qe),ge.add(qe),ut.hasAnimation?this.driver.query(qe,".ng-star-inserted",!0).forEach(Lt=>ge.add(Lt)):te.add(qe))}const Ae=new Map,Le=S1(k,Array.from(ge));Le.forEach((Oe,qe)=>{const ut=tg+J++;Ae.set(qe,ut),Oe.forEach(Lt=>ji(Lt,ut))}),e.push(()=>{H.forEach((Oe,qe)=>{const ut=G.get(qe);Oe.forEach(Lt=>bc(Lt,ut))}),Le.forEach((Oe,qe)=>{const ut=Ae.get(qe);Oe.forEach(Lt=>bc(Lt,ut))}),re.forEach(Oe=>{this.processLeaveNode(Oe)})});const gt=[],hn=[];for(let Oe=this._namespaceList.length-1;Oe>=0;Oe--)this._namespaceList[Oe].drainQueuedTransitions(t).forEach(ut=>{const Lt=ut.player,or=ut.element;if(gt.push(Lt),this.collectedEnterElements.length){const ss=or[zi];if(ss&&ss.setForMove)return void Lt.destroy()}const as=!x||!this.driver.containsElement(x,or),_i=Ae.get(or),Ko=G.get(or),In=this._buildInstruction(ut,r,Ko,_i,as);if(In.errors&&In.errors.length)hn.push(In);else{if(as)return Lt.onStart(()=>Zl(or,In.fromStyles)),Lt.onDestroy(()=>ns(or,In.toStyles)),void a.push(Lt);if(ut.isFallbackTransition)return Lt.onStart(()=>Zl(or,In.fromStyles)),Lt.onDestroy(()=>ns(or,In.toStyles)),void a.push(Lt);In.timelines.forEach(ss=>ss.stretchStartingKeyframe=!0),r.append(or,In.timelines),h.push({instruction:In,player:Lt,element:or}),In.queriedElements.forEach(ss=>yi(p,ss,[]).push(Lt)),In.preStyleProps.forEach((ss,Pf)=>{const Og=Object.keys(ss);if(Og.length){let iu=w.get(Pf);iu||w.set(Pf,iu=new Set),Og.forEach(Tw=>iu.add(Tw))}}),In.postStyleProps.forEach((ss,Pf)=>{const Og=Object.keys(ss);let iu=E.get(Pf);iu||E.set(Pf,iu=new Set),Og.forEach(Tw=>iu.add(Tw))})}});if(hn.length){const Oe=[];hn.forEach(qe=>{Oe.push(`@${qe.triggerName} has failed due to:\n`),qe.errors.forEach(ut=>Oe.push(`- ${ut}\n`))}),gt.forEach(qe=>qe.destroy()),this.reportError(Oe)}const Dn=new Map,Ei=new Map;h.forEach(Oe=>{const qe=Oe.element;r.has(qe)&&(Ei.set(qe,qe),this._beforeAnimationBuild(Oe.player.namespaceId,Oe.instruction,Dn))}),a.forEach(Oe=>{const qe=Oe.element;this._getPreviousPlayers(qe,!1,Oe.namespaceId,Oe.triggerName,null).forEach(Lt=>{yi(Dn,qe,[]).push(Lt),Lt.destroy()})});const Di=re.filter(Oe=>A1(Oe,w,E)),Ci=new Map;_1(Ci,this.driver,te,E,zs).forEach(Oe=>{A1(Oe,w,E)&&Di.push(Oe)});const Gs=new Map;H.forEach((Oe,qe)=>{_1(Gs,this.driver,new Set(Oe),w,"!")}),Di.forEach(Oe=>{const qe=Ci.get(Oe),ut=Gs.get(Oe);Ci.set(Oe,ze(ze({},qe),ut))});const ba=[],Mc=[],xc={};h.forEach(Oe=>{const{element:qe,player:ut,instruction:Lt}=Oe;if(r.has(qe)){if(T.has(qe))return ut.onDestroy(()=>ns(qe,Lt.toStyles)),ut.disabled=!0,ut.overrideTotalTime(Lt.totalTime),void a.push(ut);let or=xc;if(Ei.size>1){let _i=qe;const Ko=[];for(;_i=_i.parentNode;){const In=Ei.get(_i);if(In){or=In;break}Ko.push(_i)}Ko.forEach(In=>Ei.set(In,or))}const as=this._buildAnimation(ut.namespaceId,Lt,Dn,l,Gs,Ci);if(ut.setRealPlayer(as),or===xc)ba.push(ut);else{const _i=this.playersByElement.get(or);_i&&_i.length&&(ut.parentPlayer=jo(_i)),a.push(ut)}}else Zl(qe,Lt.fromStyles),ut.onDestroy(()=>ns(qe,Lt.toStyles)),Mc.push(ut),T.has(qe)&&a.push(ut)}),Mc.forEach(Oe=>{const qe=l.get(Oe.element);if(qe&&qe.length){const ut=jo(qe);Oe.setRealPlayer(ut)}}),a.forEach(Oe=>{Oe.parentPlayer?Oe.syncPlayerEvents(Oe.parentPlayer):Oe.destroy()});for(let Oe=0;Oe<re.length;Oe++){const qe=re[Oe],ut=qe[zi];if(bc(qe,tg),ut&&ut.hasAnimation)continue;let Lt=[];if(p.size){let as=p.get(qe);as&&as.length&&Lt.push(...as);let _i=this.driver.query(qe,H0,!0);for(let Ko=0;Ko<_i.length;Ko++){let In=p.get(_i[Ko]);In&&In.length&&Lt.push(...In)}}const or=Lt.filter(as=>!as.destroyed);or.length?kO(this,qe,or):this.processLeaveNode(qe)}return re.length=0,ba.forEach(Oe=>{this.players.push(Oe),Oe.onDone(()=>{Oe.destroy();const qe=this.players.indexOf(Oe);this.players.splice(qe,1)}),Oe.play()}),ba}elementContainsData(e,t){let r=!1;const a=t[zi];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,l){let h=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(h=p)}else{const p=this.playersByElement.get(e);if(p){const w=!l||l==yf;p.forEach(E=>{E.queued||!w&&E.triggerName!=a||h.push(E)})}}return(r||a)&&(h=h.filter(p=>!(r&&r!=p.namespaceId||a&&a!=p.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const E=w.element,T=E!==l,x=yi(r,E,[]);this._getPreviousPlayers(E,T,h,p,t.toState).forEach(H=>{const G=H.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),H.destroy(),x.push(H)})}Zl(l,t.fromStyles)}_buildAnimation(e,t,r,a,l,h){const p=t.triggerName,w=t.element,E=[],T=new Set,x=new Set,k=t.timelines.map(G=>{const J=G.element;T.add(J);const re=J[zi];if(re&&re.removedBeforeQueried)return new yc(G.duration,G.delay);const ge=J!==w,te=function(n){const e=[];return T1(n,e),e}((r.get(J)||AO).map(Dn=>Dn.getRealPlayer())).filter(Dn=>!!Dn.element&&Dn.element===J),Ae=l.get(J),Le=h.get(J),gt=ZS(0,this._normalizer,0,G.keyframes,Ae,Le),hn=this._buildPlayer(G,gt,te);if(G.subTimeline&&a&&x.add(J),ge){const Dn=new ew(e,p,J);Dn.setRealPlayer(hn),E.push(Dn)}return hn});E.forEach(G=>{yi(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),T.forEach(G=>ji(G,a1));const H=jo(k);return H.onDestroy(()=>{T.forEach(G=>bc(G,a1)),ns(w,t.toStyles)}),x.forEach(G=>{yi(a,G,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new yc(e.duration,e.delay)}}class ew{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new yc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>x0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){yi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function pg(n){return n&&1===n.nodeType}function C1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function _1(n,e,t,r,a){const l=[];t.forEach(w=>l.push(C1(w)));const h=[];r.forEach((w,E)=>{const T={};w.forEach(x=>{const k=T[x]=e.computeStyle(E,x,a);(!k||0==k.length)&&(E[zi]=MO,h.push(E))}),n.set(E,T)});let p=0;return t.forEach(w=>C1(w,l[p++])),h}function S1(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const a=new Set(e),l=new Map;function h(p){if(!p)return 1;let w=l.get(p);if(w)return w;const E=p.parentNode;return w=t.has(E)?E:a.has(E)?1:h(E),l.set(p,w),w}return e.forEach(p=>{const w=h(p);1!==w&&t.get(w).push(p)}),t}const gg="$$classes";function ji(n,e){if(n.classList)n.classList.add(e);else{let t=n[gg];t||(t=n[gg]={}),t[e]=!0}}function bc(n,e){if(n.classList)n.classList.remove(e);else{let t=n[gg];t&&delete t[e]}}function kO(n,e,t){jo(t).onDone(()=>n.processLeaveNode(e))}function T1(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof QS?T1(r.players,e):e.push(r)}}function A1(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(l=>a.add(l)):e.set(n,r),t.delete(n),!0}class vg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new IO(e,t,r),this._timelineEngine=new CO(e,t,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,t,r,a,l){const h=e+"-"+a;let p=this._triggerCache[h];if(!p){const w=[],E=q0(this._driver,l,w);if(w.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);p=function(n,e,t){return new bO(n,e,t)}(a,E,this._normalizer),this._triggerCache[h]=p}this._transitionEngine.registerTrigger(t,a,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[l,h]=XS(r);this._timelineEngine.command(l,t,h,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,l){if("@"==r.charAt(0)){const[h,p]=XS(r);return this._timelineEngine.listen(h,t,p,l)}return this._transitionEngine.listen(e,t,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function M1(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tw(e[0]),e.length>1&&(r=tw(e[e.length-1]))):e&&(t=tw(e)),t||r?new LO(n,t,r):null}let LO=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ns(this._element,this._initialStyles),this._endStyles&&(ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zl(this._element,this._endStyles),this._endStyles=null),ns(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tw(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const a=t[r];BO(a)&&(e=e||{},e[a]=n[a])}return e}function BO(n){return"display"===n||"position"===n}const x1="animation",I1="animationend";class $O{constructor(e,t,r,a,l,h,p){this._element=e,this._name=t,this._duration=r,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=p,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(n,e){const t=rw(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),mg(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),N1(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){P1(this._element,this._name,"paused")}resume(){P1(this._element,this._name,"running")}setPosition(e){const t=R1(this._element,this._name);this._position=e*this._duration,mg(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),N1(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=rw(n,"").split(","),a=nw(r,e);a>=0&&(r.splice(a,1),mg(n,"",r.join(",")))}(this._element,this._name))}}function P1(n,e,t){mg(n,"PlayState",t,R1(n,e))}function R1(n,e){const t=rw(n,"");return t.indexOf(",")>0?nw(t.split(","),e):nw([t],e)}function nw(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function N1(n,e,t){t?n.removeEventListener(I1,e):n.addEventListener(I1,e)}function mg(n,e,t,r){const a=x1+e;if(null!=r){const l=n.style[a];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[a]=t}function rw(n,e){return n.style[x1+e]||""}class k1{constructor(e,t,r,a,l,h,p,w){this.element=e,this.keyframes=t,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=p,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $O(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:j0(this.element,r))})}this.currentSnapshot=e}}class WO extends yc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=n1(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class O1{constructor(){this._count=0}validateStyleProperty(e){return k0(e)}matchesElement(e,t){return F0(e,t)}containsElement(e,t){return O0(e,t)}query(e,t,r){return L0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(p=>n1(p));let a=`@keyframes ${t} {\n`,l="";r.forEach(p=>{l=" ";const w=parseFloat(p.offset);a+=`${l}${100*w}% {\n`,l+=" ",Object.keys(p).forEach(E=>{const T=p[E];switch(E){case"offset":return;case"easing":return void(T&&(a+=`${l}animation-timing-function: ${T};\n`));default:return void(a+=`${l}${E}: ${T};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,r,a,l,h=[],p){const w=h.filter(re=>re instanceof k1),E={};c1(r,a)&&w.forEach(re=>{let ge=re.currentSnapshot;Object.keys(ge).forEach(te=>E[te]=ge[te])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(e[a]=r[a])})}),e}(t=d1(e,t,E));if(0==r)return new WO(e,T);const x="gen_css_kf_"+this._count++,k=this.buildKeyframeElement(e,x,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(k);const G=M1(e,t),J=new k1(e,t,x,r,a,l,T,G);return J.onDestroy(()=>{var n;(n=k).parentNode.removeChild(n)}),J}}class B1{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:j0(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class XO{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(V1().toString()),this._cssKeyframesDriver=new O1}validateStyleProperty(e){return k0(e)}matchesElement(e,t){return F0(e,t)}containsElement(e,t){return O0(e,t)}query(e,t,r){return L0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,a,l,h=[],p){if(!p&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,a,l,h);const T={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(T.easing=l);const x={},k=h.filter(G=>G instanceof B1);c1(r,a)&&k.forEach(G=>{let J=G.currentSnapshot;Object.keys(J).forEach(re=>x[re]=J[re])});const H=M1(e,t=d1(e,t=t.map(G=>qo(G,!1)),x));return new B1(e,t,T,H)}}function V1(){return YS()&&Element.prototype.animate||{}}let eL=(()=>{class n extends jS{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Kn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?GS(t):t;return H1(this._renderer,null,r,"register",[a]),new tL(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Ue(Zd),Ue(ai))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class tL extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nL(this._id,e,t||{},this._renderer)}}class nL{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return H1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function H1(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const $1="@.disabled";let rL=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{const p=null==h?void 0:h.parentNode(l);p&&h.removeChild(p,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(l);return T||(T=new U1("",l,this.engine),this._rendererCache.set(l,T)),T}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const w=T=>{Array.isArray(T)?T.forEach(w):this.engine.registerTrigger(h,p,t,T.name,T)};return r.data.animation.forEach(w),new iL(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Ue(Zd),Ue(vg),Ue(Ln))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();class U1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class iL extends U1{constructor(e,t,r,a){super(t,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let oL=(()=>{class n extends vg{constructor(t,r,a){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Ue(ai),Ue(B0),Ue(Y0))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const z1=new st("AnimationModuleType"),j1=[{provide:jS,useClass:eL},{provide:Y0,useFactory:function(){return new pO}},{provide:vg,useClass:oL},{provide:Zd,useFactory:function(n,e,t){return new rL(n,e,t)},deps:[Hp,vg,Ln]}],q1=[{provide:B0,useFactory:function(){return"function"==typeof V1()?new XO:new O1}},{provide:z1,useValue:"BrowserAnimations"},...j1],dL=[{provide:B0,useClass:r1},{provide:z1,useValue:"NoopAnimations"},...j1];let fL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?dL:q1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({providers:q1,imports:[L_]}),n})();function mt(...n){return $n(n,Zs(n))}class wa extends Vn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function G1(n,e,t){n?Mi(t,n,e):e()}const wg=jr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iw(...n){return ps(1)($n(n,Zs(n)))}function W1(n){return new St(e=>{Ai(n()).subscribe(e)})}function K1(){return _n((n,e)=>{let t=null;n._refCount++;const r=new Sn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const a=n._connection,l=t;t=null,a&&(!l||a===l)&&a.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class vL extends St{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,us(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cn;const t=this.getSubject();e.add(this.source.subscribe(new Sn(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cn.EMPTY)}return e}refCount(){return K1()(this)}}function Jl(n,e){return _n((t,r)=>{let a=null,l=0,h=!1;const p=()=>h&&!a&&r.complete();t.subscribe(new Sn(r,w=>{null==a||a.unsubscribe();let E=0;const T=l++;Ai(n(w,T)).subscribe(a=new Sn(r,x=>r.next(e?e(w,x,T,E++):x),()=>{a=null,p()}))},()=>{h=!0,p()}))})}function yL(n,e,t,r,a){return(l,h)=>{let p=t,w=e,E=0;l.subscribe(new Sn(h,T=>{const x=E++;w=p?n(w,T,x):(p=!0,T),r&&h.next(w)},a&&(()=>{p&&h.next(w),h.complete()})))}}function Q1(n,e){return _n(yL(n,e,arguments.length>=2,!0))}function Ec(n,e){return _n((t,r)=>{let a=0;t.subscribe(new Sn(r,l=>n.call(e,l,a++)&&r.next(l)))})}function Go(n){return _n((e,t)=>{let l,r=null,a=!1;r=e.subscribe(new Sn(t,void 0,void 0,h=>{l=Ai(n(h,Go(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,l.subscribe(t))})}function wf(n,e){return Bt(e)?Nn(n,e,1):Nn(n,1)}function aw(n){return n<=0?()=>$t:_n((e,t)=>{let r=[];e.subscribe(new Sn(t,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}function Y1(n=wL){return _n((e,t)=>{let r=!1;e.subscribe(new Sn(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(n())))})}function wL(){return new wg}function Z1(n){return _n((e,t)=>{let r=!1;e.subscribe(new Sn(t,a=>{r=!0,t.next(a)},()=>{r||t.next(n),t.complete()}))})}function Dc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ec((a,l)=>n(a,l,r)):Yt,Ji(1),t?Z1(e):Y1(()=>new wg))}function bi(n,e,t){const r=Bt(n)||e||t?{next:n,error:e,complete:t}:n;return r?_n((a,l)=>{var h;null===(h=r.subscribe)||void 0===h||h.call(r);let p=!0;a.subscribe(new Sn(l,w=>{var E;null===(E=r.next)||void 0===E||E.call(r,w),l.next(w)},()=>{var w;p=!1,null===(w=r.complete)||void 0===w||w.call(r),l.complete()},w=>{var E;p=!1,null===(E=r.error)||void 0===E||E.call(r,w),l.error(w)},()=>{var w,E;p&&(null===(w=r.unsubscribe)||void 0===w||w.call(r)),null===(E=r.finalize)||void 0===E||E.call(r)}))}):Yt}class js{constructor(e,t){this.id=e,this.url=t}}class sw extends js{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bf extends js{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class X1 extends js{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class DL extends js{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CL extends js{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _L extends js{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SL extends js{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TL extends js{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AL extends js{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J1{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class eT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ML{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xL{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IL{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PL{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Dt="primary";class RL{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cc(n){return new RL(n)}const nT="ngNavigationCancelingError";function ow(n){const e=Error("NavigationCancelingError: "+n);return e[nT]=!0,e}function kL(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],p=n[l];if(h.startsWith(":"))a[h.substring(1)]=p;else if(h!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function rs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!rT(n[a],e[a]))return!1;return!0}function rT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function iT(n){return Array.prototype.concat.apply([],n)}function aT(n){return n.length>0?n[n.length-1]:null}function br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function is(n){return Qm(n)?n:qd(n)?$n(Promise.resolve(n)):mt(n)}const LL={exact:function lT(n,e,t){if(!tu(n.segments,e.segments)||!bg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lT(n.children[r],e.children[r],t))return!1;return!0},subset:uT},sT={exact:function(n,e){return rs(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>rT(n[t],e[t]))},ignored:()=>!0};function oT(n,e,t){return LL[t.paths](n.root,e.root,t.matrixParams)&&sT[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uT(n,e,t){return cT(n,e,e.segments,t)}function cT(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!tu(a,t)||e.hasChildren()||!bg(a,t,r))}if(n.segments.length===t.length){if(!tu(n.segments,t)||!bg(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!uT(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(tu(n.segments,a)&&bg(n.segments,a,r)&&n.children[Dt])&&cT(n.children[Dt],e,l,r)}}function bg(n,e,t){return e.every((r,a)=>sT[t](n[a].parameters,r.parameters))}class eu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return UL.serialize(this)}}class At{constructor(e,t){this.segments=e,this.children=t,this.parent=null,br(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Eg(this)}}class Ef{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cc(this.parameters)),this._parameterMap}toString(){return gT(this)}}function tu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class dT{}class fT{parse(e){const t=new ZL(e);return new eu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Df(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Dg(t)}=${Dg(a)}`).join("&"):`${Dg(t)}=${Dg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const UL=new fT;function Eg(n){return n.segments.map(e=>gT(e)).join("/")}function Df(n,e){if(!n.hasChildren())return Eg(n);if(e){const t=n.children[Dt]?Df(n.children[Dt],!1):"",r=[];return br(n.children,(a,l)=>{l!==Dt&&r.push(`${l}:${Df(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return br(n.children,(r,a)=>{a===Dt&&(t=t.concat(e(r,a)))}),br(n.children,(r,a)=>{a!==Dt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===Dt?[Df(n.children[Dt],!1)]:[`${a}:${Df(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Eg(n)}/${t[0]}`:`${Eg(n)}/(${t.join("//")})`}}function hT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dg(n){return hT(n).replace(/%3B/gi,";")}function lw(n){return hT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cg(n){return decodeURIComponent(n)}function pT(n){return Cg(n.replace(/\+/g,"%20"))}function gT(n){return`${lw(n.path)}${function(n){return Object.keys(n).map(e=>`;${lw(e)}=${lw(n[e])}`).join("")}(n.parameters)}`}const GL=/^[^\/()?;=#]+/;function _g(n){const e=n.match(GL);return e?e[0]:""}const WL=/^[^=?&#]+/,QL=/^[^&#]+/;class ZL{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Dt]=new At(e,t)),r}parseSegment(){const e=_g(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Ef(Cg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_g(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=_g(this.remaining);a&&(r=a,this.capture(r))}e[Cg(t)]=Cg(r)}parseQueryParam(e){const t=function(n){const e=n.match(WL);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(QL);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=pT(t),l=pT(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_g(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Dt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[Dt]:new At([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class vT{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return cw(e,this._root).map(t=>t.value)}}function uw(n,e){if(n===e.value)return e;for(const t of e.children){const r=uw(n,t);if(r)return r}return null}function cw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cw(n,t);if(r.length)return r.unshift(e),r}return[]}class qs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function _c(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mT extends vT{constructor(e,t){super(e),this.snapshot=t,dw(this,e)}toString(){return this.snapshot.toString()}}function yT(n,e){const t=function(n,e){const h=new Sg([],{},{},"",{},Dt,e,null,n.root,-1,{});return new bT("",new qs(h,[]))}(n,e),r=new wa([new Ef("",{})]),a=new wa({}),l=new wa({}),h=new wa({}),p=new wa(""),w=new Sc(r,a,h,p,l,Dt,e,t.root);return w.snapshot=t.root,new mT(new qs(w,[]),t)}class Sc{constructor(e,t,r,a,l,h,p,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=p,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Mt(e=>Cc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Mt(e=>Cc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wT(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:ze(ze({},e.params),t.params),data:ze(ze({},e.data),t.data),resolve:ze(ze({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Sg{constructor(e,t,r,a,l,h,p,w,E,T,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=p,this.routeConfig=w,this._urlSegment=E,this._lastPathIndex=T,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bT extends vT{constructor(e,t){super(t),this.url=e,dw(this,t)}toString(){return ET(this._root)}}function dw(n,e){e.value._routerState=n,e.children.forEach(t=>dw(n,t))}function ET(n){const e=n.children.length>0?` { ${n.children.map(ET).join(", ")} } `:"";return`${n.value}${e}`}function fw(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),rs(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),rs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hw(n,e){const t=rs(n.params,e.params)&&function(n,e){return tu(n,e)&&n.every((t,r)=>rs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hw(n.parent,e.parent))}function Cf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Cf(n,r,a);return Cf(n,r)})}(n,e,t);return new qs(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(p=>Cf(n,p)),h}}const r=function(n){return new Sc(new wa(n.url),new wa(n.params),new wa(n.queryParams),new wa(n.fragment),new wa(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>Cf(n,l));return new qs(r,a)}}function Tg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _f(n){return"object"==typeof n&&null!=n&&n.outlets}function pw(n,e,t,r,a){let l={};return r&&br(r,(h,p)=>{l[p]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),new eu(t.root===n?e:DT(t.root,n,e),l,a)}function DT(n,e,t){const r={};return br(n.children,(a,l)=>{r[l]=a===e?t:DT(a,e,t)}),new At(n.segments,r)}class CT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tg(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(_f);if(a&&a!==aT(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _T(n,e,t){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return Ag(n,e,t);const r=function(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const h=n.segments[a],p=t[r];if(_f(p))break;const w=`${p}`,E=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&E&&"object"==typeof E&&void 0===E.outlets){if(!TT(w,E,h))return l;r+=2}else{if(!TT(w,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new At(n.segments.slice(0,r.pathIndex),{});return l.children[Dt]=new At(n.segments.slice(r.pathIndex),n.children),Ag(l,0,a)}return r.match&&0===a.length?new At(n.segments,{}):r.match&&!n.hasChildren()?vw(n,e,t):r.match?Ag(n,0,a):vw(n,e,t)}function Ag(n,e,t){if(0===t.length)return new At(n.segments,{});{const r=function(n){return _f(n[0])?n[0].outlets:{[Dt]:n}}(t),a={};return br(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=_T(n.children[h],e,l))}),br(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new At(n.segments,a)}}function vw(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(_f(l)){const w=u2(l.outlets);return new At(r,w)}if(0===a&&Tg(t[0])){r.push(new Ef(n.segments[e].path,ST(t[0]))),a++;continue}const h=_f(l)?l.outlets[Dt]:`${l}`,p=a<t.length-1?t[a+1]:null;h&&p&&Tg(p)?(r.push(new Ef(h,ST(p))),a+=2):(r.push(new Ef(h,{})),a++)}return new At(r,{})}function u2(n){const e={};return br(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vw(new At([],{}),0,t))}),e}function ST(n){const e={};return br(n,(t,r)=>e[r]=`${t}`),e}function TT(n,e,t){return n==t.path&&rs(e,t.parameters)}class d2{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),fw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=_c(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),br(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=_c(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);if(r&&r.outlet){const h=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=_c(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=_c(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new PL(l.value.snapshot))}),e.children.length&&this.forwardEvent(new xL(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(fw(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const p=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(p.contexts),h.attachRef=p.componentRef,h.route=p.route.value,h.outlet&&h.outlet.attach(p.componentRef,p.route.value),fw(p.route.value),this.activateChildRoutes(e,null,h.children)}else{const p=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=p?p.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=w,h.outlet&&h.outlet.activateWith(a,w),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class mw{constructor(e,t){this.routes=e,this.module=t}}function Wo(n){return"function"==typeof n}function nu(n){return n instanceof eu}const Sf=Symbol("INITIAL_VALUE");function Tf(){return Jl(n=>function(...n){const e=Zs(n),t=Vf(n),{args:r,keys:a}=H_(n);if(0===r.length)return $n([],e);const l=new St(function(n,e,t=Yt){return r=>{G1(e,()=>{const{length:a}=n,l=new Array(a);let h=a,p=a;for(let w=0;w<a;w++)G1(e,()=>{const E=$n(n[w],e);let T=!1;E.subscribe(new Sn(r,x=>{l[w]=x,T||(T=!0,p--),p||r.next(t(l.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,a?h=>U_(a,h):Yt));return t?l.pipe($_(t)):l}(n.map(e=>e.pipe(Ji(1),function(...n){const e=Zs(n);return _n((t,r)=>{(e?iw(n,t,e):iw(n,t)).subscribe(r)})}(Sf)))).pipe(Q1((e,t)=>{let r=!1;return t.reduce((a,l,h)=>a!==Sf?a:(l===Sf&&(r=!0),r||!1!==l&&h!==t.length-1&&!nu(l)?a:l),e)},Sf),Ec(e=>e!==Sf),Mt(e=>nu(e)?e:!0===e),Ji(1)))}class y2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Af,this.attachRef=null}}class Af{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new y2,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yw=(()=>{class n{constructor(t,r,a,l,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new xn,this.deactivateEvents=new xn,this.attachEvents=new xn,this.detachEvents=new xn,this.name=l||Dt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,w=new w2(t,p,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(De(Af),De(ga),De(uc),ml("name"),De(Ny))},n.\u0275dir=Ye({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class w2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sc?this.route:e===Af?this.childContexts:this.parent.get(e,t)}}let AT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ms({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&Ls(0,"router-outlet")},directives:[yw],encapsulation:2}),n})();function MT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];b2(r,E2(e,r))}}function b2(n,e){n.children&&MT(n.children,e)}function E2(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ww(n){const e=n.children&&n.children.map(ww),t=e?lr(ze({},n),{children:e}):ze({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Dt&&(t.component=AT),t}function qi(n){return n.outlet||Dt}function xT(n,e){const t=n.filter(r=>qi(r)===e);return t.push(...n.filter(r=>qi(r)!==e)),t}const IT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Mg(n,e,t){var p;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?ze({},IT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||kL)(t,n,e);if(!a)return ze({},IT);const l={};br(a.posParams,(w,E)=>{l[E]=w.path});const h=a.consumed.length>0?ze(ze({},l),a.consumed[a.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:h,positionalParamSegments:null!=(p=a.posParams)?p:{}}}function xg(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Ig(n,e,r)&&qi(r)!==Dt)}(n,t,r)){const h=new At(e,function(n,e,t,r){const a={};a[Dt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&qi(l)!==Dt){const h=new At([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[qi(l)]=h}return a}(n,e,r,new At(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Ig(n,e,r))}(n,t,r)){const h=new At(n.segments,function(n,e,t,r,a,l){const h={};for(const p of r)if(Ig(n,t,p)&&!a[qi(p)]){const w=new At([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[qi(p)]=w}return ze(ze({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new At(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Ig(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function PT(n,e,t,r){return!!(qi(n)===r||r!==Dt&&Ig(e,t,n))&&("**"===n.path||Mg(e,n,t).matched)}function RT(n,e,t){return 0===e.length&&!n.children[t]}class Mf{constructor(e){this.segmentGroup=e||null}}class NT{constructor(e){this.urlTree=e}}function Pg(n){return new St(e=>e.error(new Mf(n)))}function kT(n){return new St(e=>e.error(new NT(n)))}function T2(n){return new St(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class x2{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(Vs)}apply(){const e=xg(this.urlTree.root,[],[],this.config).segmentGroup,t=new At(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Dt).pipe(Mt(l=>this.createUrlTree(bw(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Go(l=>{if(l instanceof NT)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Mf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Dt).pipe(Mt(a=>this.createUrlTree(bw(a),e.queryParams,e.fragment))).pipe(Go(a=>{throw a instanceof Mf?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new At([],{[Dt]:e}):e;return new eu(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Mt(l=>new At([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return $n(a).pipe(wf(l=>{const h=r.children[l],p=xT(t,l);return this.expandSegmentGroup(e,p,h,l).pipe(Mt(w=>({segment:w,outlet:l})))}),Q1((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ec((a,l)=>n(a,l,r)):Yt,aw(1),t?Z1(e):Y1(()=>new wg))}())}expandSegment(e,t,r,a,l,h){return $n(r).pipe(wf(p=>this.expandSegmentAgainstRoute(e,t,r,p,a,l,h).pipe(Go(E=>{if(E instanceof Mf)return mt(null);throw E}))),Dc(p=>!!p),Go((p,w)=>{if(p instanceof wg||"EmptyError"===p.name){if(RT(t,a,l))return mt(new At([],{}));throw new Mf(t)}throw p}))}expandSegmentAgainstRoute(e,t,r,a,l,h,p){return PT(a,t,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,h):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h):Pg(t):Pg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?kT(l):this.lineralizeSegments(r,l).pipe(Nn(h=>{const p=new At(h,{});return this.expandSegment(e,p,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){const{matched:p,consumedSegments:w,lastChild:E,positionalParamSegments:T}=Mg(t,a,l);if(!p)return Pg(t);const x=this.applyRedirectCommands(w,a.redirectTo,T);return a.redirectTo.startsWith("/")?kT(x):this.lineralizeSegments(a,x).pipe(Nn(k=>this.expandSegment(e,t,r,k.concat(l.slice(E)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?mt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(Mt(k=>(r._loadedConfig=k,new At(a,{})))):mt(new At(a,{}));const{matched:h,consumedSegments:p,lastChild:w}=Mg(t,r,a);if(!h)return Pg(t);const E=a.slice(w);return this.getChildConfig(e,r,a).pipe(Nn(x=>{const k=x.module,H=x.routes,{segmentGroup:G,slicedSegments:J}=xg(t,p,E,H),re=new At(G.segments,G.children);if(0===J.length&&re.hasChildren())return this.expandChildren(k,H,re).pipe(Mt(Le=>new At(p,Le)));if(0===H.length&&0===J.length)return mt(new At(p,{}));const ge=qi(r)===l;return this.expandSegment(k,re,H,J,ge?Dt:l,!0).pipe(Mt(Ae=>new At(p.concat(Ae.segments),Ae.children)))}))}getChildConfig(e,t,r){return t.children?mt(new mw(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?mt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Nn(a=>{return a?this.configLoader.load(e.injector,t).pipe(Mt(l=>(t._loadedConfig=l,l))):(n=t,new St(e=>e.error(ow(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):mt(new mw([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;return a&&0!==a.length?mt(a.map(h=>{const p=e.get(h);let w;if((n=p)&&Wo(n.canLoad))w=p.canLoad(t,r);else{if(!Wo(p))throw new Error("Invalid CanLoad guard");w=p(t,r)}var n;return is(w)})).pipe(Tf(),bi(h=>{if(!nu(h))return;const p=ow(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw p.url=h,p}),Mt(h=>!0===h)):mt(!0)}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return mt(r);if(a.numberOfChildren>1||!a.children[Dt])return T2(e.redirectTo);a=a.children[Dt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new eu(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return br(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const p=a.substring(1);r[l]=t[p]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let h={};return br(t.children,(p,w)=>{h[w]=this.createSegmentGroup(e,p,r,a)}),new At(l,h)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function bw(n){const e={};for(const r of Object.keys(n.children)){const l=bw(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[Dt]){const e=n.children[Dt];return new At(n.segments.concat(e.segments),e.children)}return n}(new At(n.segments,e))}class FT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rg{constructor(e,t){this.component=e,this.route=t}}function R2(n,e,t){const r=n._root;return xf(r,e?e._root:null,t,[r.value])}function Ng(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xf(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=_c(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tu(n.url,e.url)||!rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hw(n,e)||!rs(n.queryParams,e.queryParams);default:return!hw(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new FT(r)):(l.data=h.data,l._resolvedData=h._resolvedData),xf(n,e,l.component?p?p.children:null:t,r,a),w&&p&&p.outlet&&p.outlet.isActivated&&a.canDeactivateChecks.push(new Rg(p.outlet.component,h))}else h&&If(e,p,a),a.canActivateChecks.push(new FT(r)),xf(n,null,l.component?p?p.children:null:t,r,a)})(h,l[h.value.outlet],t,r.concat([h.value]),a),delete l[h.value.outlet]}),br(l,(h,p)=>If(h,t.getContext(p),a)),a}function If(n,e,t){const r=_c(n),a=n.value;br(r,(l,h)=>{If(l,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Rg(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class q2{}function OT(n){return new St(e=>e.error(n))}class W2{constructor(e,t,r,a,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=xg(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Dt);if(null===t)return null;const r=new Sg([],Object.freeze({}),Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,{},Dt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new qs(r,t),l=new bT(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=wT(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],p=xT(e,l),w=this.processSegmentGroup(p,h,l);if(null===w)return null;r.push(...w)}const a=LT(r);return a.sort((e,t)=>e.value.outlet===Dt?-1:t.value.outlet===Dt?1:e.value.outlet.localeCompare(t.value.outlet)),a}processSegment(e,t,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,a);if(null!==h)return h}return RT(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!PT(e,t,r,a))return null;let l,h=[],p=[];if("**"===e.path){const H=r.length>0?aT(r).parameters:{};l=new Sg(r,H,Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,HT(e),qi(e),e.component,e,BT(t),VT(t)+r.length,$T(e))}else{const H=Mg(t,e,r);if(!H.matched)return null;h=H.consumedSegments,p=r.slice(H.lastChild),l=new Sg(h,H.parameters,Object.freeze(ze({},this.urlTree.queryParams)),this.urlTree.fragment,HT(e),qi(e),e.component,e,BT(t),VT(t)+h.length,$T(e))}const w=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:T}=xg(t,h,p,w.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&E.hasChildren()){const H=this.processChildren(w,E);return null===H?null:[new qs(l,H)]}if(0===w.length&&0===T.length)return[new qs(l,[])];const x=qi(e)===a,k=this.processSegment(w,E,T,x?Dt:a);return null===k?null:[new qs(l,k)]}}function Y2(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function LT(n){const e=[],t=new Set;for(const r of n){if(!Y2(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=LT(r.children);e.push(new qs(r.value,a))}return e.filter(r=>!t.has(r))}function BT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function VT(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function HT(n){return n.data||{}}function $T(n){return n.resolve||{}}function Ew(n){return Jl(e=>{const t=n(e);return t?$n(t).pipe(Mt(()=>e)):mt(e)})}class iB extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Dw=new st("ROUTES");class UT{constructor(e,t,r,a){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe(Mt(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new mw(iT(h.injector.get(Dw,void 0,at.Self|at.Optional)).map(ww),h)}),Go(l=>{throw t._loader$=void 0,l}));return t._loader$=new vL(a,()=>new Vn).pipe(K1()),t._loader$}loadModuleFactory(e){return is(e()).pipe(Nn(t=>t instanceof eC?mt(t):$n(this.compiler.compileModuleAsync(t))))}}class sB{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function oB(n){throw n}function lB(n,e,t){return e.parse("/")}function zT(n,e){return mt(null)}const uB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class n{constructor(t,r,a,l,h,p,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vn,this.errorHandler=oB,this.malformedUriErrorHandler=lB,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zT,afterPreactivation:zT},this.urlHandlingStrategy=new sB,this.routeReuseStrategy=new iB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(Vs),this.console=h.get(OC);const x=h.get(Ln);this.isNgZoneEnabled=x instanceof Ln&&Ln.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new eu(new At([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new UT(h,p,k=>this.triggerEvent(new J1(k)),k=>this.triggerEvent(new eT(k))),this.routerState=yT(this.currentUrlTree,this.rootComponentType),this.transitions=new wa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ec(a=>0!==a.id),Mt(a=>lr(ze({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Jl(a=>{let l=!1,h=!1;return mt(a).pipe(bi(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?lr(ze({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jl(p=>{const w=this.browserUrlTree.toString(),E=!this.navigated||p.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||E)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return kg(p.source)&&(this.browserUrlTree=p.extractedUrl),mt(p).pipe(Jl(x=>{const k=this.transitions.getValue();return r.next(new sw(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),k!==this.transitions.getValue()?$t:Promise.resolve(x)}),function(n,e,t,r){return Jl(a=>function(n,e,t,r,a){return new x2(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe(Mt(l=>lr(ze({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),bi(x=>{this.currentNavigation=lr(ze({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,a){return Nn(l=>function(n,e,t,r,a="emptyOnly",l="legacy"){try{const h=new W2(n,e,t,r,a,l).recognize();return null===h?OT(new q2):mt(h)}catch(h){return OT(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe(Mt(h=>lr(ze({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),bi(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(H,x)}this.browserUrlTree=x.urlAfterRedirects}const k=new CL(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(k)}));if(E&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:H,source:G,restoredState:J,extras:re}=p,ge=new sw(k,this.serializeUrl(H),G,J);r.next(ge);const te=yT(H,this.rootComponentType).snapshot;return mt(lr(ze({},p),{targetSnapshot:te,urlAfterRedirects:H,extras:lr(ze({},re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),$t}),Ew(p=>{const{targetSnapshot:w,id:E,extractedUrl:T,rawUrl:x,extras:{skipLocationChange:k,replaceUrl:H}}=p;return this.hooks.beforePreactivation(w,{navigationId:E,appliedUrlTree:T,rawUrlTree:x,skipLocationChange:!!k,replaceUrl:!!H})}),bi(p=>{const w=new _L(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(w)}),Mt(p=>lr(ze({},p),{guards:R2(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(n,e){return Nn(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?mt(lr(ze({},t),{guardsResult:!0})):function(n,e,t,r){return $n(n).pipe(Nn(a=>function(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?mt(l.map(p=>{const w=Ng(p,e,a);let E;if(function(n){return n&&Wo(n.canDeactivate)}(w))E=is(w.canDeactivate(n,e,t,r));else{if(!Wo(w))throw new Error("Invalid CanDeactivate guard");E=is(w(n,e,t,r))}return E.pipe(Dc())})).pipe(Tf()):mt(!0)}(a.component,a.route,t,e,r)),Dc(a=>!0!==a,!0))}(h,r,a,n).pipe(Nn(p=>p&&function(n){return"boolean"==typeof n}(p)?function(n,e,t,r){return $n(e).pipe(wf(a=>iw(function(n,e){return null!==n&&e&&e(new ML(n)),mt(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new IL(n)),mt(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>W1(()=>mt(h.guards.map(w=>{const E=Ng(w,h.node,t);let T;if(function(n){return n&&Wo(n.canActivateChild)}(E))T=is(E.canActivateChild(r,n));else{if(!Wo(E))throw new Error("Invalid CanActivateChild guard");T=is(E(r,n))}return T.pipe(Dc())})).pipe(Tf())));return mt(l).pipe(Tf())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const a=r.map(l=>W1(()=>{const h=Ng(l,e,t);let p;if(function(n){return n&&Wo(n.canActivate)}(h))p=is(h.canActivate(e,n));else{if(!Wo(h))throw new Error("Invalid CanActivate guard");p=is(h(e,n))}return p.pipe(Dc())}));return mt(a).pipe(Tf())}(n,a.route,t))),Dc(a=>!0!==a,!0))}(r,l,n,e):mt(p)),Mt(p=>lr(ze({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),bi(p=>{if(nu(p.guardsResult)){const E=ow(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw E.url=p.guardsResult,E}const w=new SL(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(w)}),Ec(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),Ew(p=>{if(p.guards.canActivateChecks.length)return mt(p).pipe(bi(w=>{const E=new TL(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(E)}),Jl(w=>{let E=!1;return mt(w).pipe(function(n,e){return Nn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return mt(t);let l=0;return $n(a).pipe(wf(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return mt({});const l={};return $n(a).pipe(Nn(h=>function(n,e,t,r){const a=Ng(n,e,r);return is(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe(bi(p=>{l[h]=p}))),aw(1),Nn(()=>Object.keys(l).length===a.length?mt(l):$t))}(n._resolve,n,e,r).pipe(Mt(l=>(n._resolvedData=l,n.data=ze(ze({},n.data),wT(n,t).resolve),null)))}(h.route,r,n,e)),bi(()=>l++),aw(1),Nn(h=>l===a.length?mt(t):$t))})}(this.paramsInheritanceStrategy,this.ngModule.injector),bi({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),bi(w=>{const E=new AL(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(E)}))}),Ew(p=>{const{targetSnapshot:w,id:E,extractedUrl:T,rawUrl:x,extras:{skipLocationChange:k,replaceUrl:H}}=p;return this.hooks.afterPreactivation(w,{navigationId:E,appliedUrlTree:T,rawUrlTree:x,skipLocationChange:!!k,replaceUrl:!!H})}),Mt(p=>{const w=function(n,e,t){const r=Cf(n,e._root,t?t._root:void 0);return new mT(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return lr(ze({},p),{targetRouterState:w})}),bi(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>Mt(r=>(new d2(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),bi({next(){l=!0},complete(){l=!0}}),function(n){return _n((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;l||h||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null==(p=this.currentNavigation)?void 0:p.id)===a.id&&(this.currentNavigation=null)}),Go(p=>{if(h=!0,function(n){return n&&n[nT]}(p)){const w=nu(p.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const E=new X1(a.id,this.serializeUrl(a.extractedUrl),p.message);r.next(E),w?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kg(a.source)};this.scheduleNavigation(T,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new DL(a.id,this.serializeUrl(a.extractedUrl),p);r.next(w);try{a.resolve(this.errorHandler(p))}catch(E){a.reject(E)}}return $t}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(ze(ze({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var p;const a={replaceUrl:!0},l=(null==(p=t.state)?void 0:p.navigationId)?t.state:null;if(l){const w=ze({},l);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(a.state=w)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){MT(t),this.config=t.map(ww),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:w}=r,E=a||this.routerState.root,T=w?this.currentUrlTree.fragment:h;let x=null;switch(p){case"merge":x=ze(ze({},this.currentUrlTree.queryParams),l);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,a){if(0===t.length)return pw(e.root,e.root,e,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new CT(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return br(l.outlets,(w,E)=>{p[E]="string"==typeof w?w.split("/"):w}),[...a,{outlets:p}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((p,w)=>{0==w&&"."===p||(0==w&&""===p?t=!0:".."===p?e++:""!=p&&a.push(p))}),a):[...a,l]},[]);return new CT(t,e,r)}(t);if(l.toRoot())return pw(e.root,new At([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new gw(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new gw(l,l===e.root,0)}const r=Tg(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new gw(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),p=h.processChildren?Ag(h.segmentGroup,h.index,l.commands):_T(h.segmentGroup,h.index,l.commands);return pw(h.segmentGroup,p,e,r,a)}(E,this.currentUrlTree,t,x,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=nu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?ze({},uB):!1===r?ze({},cB):r,nu(t))return oT(this.currentUrlTree,t,a);const l=this.parseUrl(t);return oT(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,h){var ge,te,Ae;if(this.disposed)return Promise.resolve(!1);const p=this.transitions.value,w=kg(r)&&p&&!kg(p.source),E=p.rawUrl.toString()===t.toString(),T=p.id===(null==(ge=this.currentNavigation)?void 0:ge.id);if(w&&E&&T)return Promise.resolve(!0);let k,H,G;h?(k=h.resolve,H=h.reject,G=h.promise):G=new Promise((Le,gt)=>{k=Le,H=gt});const J=++this.navigationId;let re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),re=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!=(te=this.browserPageId)?te:0:(null!=(Ae=this.browserPageId)?Ae:0)+1):re=0,this.setTransition({id:J,targetPageId:re,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:k,reject:H,promise:G,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),G.catch(Le=>Promise.reject(Le))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=ze(ze({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(a=this.currentNavigation)?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null==(l=this.currentNavigation)?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new X1(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Wm()},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();function kg(n){return"imperative"!==n}let Fg=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.route=r,this.tabIndexAttribute=a,this.renderer=l,this.el=h,this.commands=null,this.onChanges=new Vn,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==t?r.setAttribute(a,"tabindex",t):r.removeAttribute(a,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Tc(this.skipLocationChange),replaceUrl:Tc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(De(oi),De(Sc),ml("tabindex"),De(Bs),De(mi))},n.\u0275dir=Ye({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&yr("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[vn]}),n})();function Tc(n){return""===n||!!n}class jT{}class qT{preload(e,t){return mt(null)}}let GT=(()=>{class n{constructor(t,r,a,l){this.router=t,this.injector=a,this.preloadingStrategy=l,this.loader=new UT(a,r,w=>t.triggerEvent(new J1(w)),w=>t.triggerEvent(new eT(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ec(t=>t instanceof bf),wf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Vs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return $n(a).pipe(ps(),Mt(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?mt(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Nn(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Ue(oi),Ue(Cp),Ue(Tr),Ue(jT))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})(),_w=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof sw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new tT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Wm()},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();const ru=new st("ROUTER_CONFIGURATION"),WT=new st("ROUTER_FORROOT_GUARD"),gB=[Hy,{provide:dT,useClass:fT},{provide:oi,useFactory:function(n,e,t,r,a,l,h={},p,w){const E=new oi(null,n,e,t,r,a,iT(l));return p&&(E.urlHandlingStrategy=p),w&&(E.routeReuseStrategy=w),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,E),h.enableTracing&&E.events.subscribe(T=>{var x,k;null==(x=console.group)||x.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null==(k=console.groupEnd)||k.call(console)}),E},deps:[dT,Af,Hy,Tr,Cp,Dw,ru,[class{},new ki],[class{},new ki]]},Af,{provide:Sc,useFactory:function(n){return n.routerState.root},deps:[oi]},GT,qT,class{preload(e,t){return t().pipe(Go(()=>mt(null)))}},{provide:ru,useValue:{enableTracing:!1}}];function vB(){return new UC("Router",oi)}let KT=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[gB,QT(t),{provide:WT,useFactory:wB,deps:[[oi,new ki,new _o]]},{provide:ru,useValue:r||{}},{provide:gc,useFactory:yB,deps:[Gl,[new Tl(Vy),new ki],ru]},{provide:_w,useFactory:mB,deps:[oi,rk,ru]},{provide:jT,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:qT},{provide:UC,multi:!0,useFactory:vB},[Sw,{provide:Dp,multi:!0,useFactory:CB,deps:[Sw]},{provide:YT,useFactory:_B,deps:[Sw]},{provide:FC,multi:!0,useExisting:YT}]]}}static forChild(t){return{ngModule:n,providers:[QT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Ue(WT,8),Ue(oi,8))},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({}),n})();function mB(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new _w(n,e,t)}function yB(n,e,t={}){return t.useHash?new FR(n,e):new c_(n,e)}function wB(n){return"guarded"}function QT(n){return[{provide:kv,multi:!0,useValue:n},{provide:Dw,multi:!0,useValue:n}]}let Sw=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vn}appInitializer(){return this.injector.get(RR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(p=>r=p),l=this.injector.get(oi),h=this.injector.get(ru);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?mt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(ru),a=this.injector.get(GT),l=this.injector.get(_w),h=this.injector.get(oi),p=this.injector.get(af);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Ue(Tr))},n.\u0275prov=ft({token:n,factory:n.\u0275fac}),n})();function CB(n){return n.appInitializer.bind(n)}function _B(n){return n.bootstrapListener.bind(n)}const YT=new st("Router Initializer"),TB={edgeList:[{source:1,target:2,weight:10},{source:1,target:3,weight:20},{source:2,target:4,weight:10},{source:2,target:5,weight:10},{source:2,target:3,weight:5},{source:3,target:6,weight:10},{source:3,target:7,weight:10}],vertexCount:7,animationType:"bfs",startVertex:1};let ZT=(()=>{class n{constructor(){this.elements=[],this.edges=[],this.adjacencyList={},this.startVertex=1,this.animationType="bfs",this.setGraph(TB)}setGraph({edgeList:t,vertexCount:r,animationType:a,startVertex:l}){this.animationType=a,this.startVertex=l,this.elements=[],this.edges=t,this.adjacencyList={},this.vertexCount=r;for(let h=1;h<=r;h++)this.elements.push({data:{id:`${h}`}}),this.adjacencyList[h]=[];t.forEach(h=>{this.elements.push({data:{id:`${h.source}-${h.target}`,source:`${h.source}`,target:`${h.target}`,weight:`${h.weight}`}}),this.adjacencyList[h.source].push(h.target)})}getElements(){return this.elements}getData(){return{elements:this.elements,adjacencyList:this.adjacencyList,vertexCount:this.vertexCount,animationType:this.animationType,edges:this.edges,startVertex:this.startVertex}}getAdjacencyList(){return this.adjacencyList}getAnimationType(){return this.animationType}getVertexCount(){return this.vertexCount}getEdges(){return this.edges}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AB(n,e){if(1&n){const t=me();Xe(0,"div",22),Xe(1,"div",8),Xe(2,"div",1),Xe(3,"div",10),Ls(4,"input",23),Je(),Je(),Xe(5,"div",1),Xe(6,"div",10),Ls(7,"input",24),Je(),Je(),Xe(8,"div",1),Xe(9,"div",10),Ls(10,"input",25),Je(),Je(),Xe(11,"button",26),yr("click",function(){const l=function(n){return nt.lFrame.contextLView=n,n[8]}(t).index;return NE().deleteRow(l)}),wr(12," Delete Edge "),Je(),Je(),Je()}2&n&&ac("formGroupName",e.index)}let MB=(()=>{class n{constructor(t,r,a){this.fb=t,this.dataService=r,this.router=a,this.matrixSize=2}ngOnInit(){const t=this.dataService.getData();this.graphForm=this.fb.group({animationType:t.animationType,startVertex:t.startVertex,vertexCount:t.vertexCount,edgeList:this.fb.array(t.edges.map(r=>this.fb.group(r)))})}get edgeForms(){return this.graphForm.get("edgeList")}addRow(){const t=this.fb.group({source:"",target:"",weight:""});this.edgeForms.push(t)}deleteRow(t){this.edgeForms.removeAt(t)}onSubmit(){const t=this.graphForm.getRawValue();this.dataService.setGraph(t),this.router.navigateByUrl("/")}}return n.\u0275fac=function(t){return new(t||n)(De(BF),De(ZT),De(oi))},n.\u0275cmp=ms({type:n,selectors:[["app-form"]],decls:48,vars:2,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"field"],["for","anim",1,"label"],["id","anim",1,"select"],["formControlName","animationType"],["value","bfs"],["value","dfs"],["value","mst"],[1,"field-body"],["for","vertices",1,"label"],[1,"control"],["id","vertices","min","1","type","number","placeholder","5","formControlName","vertexCount",1,"input"],["for","start",1,"label"],["id","start","min","1","type","number","placeholder","1","formControlName","startVertex",1,"input"],["formArrayName","edgeList",1,"edges","field"],[1,"field-label","is-normal"],[1,"label"],[1,"button",2,"visibility","hidden"],["class","field",3,"formGroupName",4,"ngFor","ngForOf"],[1,"field","is-grouped"],["type","button",1,"button","is-black",3,"click"],["type","submit",1,"button","is-primary"],[1,"field",3,"formGroupName"],["min","1","type","number","placeholder","Source","formControlName","source",1,"input"],["min","1","type","number","placeholder","Target","formControlName","target",1,"input"],["type","number","placeholder","Weight","formControlName","weight",1,"input"],[1,"button","is-danger",3,"click"]],template:function(t,r){1&t&&(Xe(0,"form",0),yr("ngSubmit",function(){return r.onSubmit()}),Xe(1,"div",1),Xe(2,"label",2),wr(3,"Animation Type"),Je(),Xe(4,"div",3),Xe(5,"select",4),Xe(6,"option",5),wr(7,"Breadth First Search"),Je(),Xe(8,"option",6),wr(9,"Depth First Search"),Je(),Xe(10,"option",7),wr(11,"Minimum Spanning Tree"),Je(),Je(),Je(),Je(),Xe(12,"div",1),Xe(13,"div",8),Xe(14,"div",1),Xe(15,"label",9),wr(16,"Number of Vertices"),Je(),Xe(17,"div",10),Ls(18,"input",11),Je(),Je(),Xe(19,"div",1),Xe(20,"label",12),wr(21,"Start Vertex"),Je(),Xe(22,"div",10),Ls(23,"input",13),Je(),Je(),Je(),Je(),Xe(24,"div",14),Xe(25,"div",15),Xe(26,"label",16),wr(27,"Edges"),Je(),Je(),Xe(28,"div",8),Xe(29,"div",1),Xe(30,"label",16),wr(31,"Source"),Je(),Je(),Xe(32,"div",1),Xe(33,"label",16),wr(34,"Target"),Je(),Je(),Xe(35,"div",1),Xe(36,"label",16),wr(37,"Weight"),Je(),Je(),Xe(38,"div",17),wr(39,"Delete Edge"),Je(),Je(),function(n,e,t,r,a,l,h,p){const w=me(),E=rt(),T=n+20,x=E.firstCreatePass?function(n,e,t,r,a,l,h,p,w){const E=e.consts,T=zu(e,n,4,h||null,Na(E,p));Mm(e,t,T,Na(E,w)),wu(e,T);const x=T.tViews=ip(2,T,r,a,l,e.directiveRegistry,e.pipeRegistry,null,e.schemas,E);return null!==e.queries&&(e.queries.template(e,T),x.queries=e.queries.embeddedTView(T)),T}(T,E,w,e,t,r,a,l,h):E.data[T];Pi(x,!1);const k=w[11].createComment("");se(E,w,k,x),ir(k,w),ap(w,w[T]=kb(k,w,k,x)),gu(x)&&Tm(E,w,x),null!=h&&Am(w,x,p)}(40,AB,13,1,"div",18),Je(),Xe(41,"div",19),Xe(42,"div",10),Xe(43,"button",20),yr("click",function(){return r.addRow()}),wr(44," Add Edge "),Je(),Je(),Xe(45,"div",10),Xe(46,"button",21),wr(47,"Show Animation"),Je(),Je(),Je(),Je()),2&t&&(ac("formGroup",r.graphForm),function(n){jn(rt(),me(),nr()+n,fo())}(40),ac("ngForOf",r.edgeForms.controls))},directives:[SS,gS,Yp,Jp,pS,D0,RS,kS,_0,b0,$p,Xp,b_,Zp],styles:[".id[_ngcontent-%COMP%]{max-width:100px}.field.column[_ngcontent-%COMP%]{display:flex}.field-label[_ngcontent-%COMP%]{text-align:left;margin-bottom:.5em}form.container[_ngcontent-%COMP%]{max-width:800px;margin-top:12px;padding:0 12px}"]}),n})();var XT=en(447);const JT=(n,e)=>{const t=[];let r=0;const a=new PB;for(let l=1;l<=n;l++)a.parents[l]=-1;e.sort((l,h)=>l.weight-h.weight);for(const l of e)if(a.find(l.source)!==a.find(l.target)&&(a.union(l.source,l.target),t.push(`${l.source}`),t.push(`${l.source}-${l.target}`),t.push(`${l.target}`),r++,r>=n-1))break;return t};class PB{constructor(){this.parents=[]}find(e){for(;-1!==this.parents[e];){if(!this.parents[e])throw new Error("Invalid vertex");e=this.parents[e]}return e}union(e,t){this.parents[this.find(e)]=this.find(t)}}const RB=[{path:"",component:(()=>{class n{constructor(t){this.dataService=t}ngOnInit(){this.graph=this.dataService.getData(),this.cy=XT({container:document.getElementById("cy"),elements:this.graph.elements,style:XT.stylesheet().selector("node").style({content:"data(id)"}).selector("edge").style({"curve-style":"bezier","target-arrow-shape":"triangle",width:4,"line-color":"#ddd","target-arrow-color":"#ddd"}).selector("edge[weight]").style({content:"data(weight)"}).selector(".highlighted").style({"background-color":"#61bffc","line-color":"#61bffc","target-arrow-color":"#61bffc","transition-property":"background-color, line-color, target-arrow-color","transition-duration":"0.3s"}),layout:{name:"breadthfirst",roots:"#1",directed:!1}}),this.startAnimation(),JT(this.graph.vertexCount,this.graph.edges)}startAnimation(){let t;this.cy.elements().removeClass("highlighted"),this.timeout&&clearTimeout(this.timeout),"bfs"===this.graph.animationType?t=((n,e)=>{const t=[e],r=[],a=[];for(r[e]=!0,a.push(`${e}`);t.length>0;){const l=t.pop();n[l].forEach(h=>{r[h]||(t.unshift(h),a.push(`${l}-${h}`),a.push(`${h}`),r[h]=!0)})}return a})(this.graph.adjacencyList,this.graph.startVertex):"dfs"===this.graph.animationType?t=((n,e)=>{const t=[],r=[];return function a(l,h){r[l]||(r[l]=!0,h&&t.push(`${h}-${l}`),t.push(`${l}`),n[l].forEach(p=>{a(p,l)}))}(this.graph.startVertex),t})(this.graph.adjacencyList):"mst"===this.graph.animationType&&(t=JT(this.graph.vertexCount,this.graph.edges));let r=0;const a=()=>{r<t.length&&(this.cy.getElementById(t[r]).addClass("highlighted"),r++,this.timeout=setTimeout(a,1e3))};a()}ngOnDestroy(){this.cy.destroy(),clearTimeout(this.timeout)}}return n.\u0275fac=function(t){return new(t||n)(De(ZT))},n.\u0275cmp=ms({type:n,selectors:[["app-graph"]],decls:8,vars:0,consts:[["id","cy"],[1,"field","is-grouped","is-grouped-centered"],[1,"control"],["routerLink","input",1,"button","is-black"],[1,"button","is-primary",3,"click"]],template:function(t,r){1&t&&(Ls(0,"div",0),Xe(1,"div",1),Xe(2,"p",2),Xe(3,"button",3),wr(4,"Change Input"),Je(),Je(),Xe(5,"p",2),Xe(6,"button",4),yr("click",function(){return r.startAnimation()}),wr(7," Play Animation "),Je(),Je(),Je())},directives:[Fg],styles:["#cy[_ngcontent-%COMP%]{width:100vw;height:90vh;margin:auto}"]}),n})(),data:{animation:"left"}},{path:"input",component:MB,data:{animation:"right"}}];let NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n}),n.\u0275inj=cr({imports:[[KT.forRoot(RB)],KT]}),n})();const kB=("routeAnimations",{type:7,name:"routeAnimations",definitions:[WS("left => right",eA("left")),WS("right => left",eA("right"))],options:{}});function eA(n){return[T0(":enter, :leave",Kl({position:"fixed",width:"100%"}),{optional:!0}),$F([T0(":enter",[Kl({transform:"translateX("+("left"===n?"":"-")+"100%)"}),qS("0.5s ease-in-out",Kl({transform:"translateX(0%)"}))],{optional:!0}),T0(":leave",[Kl({transform:"translateX(0%)"}),qS("0.5s ease-in-out",Kl({transform:"translateX("+("left"===n?"-":"+")+"100%)"}))],{optional:!0})])]}let FB=(()=>{class n{prepareRoute(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ms({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(t,r){if(1&t&&(Xe(0,"div"),Ls(1,"router-outlet",null,0),Je()),2&t){const a=function(n){return function(n,e){return n[e]}(nt.lFrame.contextLView,20+n)}(2);ac("@routeAnimations",r.prepareRoute(a))}},directives:[yw],styles:[""],data:{animation:[kB]}}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=kr({type:n,bootstrap:[FB]}),n.\u0275inj=cr({providers:[],imports:[[L_,NB,zS,fL]]}),n})();KC=!1,xk().bootstrapModule(OB).catch(n=>console.error(n))}},Pn=>{Pn(Pn.s=677)}]);